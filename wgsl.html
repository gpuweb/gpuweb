<!doctype html><html lang="en">
 <head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
  <title>WebGPU Shading Language</title>
  <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
<style data-fill-with="stylesheet">/******************************************************************************
 *                   Style sheet for the W3C specifications                   *
 *
 * Special classes handled by this style sheet include:
 *
 * Indices
 *   - .toc for the Table of Contents (<ol class="toc">)
 *     + <span class="secno"> for the section numbers
 *   - #toc for the Table of Contents (<nav id="toc">)
 *   - ul.index for Indices (<a href="#ref">term</a><span>, in §N.M</span>)
 *   - table.index for Index Tables (e.g. for properties or elements)
 *
 * Structural Markup
 *   - table.data for general data tables
 *     -> use 'scope' attribute, <colgroup>, <thead>, and <tbody> for best results !
 *     -> use <table class='complex data'> for extra-complex tables
 *     -> use <td class='long'> for paragraph-length cell content
 *     -> use <td class='pre'> when manual line breaks/indentation would help readability
 *   - dl.switch for switch statements
 *   - ol.algorithm for algorithms (helps to visualize nesting)
 *   - .figure and .caption (HTML4) and figure and figcaption (HTML5)
 *     -> .sidefigure for right-floated figures
 *   - ins/del
 *
 * Code
 *   - pre and code
 *
 * Special Sections
 *   - .note       for informative notes             (div, p, span, aside, details)
 *   - .example    for informative examples          (div, p, pre, span)
 *   - .issue      for issues                        (div, p, span)
 *   - .assertion  for assertions                    (div, p, span)
 *   - .advisement for loud normative statements     (div, p, strong)
 *   - .annoying-warning for spec obsoletion notices (div, aside, details)
 *
 * Definition Boxes
 *   - pre.def   for WebIDL definitions
 *   - table.def for tables that define other entities (e.g. CSS properties)
 *   - dl.def    for definition lists that define other entitles (e.g. HTML elements)
 *
 * Numbering
 *   - .secno for section numbers in .toc and headings (<span class='secno'>3.2</span>)
 *   - .marker for source-inserted example/figure/issue numbers (<span class='marker'>Issue 4</span>)
 *   - ::before styled for CSS-generated issue/example/figure numbers:
 *     -> Documents wishing to use this only need to add
 *        figcaption::before,
 *        .caption::before { content: "Figure "  counter(figure) " ";  }
 *        .example::before { content: "Example " counter(example) " "; }
 *        .issue::before   { content: "Issue "   counter(issue) " ";   }
 *
 * Header Stuff (ignore, just don't conflict with these classes)
 *   - .head for the header
 *   - .copyright for the copyright
 *
 * Miscellaneous
 *   - .overlarge for things that should be as wide as possible, even if
 *     that overflows the body text area. This can be used on an item or
 *     on its container, depending on the effect desired.
 *     Note that this styling basically doesn't help at all when printing,
 *     since A4 paper isn't much wider than the max-width here.
 *     It's better to design things to fit into a narrower measure if possible.
 *   - js-added ToC jump links (see fixup.js)
 *
 ******************************************************************************/

/* color variables included separately for reliability */

/******************************************************************************/
/*                                   Body                                     */
/******************************************************************************/

	html {
		color: black;
		color: var(--text);
		background-color: white;
		background-color: var(--bg);
	}

	body {
		counter-reset: example figure issue;

		/* Layout */
		max-width: 50em;               /* limit line length to 50em for readability   */
		margin: 0 auto;                /* center text within page                     */
		padding: 1.6em 1.5em 2em 50px; /* assume 16px font size for downlevel clients */
		padding: 1.6em 1.5em 2em calc(26px + 1.5em); /* leave space for status flag     */

		/* Typography */
		line-height: 1.5;
		font-family: sans-serif;
		widows: 2;
		orphans: 2;
		word-wrap: break-word;
		overflow-wrap: break-word;
		hyphens: auto;

		background: transparent top left fixed no-repeat;
		background-size: 25px auto;
	}


/******************************************************************************/
/*                         Front Matter & Navigation                          */
/******************************************************************************/

/** Header ********************************************************************/

	div.head { margin-bottom: 1em }
	div.head hr { border-style: solid; }

	div.head h1 {
		font-weight: bold;
		margin: 0 0 .1em;
		font-size: 220%;
	}

	div.head h2 { margin-bottom: 1.5em;}

/** W3C Logo ******************************************************************/

	.head .logo {
		float: right;
		margin: 0.4rem 0 0.2rem .4rem;
	}

	.head img[src*="logos/W3C"] {
		display: block;
		border: solid #1a5e9a;
		border: solid var(--logo-bg);
		border-width: .65rem .7rem .6rem;
		border-radius: .4rem;
		background: #1a5e9a;
		background: var(--logo-bg);
		color: white;
		color: var(--logo-text);
		font-weight: bold;
	}

	.head a:hover > img[src*="logos/W3C"],
	.head a:focus > img[src*="logos/W3C"] {
		opacity: .8;
	}

	.head a:active > img[src*="logos/W3C"] {
		background: #c00;
		background: var(--logo-active-bg);
		border-color: #c00;
		border-color: var(--logo-active-bg);
	}

	/* see also additional rules in Link Styling section */

/** Copyright *****************************************************************/

	p.copyright,
	p.copyright small { font-size: small }

/** Back to Top / ToC Toggle **************************************************/

	@media print {
		#toc-nav {
			display: none;
		}
	}
	@media not print {
		#toc-nav {
			position: fixed;
			z-index: 2;
			bottom: 0; left: 0;
			margin: 0;
			min-width: 1.33em;
			border-top-right-radius: 2rem;
			box-shadow: 0 0 2px;
			font-size: 1.5em;
		}
		#toc-nav > a {
			display: block;
			white-space: nowrap;

			height: 1.33em;
			padding: .1em 0.3em;
			margin: 0;

			box-shadow: 0 0 2px;
			border: none;
			border-top-right-radius: 1.33em;

			color: #707070;
			color: var(--tocnav-normal-text);
			background: white;
			background: var(--tocnav-normal-bg);
		}
		#toc-nav > a:hover,
		#toc-nav > a:focus {
			color: black;
			color: var(--tocnav-hover-text);
			background: #f8f8f8;
			background: var(--tocnav-hover-bg);
		}
		#toc-nav > a:active {
			color: #c00;
			color: var(--tocnav-active-text);
			background: white;
			background: var(--tocnav-active-bg);
		}

		#toc-nav > #toc-jump {
			padding-bottom: 2em;
			margin-bottom: -1.9em;
		}

		/* statusbar gets in the way on keyboard focus; remove once browsers fix */
		#toc-nav > a[href="#toc"]:not(:hover):focus:last-child {
			padding-bottom: 1.5rem;
		}

		#toc-nav:not(:hover) > a:not(:focus) > span + span {
			/* Ideally this uses :focus-within on #toc-nav */
			display: none;
		}
		#toc-nav > a > span + span {
			padding-right: 0.2em;
		}
	}

/** ToC Sidebar ***************************************************************/

	/* Floating sidebar */
	@media screen {
		body.toc-sidebar #toc {
			position: fixed;
			top: 0; bottom: 0;
			left: 0;
			width: 23.5em;
			max-width: 80%;
			max-width: calc(100% - 2em - 26px);
			overflow: auto;
			padding: 0 1em;
			padding-left: 42px;
			padding-left: calc(1em + 26px);
			color: black;
			color: var(--tocsidebar-text);
			background: inherit;
			background-color: #f7f8f9;
			background-color: var(--tocsidebar-bg);
			z-index: 1;
			box-shadow: -.1em 0 .25em rgba(0,0,0,.1) inset;
			box-shadow: -.1em 0 .25em var(--tocsidebar-shadow) inset;
		}
		body.toc-sidebar #toc h2 {
			margin-top: .8rem;
			font-variant: small-caps;
			font-variant: all-small-caps;
			text-transform: lowercase;
			font-weight: bold;
			color: gray;
			color: hsla(203,20%,40%,.7);
			color: var(--tocsidebar-heading-text);
		}
		body.toc-sidebar #toc-jump:not(:focus) {
			width: 0;
			height: 0;
			padding: 0;
			position: absolute;
			overflow: hidden;
		}
	}
	/* Hide main scroller when only the ToC is visible anyway */
	@media screen and (max-width: 28em) {
		body.toc-sidebar {
			overflow: hidden;
		}
	}

	/* Sidebar with its own space */
	@media screen and (min-width: 78em) {
		body:not(.toc-inline) #toc {
			position: fixed;
			top: 0; bottom: 0;
			left: 0;
			width: 23.5em;
			overflow: auto;
			padding: 0 1em;
			padding-left: 42px;
			padding-left: calc(1em + 26px);
			color: black;
			color: var(--tocsidebar-text);
			background: inherit;
			background-color: #f7f8f9;
			background-color: var(--tocsidebar-bg);
			z-index: 1;
			box-shadow: -.1em 0 .25em rgba(0,0,0,.1) inset;
			box-shadow: -.1em 0 .25em var(--tocsidebar-shadow) inset;
		}
		body:not(.toc-inline) #toc h2 {
			margin-top: .8rem;
			font-variant: small-caps;
			font-variant: all-small-caps;
			text-transform: lowercase;
			font-weight: bold;
			color: gray;
			color: hsla(203,20%,40%,.7);
			color: var(--tocsidebar-heading-text);
		}

		body:not(.toc-inline) {
			padding-left: 29em;
		}
		/* See also Overflow section at the bottom */

		body:not(.toc-inline) #toc-jump:not(:focus) {
			width: 0;
			height: 0;
			padding: 0;
			position: absolute;
			overflow: hidden;
		}
	}
	@media screen and (min-width: 90em) {
		body:not(.toc-inline) {
			margin: 0 4em;
		}
	}

/******************************************************************************/
/*                                Sectioning                                  */
/******************************************************************************/

/** Headings ******************************************************************/

	h1, h2, h3, h4, h5, h6, dt {
		page-break-after: avoid;
		page-break-inside: avoid;
		font: 100% sans-serif;   /* Reset all font styling to clear out UA styles */
		font-family: inherit;    /* Inherit the font family. */
		line-height: 1.2;        /* Keep wrapped headings compact */
		hyphens: manual;         /* Hyphenated headings look weird */
	}

	h2, h3, h4, h5, h6 {
		margin-top: 3rem;
	}

	h1, h2, h3 {
		color: #005A9C;
		color: var(--heading-text);
	}

	h1 { font-size: 170%; }
	h2 { font-size: 140%; }
	h3 { font-size: 120%; }
	h4 { font-weight: bold; }
	h5 { font-style: italic; }
	h6 { font-variant: small-caps; }
	dt { font-weight: bold; }

/** Subheadings ***************************************************************/

	h1 + h2,
	#subtitle {
		/* #subtitle is a subtitle in an H2 under the H1 */
		margin-top: 0;
	}
	h2 + h3,
	h3 + h4,
	h4 + h5,
	h5 + h6 {
		margin-top: 1.2em; /* = 1 x line-height */
	}

/** Section divider ***********************************************************/

	:not(.head) > :not(.head) + hr {
		font-size: 1.5em;
		text-align: center;
		margin: 1em auto;
		height: auto;
		color: black;
		color: var(--hr-text);
		border: transparent solid 0;
		background: transparent;
	}
	:not(.head) > hr::before {
		content: "\2727\2003\2003\2727\2003\2003\2727";
	}

/******************************************************************************/
/*                            Paragraphs and Lists                            */
/******************************************************************************/

	p {
		margin: 1em 0;
	}

	dd > p:first-child,
	li > p:first-child {
		margin-top: 0;
	}

	ul, ol {
		margin-left: 0;
		padding-left: 2em;
	}

	li {
		margin: 0.25em 0 0.5em;
		padding: 0;
	}

	dl dd {
		margin: 0 0 .5em 2em;
	}

	.head dd + dd { /* compact for header */
		margin-top: -.5em;
	}

	/* Style for algorithms */
	ol.algorithm ol:not(.algorithm),
	.algorithm > ol ol:not(.algorithm) {
	 border-left: 0.5em solid #DEF;
	 border-left: 0.5em solid var(--algo-border);
	}

	/* Put nice boxes around each algorithm. */
	[data-algorithm]:not(.heading) {
	  padding: .5em;
	  border: thin solid #ddd;
	  border: thin solid var(--algo-border);
	  border-radius: .5em;
	  margin: .5em calc(-0.5em - 1px);
	}
	[data-algorithm]:not(.heading) > :first-child {
	  margin-top: 0;
	}
	[data-algorithm]:not(.heading) > :last-child {
	  margin-bottom: 0;
	}

	/* Style for switch/case <dl>s */
	dl.switch > dd > ol.only,
	dl.switch > dd > .only > ol {
	 margin-left: 0;
	}
	dl.switch > dd > ol.algorithm,
	dl.switch > dd > .algorithm > ol {
	 margin-left: -2em;
	}
	dl.switch {
	 padding-left: 2em;
	}
	dl.switch > dt {
	 text-indent: -1.5em;
	 margin-top: 1em;
	}
	dl.switch > dt + dt {
	 margin-top: 0;
	}
	dl.switch > dt::before {
	 content: '\21AA';
	 padding: 0 0.5em 0 0;
	 display: inline-block;
	 width: 1em;
	 text-align: right;
	 line-height: 0.5em;
	}

/** Terminology Markup ********************************************************/


/******************************************************************************/
/*                                 Inline Markup                              */
/******************************************************************************/

/** Terminology Markup ********************************************************/
	dfn   { /* Defining instance */
		font-weight: bolder;
	}
	a > i { /* Instance of term */
		font-style: normal;
	}
	dt dfn code, code.idl {
		font-size: medium;
	}
	dfn var {
		font-style: normal;
	}

/** Change Marking ************************************************************/

	del {
		color: red;
		color: var(--del-text);
		background: transparent;
		background: var(--del-bg);
		text-decoration: line-through;
	}
	ins {
		color: #080;
		color: var(--ins-text);
		background: transparent;
		background: var(--ins-bg);
		text-decoration: underline;
	}

/** Miscellaneous improvements to inline formatting ***************************/

	sup {
		vertical-align: super;
		font-size: 80%
	}

/******************************************************************************/
/*                                    Code                                    */
/******************************************************************************/

/** General monospace/pre rules ***********************************************/

	pre, code, samp {
		font-family: Menlo, Consolas, "DejaVu Sans Mono", Monaco, monospace;
		font-size: .9em;
		hyphens: none;
		text-transform: none;
		text-align: left;
		text-align: start;
		font-variant: normal;
		orphans: 3;
		widows: 3;
		page-break-before: avoid;
	}
	pre code,
	code code {
		font-size: 100%;
	}

	pre {
		margin-top: 1em;
		margin-bottom: 1em;
		overflow: auto;
	}

/** Inline Code fragments *****************************************************/

  /* Do something nice. */

/******************************************************************************/
/*                                    Links                                   */
/******************************************************************************/

/** General Hyperlinks ********************************************************/

	/* We hyperlink a lot, so make it less intrusive */
	a[href] {
		color: #034575;
		color: var(--a-normal-text);
		text-decoration: none;
		border-bottom: 1px solid #707070;
		border-bottom: 1px solid var(--a-normal-underline);
		/* Need a bit of extending for it to look okay */
		padding: 0 1px 0;
		margin: 0 -1px 0;
	}
	a:visited {
		color: #034575;
		color: var(--a-visited-text);
		border-bottom-color: #bbb;
		border-bottom-color: var(--a-visited-underline);
	}

	/* Use distinguishing colors when user is interacting with the link */
	a[href]:focus,
	a[href]:hover {
		background: #f8f8f8;
		background: rgba(75%, 75%, 75%, .25);
		background: var(--a-hover-bg);
		border-bottom-width: 3px;
		margin-bottom: -2px;
	}
	a[href]:active {
		color: #c00;
		color: var(--a-active-text);
		border-color: #c00;
		border-color: var(--a-active-underline);
	}

	/* Backout above styling for W3C logo */
	.head .logo,
	.head .logo a {
		border: none;
		text-decoration: none;
		background: transparent;
	}

/******************************************************************************/
/*                                    Images                                  */
/******************************************************************************/

	img {
		border-style: none;
	}

	img, svg {
		/* Intentionally not color-scheme aware. */
		background: white;
	}

	/* For autogen numbers, add
	   .caption::before, figcaption::before { content: "Figure " counter(figure) ". "; }
	*/

	figure, .figure, .sidefigure {
		page-break-inside: avoid;
		text-align: center;
		margin: 2.5em 0;
	}
	.figure img,    .sidefigure img,    figure img,
	.figure object, .sidefigure object, figure object {
		max-width: 100%;
		margin: auto;
		height: auto;
	}
	.figure pre, .sidefigure pre, figure pre {
		text-align: left;
		display: table;
		margin: 1em auto;
	}
	.figure table, figure table {
		margin: auto;
	}
	@media screen and (min-width: 20em) {
		.sidefigure {
			float: right;
			width: 50%;
			margin: 0 0 0.5em 0.5em
		}
	}
	.caption, figcaption, caption {
		font-style: italic;
		font-size: 90%;
	}
	.caption::before, figcaption::before, figcaption > .marker {
		font-weight: bold;
	}
	.caption, figcaption {
		counter-increment: figure;
	}

	/* DL list is indented 2em, but figure inside it is not */
	dd > .figure, dd > figure { margin-left: -2em }

/******************************************************************************/
/*                             Colored Boxes                                  */
/******************************************************************************/

	.issue, .note, .example, .assertion, .advisement, blockquote {
		padding: .5em;
		border: .5em;
		border-left-style: solid;
		page-break-inside: avoid;
	}
	span.issue, span.note {
		padding: .1em .5em .15em;
		border-right-style: solid;
	}

	.issue,
	.note,
	.example,
	.advisement,
	.assertion,
	blockquote {
		margin: 1em auto;
	}
	.note  > p:first-child,
	.issue > p:first-child,
	blockquote > :first-child {
		margin-top: 0;
	}
	blockquote > :last-child {
		margin-bottom: 0;
	}


	.issue::before, .issue > .marker,
	.example::before, .example > .marker,
	.note::before, .note > .marker,
	details.note > summary > .marker {
		text-transform: uppercase;
		padding-right: 1em;
	}

	.example::before, .example > .marker {
		display: block;
		padding-right: 0em;
	}

/** Blockquotes ***************************************************************/

	blockquote {
		border-color: silver;
		border-color: var(--blockquote-border);
		background: transparent;
		background: var(--blockquote-bg);
		color: currentcolor;
		color: var(--blockquote-text);
	}

/** Open issue ****************************************************************/

	.issue {
		border-color: #e05252;
		border-color: var(--issue-border);
		background: #fbe9e9;
		background: var(--issue-bg);
		color: black;
		color: var(--issue-text);
		counter-increment: issue;
		overflow: auto;
	}
	.issue::before, .issue > .marker {
		color: #831616;
		color: var(--issueheading-text);
	}
	/* Add .issue::before { content: "Issue " counter(issue) " "; } for autogen numbers,
	   or use class="marker" to mark up the issue number in source. */

/** Example *******************************************************************/

	.example {
		border-color: #e0cb52;
		border-color: var(--example-border);
		background: #fcfaee;
		background: var(--example-bg);
		color: black;
		color: var(--example-text);
		counter-increment: example;
		overflow: auto;
		clear: both;
	}
	.example::before, .example > .marker {
		color: #574b0f;
		color: var(--exampleheading-text);
	}
	/* Add .example::before { content: "Example " counter(example) " "; } for autogen numbers,
	   or use class="marker" to mark up the example number in source. */

/** Non-normative Note ********************************************************/

	.note {
		border-color: #52e052;
		border-color: var(--note-border);
		background: #e9fbe9;
		background: var(--note-bg);
		color: black;
		color: var(--note-text);
		overflow: auto;
	}

	.note::before, .note > .marker,
	details.note > summary {
		color: hsl(120, 70%, 30%);
		color: var(--noteheading-text);
	}
	/* Add .note::before { content: "Note "; } for autogen label,
	   or use class="marker" to mark up the label in source. */

	details.note[open] > summary {
		border-bottom: 1px silver solid;
		border-bottom: 1px var(--notesummary-underline) solid;
	}

/** Assertion Box *************************************************************/
	/*  for assertions in algorithms */

	.assertion {
		border-color: #AAA;
		border-color: var(--assertion-border);
		background: #EEE;
		background: var(--assertion-bg);
		color: black;
		color: var(--assertion-text);
	}

/** Advisement Box ************************************************************/
	/*  for attention-grabbing normative statements */

	.advisement {
		border-color: orange;
		border-color: var(--advisement-border);
		border-style: none solid;
		background: #fec;
		background: var(--advisement-bg);
		color: black;
		color: var(--advisement-text);
	}
	strong.advisement {
		display: block;
		text-align: center;
	}
	.advisement::before, .advisement > .marker {
		color: #b35f00;
		color: var(--advisementheading-text);
	}

/** Spec Obsoletion Notice ****************************************************/
	/* obnoxious obsoletion notice for older/abandoned specs. */

	details {
		display: block;
	}
	summary {
		font-weight: bolder;
	}

	.annoying-warning:not(details),
	details.annoying-warning:not([open]) > summary,
	details.annoying-warning[open] {
		background: hsla(40,100%,50%,0.95);
		background: var(--warning-bg);
		color: black;
		color: var(--warning-text);
		padding: .75em 1em;
		border: red;
		border: var(--warning-border);
		border-style: solid none;
		box-shadow: 0 2px 8px black;
		text-align: center;
	}
	.annoying-warning :last-child {
		margin-bottom: 0;
	}

	@media not print {
		details.annoying-warning[open] {
			position: fixed;
			left: 0;
			right: 0;
			bottom: 2em;
			z-index: 1000;
		}
	}

	details.annoying-warning:not([open]) > summary {
		text-align: center;
	}

/** Entity Definition Boxes ***************************************************/

	.def {
		padding: .5em 1em;
		background: #def;
		background: var(--def-bg);
		margin: 1.2em 0;
		border-left: 0.5em solid #8ccbf2;
		border-left: 0.5em solid var(--def-border);
		color: black;
		color: var(--def-text);
	}

/******************************************************************************/
/*                                    Tables                                  */
/******************************************************************************/

	th, td {
		text-align: left;
		text-align: start;
	}

/** Property/Descriptor Definition Tables *************************************/

	table.def {
		/* inherits .def box styling, see above */
		width: 100%;
		border-spacing: 0;
	}

	table.def td,
	table.def th {
		padding: 0.5em;
		vertical-align: baseline;
		border-bottom: 1px solid #bbd7e9;
		border-bottom: 1px solid var(--defrow-border);
	}

	table.def > tbody > tr:last-child th,
	table.def > tbody > tr:last-child td {
		border-bottom: 0;
	}

	table.def th {
		font-style: italic;
		font-weight: normal;
		padding-left: 1em;
		width: 3em;
	}

	/* For when values are extra-complex and need formatting for readability */
	table td.pre {
		white-space: pre-wrap;
	}

	/* A footnote at the bottom of a def table */
	table.def td.footnote {
		padding-top: 0.6em;
	}
	table.def td.footnote::before {
		content: " ";
		display: block;
		height: 0.6em;
		width: 4em;
		border-top: thin solid;
	}

/** Data tables (and properly marked-up index tables) *************************/
	/*
		 <table class="data"> highlights structural relationships in a table
		 when correct markup is used (e.g. thead/tbody, th vs. td, scope attribute)

		 Use class="complex data" for particularly complicated tables --
		 (This will draw more lines: busier, but clearer.)

		 Use class="long" on table cells with paragraph-like contents
		 (This will adjust text alignment accordingly.)
		 Alternately use class="longlastcol" on tables, to have the last column assume "long".
	*/

	table {
		word-wrap: normal;
		overflow-wrap: normal;
		hyphens: manual;
	}

	table.data,
	table.index {
		margin: 1em auto;
		border-collapse: collapse;
		border: hidden;
		width: 100%;
	}
	table.data caption,
	table.index caption {
		max-width: 50em;
		margin: 0 auto 1em;
	}

	table.data td,  table.data th,
	table.index td, table.index th {
		padding: 0.5em 1em;
		border-width: 1px;
		border-color: silver;
		border-color: var(--datacell-border);
		border-top-style: solid;
	}

	table.data thead td:empty {
		padding: 0;
		border: 0;
	}

	table.data  thead,
	table.index thead,
	table.data  tbody,
	table.index tbody {
		border-bottom: 2px solid;
	}

	table.data colgroup,
	table.index colgroup {
		border-left: 2px solid;
	}

	table.data  tbody th:first-child,
	table.index tbody th:first-child  {
		border-right: 2px solid;
		border-top: 1px solid silver;
		border-top: 1px solid var(--datacell-border);
		padding-right: 1em;
	}

	table.data th[colspan],
	table.data td[colspan] {
		text-align: center;
	}

	table.complex.data th,
	table.complex.data td {
		border: 1px solid silver;
		border: 1px solid var(--datacell-border);
		text-align: center;
	}

	table.data.longlastcol td:last-child,
	table.data td.long {
		vertical-align: baseline;
		text-align: left;
	}

	table.data img {
		vertical-align: middle;
	}


/*
Alternate table alignment rules

	table.data,
	table.index {
		text-align: center;
	}

	table.data  thead th[scope="row"],
	table.index thead th[scope="row"] {
		text-align: right;
	}

	table.data  tbody th:first-child,
	table.index tbody th:first-child  {
		text-align: right;
	}

Possible extra rowspan handling

	table.data  tbody th[rowspan]:not([rowspan='1']),
	table.index tbody th[rowspan]:not([rowspan='1']),
	table.data  tbody td[rowspan]:not([rowspan='1']),
	table.index tbody td[rowspan]:not([rowspan='1']) {
		border-left: 1px solid silver;
	}

	table.data  tbody th[rowspan]:first-child,
	table.index tbody th[rowspan]:first-child,
	table.data  tbody td[rowspan]:first-child,
	table.index tbody td[rowspan]:first-child{
		border-left: 0;
		border-right: 1px solid silver;
	}
*/

/******************************************************************************/
/*                                  Indices                                   */
/******************************************************************************/


/** Table of Contents *********************************************************/

	.toc a {
		/* More spacing; use padding to make it part of the click target. */
		padding-top: 0.1rem;
		/* Larger, more consistently-sized click target */
		display: block;
		/* Reverse color scheme */
		color: black;
		color: var(--toclink-text);
		border-color: #3980b5;
		border-color: var(--toclink-underline);
	}
	.toc a:visited {
		color: black;
		color: var(--toclink-visited-text);
		border-color: #054572;
		border-color: var(--toclink-visited-underline);
	}
	.toc a:not(:focus):not(:hover) {
		/* Allow colors to cascade through from link styling */
		border-bottom-color: transparent;
	}

	.toc, .toc ol, .toc ul, .toc li {
		list-style: none; /* Numbers must be inlined into source */
		/* because generated content isn't search/selectable and markers can't do multilevel yet */
		margin:  0;
		padding: 0;
		line-height: 1.1rem; /* consistent spacing */
	}

	/* ToC not indented until third level, but font style & margins show hierarchy */
	.toc > li             { font-weight: bold;   }
	.toc > li li          { font-weight: normal; }
	.toc > li li li       { font-size:   95%;    }
	.toc > li li li li    { font-size:   90%;    }
	.toc > li li li li .secno { font-size: 85%; }
	.toc > li li li li li { font-size:   85%;    }
	.toc > li li li li li .secno { font-size: 100%; }

	/* @supports not (display:grid) { */
		.toc > li             { margin: 1.5rem 0;    }
		.toc > li li          { margin: 0.3rem 0;    }
		.toc > li li li       { margin-left: 2rem;   }

		/* Section numbers in a column of their own */
		.toc .secno {
			float: left;
			width: 4rem;
			white-space: nowrap;
		}

		.toc li {
			clear: both;
		}

		:not(li) > .toc              { margin-left:  5rem; }
		.toc .secno                  { margin-left: -5rem; }
		.toc > li li li .secno       { margin-left: -7rem; }
		.toc > li li li li .secno    { margin-left: -9rem; }
		.toc > li li li li li .secno { margin-left: -11rem; }

		/* Tighten up indentation in narrow ToCs */
		@media (max-width: 30em) {
			:not(li) > .toc              { margin-left:  4rem; }
			.toc .secno                  { margin-left: -4rem; }
			.toc > li li li              { margin-left:  1rem; }
			.toc > li li li .secno       { margin-left: -5rem; }
			.toc > li li li li .secno    { margin-left: -6rem; }
			.toc > li li li li li .secno { margin-left: -7rem; }
		}
		/* Loosen it on wide screens */
		@media screen and (min-width: 78em) {
			body:not(.toc-inline) :not(li) > .toc              { margin-left:  4rem; }
			body:not(.toc-inline) .toc .secno                  { margin-left: -4rem; }
			body:not(.toc-inline) .toc > li li li              { margin-left:  1rem; }
			body:not(.toc-inline) .toc > li li li .secno       { margin-left: -5rem; }
			body:not(.toc-inline) .toc > li li li li .secno    { margin-left: -6rem; }
			body:not(.toc-inline) .toc > li li li li li .secno { margin-left: -7rem; }
	}
	/* } */

	@supports (display:grid) and (display:contents) {
		/* Use #toc over .toc to override non-@supports rules. */
		#toc {
			display: grid;
			align-content: start;
			grid-template-columns: auto 1fr;
			grid-column-gap: 1rem;
			column-gap: 1rem;
			grid-row-gap: .6rem;
			row-gap: .6rem;
		}
		#toc h2 {
			grid-column: 1 / -1;
			margin-bottom: 0;
		}
		#toc ol,
		#toc li,
		#toc a {
			display: contents;
			/* Switch <a> to subgrid when supported */
		}
		#toc span {
			margin: 0;
		}
		#toc > .toc > li > a > span {
			/* The spans of the top-level list,
			   comprising the first items of each top-level section. */
			margin-top: 1.1rem;
		}
		#toc#toc .secno { /* Ugh, need more specificity to override base.css */
			grid-column: 1;
			width: auto;
			margin-left: 0;
		}
		#toc .content {
			grid-column: 2;
			width: auto;
			margin-right: 1rem;
		}
		#toc .content:hover,
		#toc .content:focus {
			background: rgba(75%, 75%, 75%, .25);
			background: var(--a-hover-bg);
			border-bottom: 3px solid #054572;
			border-bottom: 3px solid var(--toclink-underline);
			margin-bottom: -3px;
		}
		#toc li li li .content {
			margin-left: 1rem;
		}
		#toc li li li li .content {
			margin-left: 2rem;
		}
	}


/** Index *********************************************************************/

	/* Index Lists: Layout */
	ul.index       { margin-left: 0; columns: 15em; text-indent: 1em hanging; }
	ul.index li    { margin-left: 0; list-style: none; break-inside: avoid; }
	ul.index li li { margin-left: 1em }
	ul.index dl    { margin-top: 0; }
	ul.index dt    { margin: .2em 0 .2em 20px;}
	ul.index dd    { margin: .2em 0 .2em 40px;}
	/* Index Lists: Typography */
	ul.index ul,
	ul.index dl { font-size: smaller; }
	@media not print {
		ul.index li span {
			white-space: nowrap;
			color: transparent; }
		ul.index li a:hover + span,
		ul.index li a:focus + span {
			color: #707070;
			color: var(--indexinfo-text);
		}
	}

/** Index Tables *****************************************************/
	/* See also the data table styling section, which this effectively subclasses */

	table.index {
		font-size: small;
		border-collapse: collapse;
		border-spacing: 0;
		text-align: left;
		margin: 1em 0;
	}

	table.index td,
	table.index th {
		padding: 0.4em;
	}

	table.index tr:hover td:not([rowspan]),
	table.index tr:hover th:not([rowspan]) {
		color: black;
		color: var(--indextable-hover-text);
		background: #f7f8f9;
		background: var(--indextable-hover-bg);
	}

	/* The link in the first column in the property table (formerly a TD) */
	table.index th:first-child a {
		font-weight: bold;
	}

/******************************************************************************/
/*                                    Print                                   */
/******************************************************************************/

	@media print {
		/* Pages have their own margins. */
		html {
			margin: 0;
		}
		/* Serif for print. */
		body {
			font-family: serif;
		}
	}
	@page {
		margin: 1.5cm 1.1cm;
	}



/******************************************************************************/
/*                             Overflow Control                               */
/******************************************************************************/

	.figure .caption, .sidefigure .caption, figcaption {
		/* in case figure is overlarge, limit caption to 50em */
		max-width: 50rem;
		margin-left: auto;
		margin-right: auto;
	}
	.overlarge {
		/* Magic to create good table positioning:
		   "content column" is 50ems wide at max; less on smaller screens.
		   Extra space (after ToC + content) is empty on the right.

		   1. When table < content column, centers table in column.
		   2. When content < table < available, left-aligns.
		   3. When table > available, fills available + scroll bar.
		*/
		display: grid;
		grid-template-columns: minmax(0, 50em);
	}
	.overlarge > table {
		/* limit preferred width of table */
		max-width: 50em;
		margin-left: auto;
		margin-right: auto;
	}

	@media (min-width: 55em) {
		.overlarge {
			margin-right: calc(13px + 26.5rem - 50vw);
			max-width: none;
		}
	}
	@media screen and (min-width: 78em) {
		body:not(.toc-inline) .overlarge {
			/* 30.5em body padding 50em content area */
			margin-right: calc(40em - 50vw) !important;
		}
	}
	@media screen and (min-width: 90em) {
		body:not(.toc-inline) .overlarge {
			/* 4em html margin 30.5em body padding 50em content area */
			margin-right: calc(84.5em - 100vw) !important;
		}
	}

	@media not print {
		.overlarge {
			overflow-x: auto;
			/* See Lea Verou's explanation background-attachment:
			 * http://lea.verou.me/2012/04/background-attachment-local/
			 *
			background: top left  / 4em 100% linear-gradient(to right,  #ffffff, rgba(255, 255, 255, 0)) local,
			            top right / 4em 100% linear-gradient(to left, #ffffff, rgba(255, 255, 255, 0)) local,
			            top left  / 1em 100% linear-gradient(to right,  #c3c3c5, rgba(195, 195, 197, 0)) scroll,
			            top right / 1em 100% linear-gradient(to left, #c3c3c5, rgba(195, 195, 197, 0)) scroll,
			            white;
			background-repeat: no-repeat;
			*/
		}
	}
</style>
  <meta content="Bikeshed version f9f60c8f, updated Fri Sep 25 16:39:03 2020 -0700" name="generator">
  <link href="https://gpuweb.github.io/gpuweb/wgsl.html" rel="canonical">
  <meta content="925cabcf23fe5f0a3b57ad4477611ee9ed4a90a8" name="document-revision">
<style>
tr:nth-child(2n) {
  background-color: #b0b0b050;
}
thead {
  background-color: #b0b0b050;
  font-weight: bold;
}
.nowrap {
  white-space:nowrap;
}
</style>
<style>/* style-autolinks */

.css.css, .property.property, .descriptor.descriptor {
    color: var(--a-normal-text);
    font-size: inherit;
    font-family: inherit;
}
.css::before, .property::before, .descriptor::before {
    content: "‘";
}
.css::after, .property::after, .descriptor::after {
    content: "’";
}
.property, .descriptor {
    /* Don't wrap property and descriptor names */
    white-space: nowrap;
}
.type { /* CSS value <type> */
    font-style: italic;
}
pre .property::before, pre .property::after {
    content: "";
}
[data-link-type="property"]::before,
[data-link-type="propdesc"]::before,
[data-link-type="descriptor"]::before,
[data-link-type="value"]::before,
[data-link-type="function"]::before,
[data-link-type="at-rule"]::before,
[data-link-type="selector"]::before,
[data-link-type="maybe"]::before {
    content: "‘";
}
[data-link-type="property"]::after,
[data-link-type="propdesc"]::after,
[data-link-type="descriptor"]::after,
[data-link-type="value"]::after,
[data-link-type="function"]::after,
[data-link-type="at-rule"]::after,
[data-link-type="selector"]::after,
[data-link-type="maybe"]::after {
    content: "’";
}

[data-link-type].production::before,
[data-link-type].production::after,
.prod [data-link-type]::before,
.prod [data-link-type]::after {
    content: "";
}

[data-link-type=element],
[data-link-type=element-attr] {
    font-family: Menlo, Consolas, "DejaVu Sans Mono", monospace;
    font-size: .9em;
}
[data-link-type=element]::before { content: "<" }
[data-link-type=element]::after  { content: ">" }

[data-link-type=biblio] {
    white-space: pre;
}</style>
<style>/* style-colors */

/* Any --*-text not paired with a --*-bg is assumed to have a transparent bg */
html {
    color: black;
    color: var(--text);
    background-color: white;
    background-color: var(--bg);
}
:root {
    color-scheme: light dark;

    --text: black;
    --bg: white;

    --logo-bg: #1a5e9a;
    --logo-active-bg: #c00;
    --logo-text: white;

    --tocnav-normal-text: #707070;
    --tocnav-normal-bg: var(--bg);
    --tocnav-hover-text: var(--tocnav-normal-text);
    --tocnav-hover-bg: #f8f8f8;
    --tocnav-active-text: #c00;
    --tocnav-active-bg: var(--tocnav-normal-bg);

    --tocsidebar-text: var(--text);
    --tocsidebar-bg: #f7f8f9;
    --tocsidebar-shadow: rgba(0,0,0,.1);
    --tocsidebar-heading-text: hsla(203,20%,40%,.7);

    --toclink-text: var(--text);
    --toclink-underline: #3980b5;
    --toclink-visited-text: var(--toclink-text);
    --toclink-visited-underline: #054572;

    --heading-text: #005a9c;

    --hr-text: var(--text);

    --algo-border: #def;

    --del-text: red;
    --del-bg: transparent;
    --ins-text: #080;
    --ins-bg: transparent;

    --a-normal-text: #034575;
    --a-normal-underline: #707070;
    --a-visited-text: var(--a-normal-text);
    --a-visited-underline: #bbb;
    --a-hover-bg: rgba(75%, 75%, 75%, .25);
    --a-active-text: #c00;
    --a-active-underline: #c00;

    --blockquote-border: silver;
    --blockquote-bg: transparent;
    --blockquote-text: currentcolor;

    --issue-border: #e05252;
    --issue-bg: #fbe9e9;
    --issue-text: var(--text);
    --issueheading-text: #831616;

    --example-border: #e0cb52;
    --example-bg: #fcfaee;
    --example-text: var(--text);
    --exampleheading-text: #574b0f;

    --note-border: #52e052;
    --note-bg: #e9fbe9;
    --note-text: var(--text);
    --noteheading-text: hsl(120, 70%, 30%);
    --notesummary-underline: silver;

    --assertion-border: #aaa;
    --assertion-bg: #eee;
    --assertion-text: black;

    --advisement-border: orange;
    --advisement-bg: #fec;
    --advisement-text: var(--text);
    --advisementheading-text: #b35f00;

    --warning-border: red;
    --warning-bg: hsla(40,100%,50%,0.95);
    --warning-text: var(--text);

    --def-border: #8ccbf2;
    --def-bg: #def;
    --def-text: var(--text);
    --defrow-border: #bbd7e9;

    --datacell-border: silver;

    --indexinfo-text: #707070;

    --indextable-hover-text: black;
    --indextable-hover-bg: #f7f8f9;

    --outdatedspec-bg: rgba(0, 0, 0, .5);
    --outdatedspec-text: black;
    --outdated-bg: maroon;
    --outdated-text: white;
    --outdated-shadow: red;

    --editedrec-bg: darkorange;
}</style>
<style>/* style-counters */

body {
    counter-reset: example figure issue;
}
.issue {
    counter-increment: issue;
}
.issue:not(.no-marker)::before {
    content: "Issue " counter(issue);
}

.example {
    counter-increment: example;
}
.example:not(.no-marker)::before {
    content: "Example " counter(example);
}
.invalid.example:not(.no-marker)::before,
.illegal.example:not(.no-marker)::before {
    content: "Invalid Example" counter(example);
}

figcaption {
    counter-increment: figure;
}
figcaption:not(.no-marker)::before {
    content: "Figure " counter(figure) " ";
}</style>
<style>/* style-dfn-panel */

:root {
    --dfnpanel-bg: #ddd;
    --dfnpanel-text: var(--text);
}
.dfn-panel {
    position: absolute;
    z-index: 35;
    height: auto;
    width: -webkit-fit-content;
    width: fit-content;
    max-width: 300px;
    max-height: 500px;
    overflow: auto;
    padding: 0.5em 0.75em;
    font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
    background: var(--dfnpanel-bg);
    color: var(--dfnpanel-text);
    border: outset 0.2em;
}
.dfn-panel:not(.on) { display: none; }
.dfn-panel * { margin: 0; padding: 0; text-indent: 0; }
.dfn-panel > b { display: block; }
.dfn-panel a { color: black; }
.dfn-panel a:not(:hover) { text-decoration: none !important; border-bottom: none !important; }
.dfn-panel > b + b { margin-top: 0.25em; }
.dfn-panel ul { padding: 0; }
.dfn-panel li { list-style: inside; }
.dfn-panel.activated {
    display: inline-block;
    position: fixed;
    left: .5em;
    bottom: 2em;
    margin: 0 auto;
    max-width: calc(100vw - 1.5em - .4em - .5em);
    max-height: 30vh;
}

.dfn-paneled { cursor: pointer; }
</style>
<style>/* style-md-lists */

/* This is a weird hack for me not yet following the commonmark spec
   regarding paragraph and lists. */
[data-md] > :first-child {
    margin-top: 0;
}
[data-md] > :last-child {
    margin-bottom: 0;
}</style>
<style>/* style-selflinks */

:root {
    --selflink-text: white;
    --selflink-bg: gray;
    --selflink-hover-text: black;
}
.heading, .issue, .note, .example, li, dt {
    position: relative;
}
a.self-link {
    position: absolute;
    top: 0;
    left: calc(-1 * (3.5rem - 26px));
    width: calc(3.5rem - 26px);
    height: 2em;
    text-align: center;
    border: none;
    transition: opacity .2s;
    opacity: .5;
}
a.self-link:hover {
    opacity: 1;
}
.heading > a.self-link {
    font-size: 83%;
}
li > a.self-link {
    left: calc(-1 * (3.5rem - 26px) - 2em);
}
dfn > a.self-link {
    top: auto;
    left: auto;
    opacity: 0;
    width: 1.5em;
    height: 1.5em;
    background: var(--selflink-bg);
    color: var(--selflink-text);
    font-style: normal;
    transition: opacity .2s, background-color .2s, color .2s;
}
dfn:hover > a.self-link {
    opacity: 1;
}
dfn > a.self-link:hover {
    color: var(--selflink-hover-text);
}

a.self-link::before            { content: "¶"; }
.heading > a.self-link::before { content: "§"; }
dfn > a.self-link::before      { content: "#"; }
</style>
<style>/* style-syntax-highlighting */

code.highlight { padding: .1em; border-radius: .3em; }
pre.highlight, pre > code.highlight { display: block; padding: 1em; margin: .5em 0; overflow: auto; border-radius: 0; }

.highlight:not(.idl) { background: #fdf6e3; }
c-[a] { color: #990055 } /* Keyword.Declaration */
c-[b] { color: #990055 } /* Keyword.Type */
c-[c] { color: #708090 } /* Comment */
c-[d] { color: #708090 } /* Comment.Multiline */
c-[e] { color: #0077aa } /* Name.Attribute */
c-[f] { color: #669900 } /* Name.Tag */
c-[g] { color: #222222 } /* Name.Variable */
c-[k] { color: #990055 } /* Keyword */
c-[l] { color: #000000 } /* Literal */
c-[m] { color: #000000 } /* Literal.Number */
c-[n] { color: #0077aa } /* Name */
c-[o] { color: #999999 } /* Operator */
c-[p] { color: #999999 } /* Punctuation */
c-[s] { color: #a67f59 } /* Literal.String */
c-[t] { color: #a67f59 } /* Literal.String.Single */
c-[u] { color: #a67f59 } /* Literal.String.Double */
c-[cp] { color: #708090 } /* Comment.Preproc */
c-[c1] { color: #708090 } /* Comment.Single */
c-[cs] { color: #708090 } /* Comment.Special */
c-[kc] { color: #990055 } /* Keyword.Constant */
c-[kn] { color: #990055 } /* Keyword.Namespace */
c-[kp] { color: #990055 } /* Keyword.Pseudo */
c-[kr] { color: #990055 } /* Keyword.Reserved */
c-[ld] { color: #000000 } /* Literal.Date */
c-[nc] { color: #0077aa } /* Name.Class */
c-[no] { color: #0077aa } /* Name.Constant */
c-[nd] { color: #0077aa } /* Name.Decorator */
c-[ni] { color: #0077aa } /* Name.Entity */
c-[ne] { color: #0077aa } /* Name.Exception */
c-[nf] { color: #0077aa } /* Name.Function */
c-[nl] { color: #0077aa } /* Name.Label */
c-[nn] { color: #0077aa } /* Name.Namespace */
c-[py] { color: #0077aa } /* Name.Property */
c-[ow] { color: #999999 } /* Operator.Word */
c-[mb] { color: #000000 } /* Literal.Number.Bin */
c-[mf] { color: #000000 } /* Literal.Number.Float */
c-[mh] { color: #000000 } /* Literal.Number.Hex */
c-[mi] { color: #000000 } /* Literal.Number.Integer */
c-[mo] { color: #000000 } /* Literal.Number.Oct */
c-[sb] { color: #a67f59 } /* Literal.String.Backtick */
c-[sc] { color: #a67f59 } /* Literal.String.Char */
c-[sd] { color: #a67f59 } /* Literal.String.Doc */
c-[se] { color: #a67f59 } /* Literal.String.Escape */
c-[sh] { color: #a67f59 } /* Literal.String.Heredoc */
c-[si] { color: #a67f59 } /* Literal.String.Interpol */
c-[sx] { color: #a67f59 } /* Literal.String.Other */
c-[sr] { color: #a67f59 } /* Literal.String.Regex */
c-[ss] { color: #a67f59 } /* Literal.String.Symbol */
c-[vc] { color: #0077aa } /* Name.Variable.Class */
c-[vg] { color: #0077aa } /* Name.Variable.Global */
c-[vi] { color: #0077aa } /* Name.Variable.Instance */
c-[il] { color: #000000 } /* Literal.Number.Integer.Long */
</style>
<style>/* style-var-click-highlighting */

    var { cursor: pointer; }
    var.selected0 { background-color: #F4D200; box-shadow: 0 0 0 2px #F4D200; }
    var.selected1 { background-color: #FF87A2; box-shadow: 0 0 0 2px #FF87A2; }
    var.selected2 { background-color: #96E885; box-shadow: 0 0 0 2px #96E885; }
    var.selected3 { background-color: #3EEED2; box-shadow: 0 0 0 2px #3EEED2; }
    var.selected4 { background-color: #EACFB6; box-shadow: 0 0 0 2px #EACFB6; }
    var.selected5 { background-color: #82DDFF; box-shadow: 0 0 0 2px #82DDFF; }
    var.selected6 { background-color: #FFBCF2; box-shadow: 0 0 0 2px #FFBCF2; }
    </style>
<style>/* style-darkmode */

@media (prefers-color-scheme: dark) {
    :root {
        --text: #ddd;
        --bg: black;

        --logo-bg: #1a5e9a;
        --logo-active-bg: #c00;
        --logo-text: white;

        --tocnav-normal-text: #999;
        --tocnav-normal-bg: var(--bg);
        --tocnav-hover-text: var(--tocnav-normal-text);
        --tocnav-hover-bg: #080808;
        --tocnav-active-text: #f44;
        --tocnav-active-bg: var(--tocnav-normal-bg);

        --tocsidebar-text: var(--text);
        --tocsidebar-bg: #080808;
        --tocsidebar-shadow: rgba(255,255,255,.1);
        --tocsidebar-heading-text: hsla(203,20%,40%,.7);

        --toclink-text: var(--text);
        --toclink-underline: #6af;
        --toclink-visited-text: var(--toclink-text);
        --toclink-visited-underline: #054572;

        --heading-text: #8af;

        --hr-text: var(--text);

        --algo-border: #456;

        --del-text: #f44;
        --del-bg: transparent;
        --ins-text: #4a4;
        --ins-bg: transparent;

        --a-normal-text: #6af;
        --a-normal-underline: #555;
        --a-visited-text: var(--a-normal-text);
        --a-visited-underline: var(--a-normal-underline);
        --a-hover-bg: rgba(25%, 25%, 25%, .2);
        --a-active-text: #f44;
        --a-active-underline: var(--a-active-text);

        --borderedblock-bg: rgba(255, 255, 255, .05);

        --blockquote-border: silver;
        --blockquote-bg: var(--borderedblock-bg);
        --blockquote-text: currentcolor;

        --issue-border: #e05252;
        --issue-bg: var(--borderedblock-bg);
        --issue-text: var(--text);
        --issueheading-text: hsl(0deg, 70%, 70%);

        --example-border: hsl(50deg, 90%, 60%);
        --example-bg: var(--borderedblock-bg);
        --example-text: var(--text);
        --exampleheading-text: hsl(50deg, 70%, 70%);

        --note-border: hsl(120deg, 100%, 35%);
        --note-bg: var(--borderedblock-bg);
        --note-text: var(--text);
        --noteheading-text: hsl(120, 70%, 70%);
        --notesummary-underline: silver;

        --assertion-border: #444;
        --assertion-bg: var(--borderedblock-bg);
        --assertion-text: var(--text);

        --advisement-border: orange;
        --advisement-bg: #222218;
        --advisement-text: var(--text);
        --advisementheading-text: #f84;

        --warning-border: red;
        --warning-bg: hsla(40,100%,20%,0.95);
        --warning-text: var(--text);

        --def-border: #8ccbf2;
        --def-bg: #080818;
        --def-text: var(--text);
        --defrow-border: #136;

        --datacell-border: silver;

        --indexinfo-text: #aaa;

        --indextable-hover-text: var(--text);
        --indextable-hover-bg: #181818;

        --outdatedspec-bg: rgba(255, 255, 255, .5);
        --outdatedspec-text: black;
        --outdated-bg: maroon;
        --outdated-text: white;
        --outdated-shadow: red;

        --editedrec-bg: darkorange;
    }
    /* In case a transparent-bg image doesn't expect to be on a dark bg,
       which is quite common in practice... */
    img { background: white; }
}
@media (prefers-color-scheme: dark) {
    :root {
        --selflink-text: black;
        --selflink-bg: silver;
        --selflink-hover-text: white;
    }
}

@media (prefers-color-scheme: dark) {
    .highlight:not(.idl) { background: rgba(255, 255, 255, .05); }

    c-[a] { color: #d33682 } /* Keyword.Declaration */
    c-[b] { color: #d33682 } /* Keyword.Type */
    c-[c] { color: #2aa198 } /* Comment */
    c-[d] { color: #2aa198 } /* Comment.Multiline */
    c-[e] { color: #268bd2 } /* Name.Attribute */
    c-[f] { color: #b58900 } /* Name.Tag */
    c-[g] { color: #cb4b16 } /* Name.Variable */
    c-[k] { color: #d33682 } /* Keyword */
    c-[l] { color: #657b83 } /* Literal */
    c-[m] { color: #657b83 } /* Literal.Number */
    c-[n] { color: #268bd2 } /* Name */
    c-[o] { color: #657b83 } /* Operator */
    c-[p] { color: #657b83 } /* Punctuation */
    c-[s] { color: #6c71c4 } /* Literal.String */
    c-[t] { color: #6c71c4 } /* Literal.String.Single */
    c-[u] { color: #6c71c4 } /* Literal.String.Double */
    c-[ch] { color: #2aa198 } /* Comment.Hashbang */
    c-[cp] { color: #2aa198 } /* Comment.Preproc */
    c-[cpf] { color: #2aa198 } /* Comment.PreprocFile */
    c-[c1] { color: #2aa198 } /* Comment.Single */
    c-[cs] { color: #2aa198 } /* Comment.Special */
    c-[kc] { color: #d33682 } /* Keyword.Constant */
    c-[kn] { color: #d33682 } /* Keyword.Namespace */
    c-[kp] { color: #d33682 } /* Keyword.Pseudo */
    c-[kr] { color: #d33682 } /* Keyword.Reserved */
    c-[ld] { color: #657b83 } /* Literal.Date */
    c-[nc] { color: #268bd2 } /* Name.Class */
    c-[no] { color: #268bd2 } /* Name.Constant */
    c-[nd] { color: #268bd2 } /* Name.Decorator */
    c-[ni] { color: #268bd2 } /* Name.Entity */
    c-[ne] { color: #268bd2 } /* Name.Exception */
    c-[nf] { color: #268bd2 } /* Name.Function */
    c-[nl] { color: #268bd2 } /* Name.Label */
    c-[nn] { color: #268bd2 } /* Name.Namespace */
    c-[py] { color: #268bd2 } /* Name.Property */
    c-[ow] { color: #657b83 } /* Operator.Word */
    c-[mb] { color: #657b83 } /* Literal.Number.Bin */
    c-[mf] { color: #657b83 } /* Literal.Number.Float */
    c-[mh] { color: #657b83 } /* Literal.Number.Hex */
    c-[mi] { color: #657b83 } /* Literal.Number.Integer */
    c-[mo] { color: #657b83 } /* Literal.Number.Oct */
    c-[sa] { color: #6c71c4 } /* Literal.String.Affix */
    c-[sb] { color: #6c71c4 } /* Literal.String.Backtick */
    c-[sc] { color: #6c71c4 } /* Literal.String.Char */
    c-[dl] { color: #6c71c4 } /* Literal.String.Delimiter */
    c-[sd] { color: #6c71c4 } /* Literal.String.Doc */
    c-[se] { color: #6c71c4 } /* Literal.String.Escape */
    c-[sh] { color: #6c71c4 } /* Literal.String.Heredoc */
    c-[si] { color: #6c71c4 } /* Literal.String.Interpol */
    c-[sx] { color: #6c71c4 } /* Literal.String.Other */
    c-[sr] { color: #6c71c4 } /* Literal.String.Regex */
    c-[ss] { color: #6c71c4 } /* Literal.String.Symbol */
    c-[fm] { color: #268bd2 } /* Name.Function.Magic */
    c-[vc] { color: #cb4b16 } /* Name.Variable.Class */
    c-[vg] { color: #cb4b16 } /* Name.Variable.Global */
    c-[vi] { color: #cb4b16 } /* Name.Variable.Instance */
    c-[vm] { color: #cb4b16 } /* Name.Variable.Magic */
    c-[il] { color: #657b83 } /* Literal.Number.Integer.Long */
}
</style>
 <body class="h-entry">
  <div class="head">
   <p data-fill-with="logo"></p>
   <h1 class="p-name no-ref" id="title">WebGPU Shading Language</h1>
   <h2 class="no-num no-toc no-ref heading settled" id="subtitle"><span class="content">Editor’s Draft, <time class="dt-updated" datetime="2020-12-08">8 December 2020</time></span></h2>
   <div data-fill-with="spec-metadata">
    <dl>
     <dt>This version:
     <dd><a class="u-url" href="https://gpuweb.github.io/gpuweb/wgsl.html">https://gpuweb.github.io/gpuweb/wgsl.html</a>
     <dt>Issue Tracking:
     <dd><a href="https://github.com/gpuweb/gpuweb/issues/">GitHub</a>
     <dd><a href="#issues-index">Inline In Spec</a>
     <dt class="editor">Editors:
     <dd class="editor p-author h-card vcard"><a class="p-name fn u-email email" href="mailto:dsinclair@google.com">dan sinclair</a> (<a class="p-org org" href="http://www.google.com">Google</a>)
     <dd class="editor p-author h-card vcard" data-editor-id="77180"><a class="p-name fn u-email email" href="mailto:mmaxfield@apple.com">Myles C. Maxfield</a> (<span class="p-org org">Apple Inc.</span>)
     <dt>Participate:
     <dd><a href="https://github.com/gpuweb/gpuweb/issues/new?labels=wgsl">File an issue</a> (<a href="https://github.com/gpuweb/gpuweb/issues?q=is%3Aissue+is%3Aopen+label%3Awgsl">open issues</a>)
     <dd>
    </dl>
   </div>
   <div data-fill-with="warning"></div>
   <p class="copyright" data-fill-with="copyright"><a href="http://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a> © 2020 the Contributors to the WebGPU Shading Language Specification, published by the <a href="http://www.w3.org/community/gpu/">GPU for the Web Community Group</a> under the <a href="https://www.w3.org/community/about/agreements/cla/">W3C Community Contributor License Agreement (CLA)</a>.
A human-readable <a href="http://www.w3.org/community/about/agreements/cla-deed/">summary</a> is available. </p>
   <hr title="Separator for header">
  </div>
  <div class="p-summary" data-fill-with="abstract">
   <h2 class="no-num no-toc no-ref heading settled" id="abstract"><span class="content">Abstract</span></h2>
   <p>Shading language for WebGPU.</p>
  </div>
  <div data-fill-with="at-risk"></div>
  <h2 class="no-num no-toc no-ref heading settled" id="status"><span class="content">Status of this document</span></h2>
  <div data-fill-with="status">
   This specification was published by the <a href="https://www.w3.org/community/gpu/">GPU for the Web Community Group</a>.
It is not a W3C Standard nor is it on the W3C Standards Track.

Please note that under the <a href="https://www.w3.org/community/about/agreements/cla/">W3C Community Contributor License Agreement (CLA)</a> there is a limited opt-out and other conditions apply.

Learn more about <a href="http://www.w3.org/community/">W3C Community and Business Groups</a>. 
   <p></p>
  </div>
  <div data-fill-with="at-risk"></div>
  <nav data-fill-with="table-of-contents" id="toc">
   <h2 class="no-num no-toc no-ref" id="contents">Table of Contents</h2>
   <ol class="toc" role="directory">
    <li>
     <a href="#intro"><span class="secno">1</span> <span class="content">Introduction</span></a>
     <ol class="toc">
      <li><a href="#goals"><span class="secno">1.1</span> <span class="content">Goals</span></a>
      <li><a href="#technical-overview"><span class="secno">1.2</span> <span class="content">Technical Overview TODO</span></a>
      <li><a href="#notation"><span class="secno">1.3</span> <span class="content">Notation</span></a>
     </ol>
    <li>
     <a href="#textual-structure"><span class="secno">2</span> <span class="content">Textual structure TODO</span></a>
     <ol class="toc">
      <li><a href="#comments"><span class="secno">2.1</span> <span class="content">Comments</span></a>
      <li><a href="#tokens"><span class="secno">2.2</span> <span class="content">Tokens TODO</span></a>
      <li><a href="#literals"><span class="secno">2.3</span> <span class="content">Literals TODO</span></a>
      <li><a href="#keywords"><span class="secno">2.4</span> <span class="content">Keywords TODO</span></a>
      <li><a href="#identifiers"><span class="secno">2.5</span> <span class="content">Identifiers TODO</span></a>
      <li><a href="#attributes"><span class="secno">2.6</span> <span class="content">Attributes TODO</span></a>
      <li>
       <a href="#declarations"><span class="secno">2.7</span> <span class="content">Declarations TODO</span></a>
       <ol class="toc">
        <li><a href="#scoping"><span class="secno">2.7.1</span> <span class="content">Scoping</span></a>
       </ol>
     </ol>
    <li>
     <a href="#types"><span class="secno">3</span> <span class="content">Types</span></a>
     <ol class="toc">
      <li>
       <a href="#type-checking"><span class="secno">3.1</span> <span class="content">Type Checking</span></a>
       <ol class="toc">
        <li><a href="#type-check-preamble"><span class="secno">3.1.1</span> <span class="content">Explanation for those familiar with formal type checking</span></a>
        <li><a href="#type-check-how-to-read"><span class="secno">3.1.2</span> <span class="content">How to read type-checking rules</span></a>
       </ol>
      <li><a href="#void-type"><span class="secno">3.2</span> <span class="content">Void Type</span></a>
      <li>
       <a href="#value-types"><span class="secno">3.3</span> <span class="content">Value Types</span></a>
       <ol class="toc">
        <li><a href="#bool-type"><span class="secno">3.3.1</span> <span class="content">Boolean Type</span></a>
        <li><a href="#integer-types"><span class="secno">3.3.2</span> <span class="content">Integer Types</span></a>
        <li><a href="#floating-point-types"><span class="secno">3.3.3</span> <span class="content">Floating Point Type</span></a>
        <li><a href="#scalar-types"><span class="secno">3.3.4</span> <span class="content">Scalar Types</span></a>
        <li><a href="#vector-types"><span class="secno">3.3.5</span> <span class="content">Vector Types</span></a>
        <li><a href="#matrix-types"><span class="secno">3.3.6</span> <span class="content">Matrix Types</span></a>
        <li><a href="#array-types"><span class="secno">3.3.7</span> <span class="content">Array Types</span></a>
        <li><a href="#struct-types"><span class="secno">3.3.8</span> <span class="content">Structure Types</span></a>
       </ol>
      <li>
       <a href="#memory"><span class="secno">3.4</span> <span class="content">Memory TODO</span></a>
       <ol class="toc">
        <li><a href="#memory-locations"><span class="secno">3.4.1</span> <span class="content">Memory Locations TODO</span></a>
        <li><a href="#storable-types"><span class="secno">3.4.2</span> <span class="content">Storable Types</span></a>
        <li><a href="#io-shareable-types"><span class="secno">3.4.3</span> <span class="content">IO-shareable Types</span></a>
        <li><a href="#host-shareable-types"><span class="secno">3.4.4</span> <span class="content">Host-shareable Types</span></a>
        <li><a href="#storage-class"><span class="secno">3.4.5</span> <span class="content">Storage Classes</span></a>
        <li>
         <a href="#memory-layouts"><span class="secno">3.4.6</span> <span class="content">Memory Layout</span></a>
         <ol class="toc">
          <li><a href="#memory-layout-intent"><span class="secno">3.4.6.1</span> <span class="content">Memory Layout Intent</span></a>
          <li><a href="#internal-value-layout"><span class="secno">3.4.6.2</span> <span class="content">Internal Layout of Values</span></a>
          <li><a href="#layout-constraints"><span class="secno">3.4.6.3</span> <span class="content">Layout Constraints and Standard Buffer Layout</span></a>
         </ol>
       </ol>
      <li>
       <a href="#pointer-types"><span class="secno">3.5</span> <span class="content">Pointer Types TODO</span></a>
       <ol class="toc">
        <li><a href="#abstract-pointer-operations"><span class="secno">3.5.1</span> <span class="content">Abstract Operations on Pointers TODO</span></a>
        <li><a href="#pointer-evaluation"><span class="secno">3.5.2</span> <span class="content">Pointer Evaluation TODO</span></a>
       </ol>
      <li>
       <a href="#texture-types"><span class="secno">3.6</span> <span class="content">Texture and Sampler Types</span></a>
       <ol class="toc">
        <li><a href="#texel-formats"><span class="secno">3.6.1</span> <span class="content">Texel formats</span></a>
        <li><a href="#sampled-texture-type"><span class="secno">3.6.2</span> <span class="content">Sampled Texture Types</span></a>
        <li><a href="#multisampled-texture-type"><span class="secno">3.6.3</span> <span class="content">Multisampled Texture Types</span></a>
        <li><a href="#texture-ro"><span class="secno">3.6.4</span> <span class="content">Read-only Storage Texture Types</span></a>
        <li><a href="#texture-wo"><span class="secno">3.6.5</span> <span class="content">Write-only Storage Texture Types</span></a>
        <li><a href="#texture-depth"><span class="secno">3.6.6</span> <span class="content">Depth Texture Types</span></a>
        <li><a href="#sampler-type"><span class="secno">3.6.7</span> <span class="content">Sampler Type</span></a>
        <li><a href="#texture-types-grammar"><span class="secno">3.6.8</span> <span class="content">Texture Types Grammar</span></a>
       </ol>
      <li><a href="#type-aliases"><span class="secno">3.7</span> <span class="content">Type Aliases TODO</span></a>
      <li><a href="#type-declarations"><span class="secno">3.8</span> <span class="content">Type Declaration Grammar</span></a>
     </ol>
    <li>
     <a href="#variables"><span class="secno">4</span> <span class="content">Variable and const</span></a>
     <ol class="toc">
      <li><a href="#module-scope-variables"><span class="secno">4.1</span> <span class="content">Module Scope Variables</span></a>
      <li><a href="#module-constants"><span class="secno">4.2</span> <span class="content">Module Constants</span></a>
      <li><a href="#function-scope-variables"><span class="secno">4.3</span> <span class="content">Function Scope Variables and Constants</span></a>
      <li><a href="#never-alias-assumption"><span class="secno">4.4</span> <span class="content">Never-alias assumption TODO</span></a>
     </ol>
    <li>
     <a href="#expressions"><span class="secno">5</span> <span class="content">Expressions TODO</span></a>
     <ol class="toc">
      <li><a href="#literal-expressions"><span class="secno">5.1</span> <span class="content">Literal Expressions TODO</span></a>
      <li><a href="#type-constructor-expr"><span class="secno">5.2</span> <span class="content">Type Constructor Expressions TODO</span></a>
      <li><a href="#zero-value-expr"><span class="secno">5.3</span> <span class="content">Zero Value Expressions</span></a>
      <li><a href="#conversion-expr"><span class="secno">5.4</span> <span class="content">Conversion Expressions</span></a>
      <li><a href="#bitcast-expr"><span class="secno">5.5</span> <span class="content">Reinterpretation of Representation Expressions</span></a>
      <li>
       <a href="#composite-value-expr"><span class="secno">5.6</span> <span class="content">Composite Value Expressions TODO</span></a>
       <ol class="toc">
        <li><a href="#vector-access-expr"><span class="secno">5.6.1</span> <span class="content">Vector Access Expression</span></a>
        <li><a href="#matrix-access-expr"><span class="secno">5.6.2</span> <span class="content">Matrix Access Expression TODO</span></a>
        <li><a href="#array-access-expr"><span class="secno">5.6.3</span> <span class="content">Array Access Expression TODO</span></a>
        <li><a href="#struct-access-expr"><span class="secno">5.6.4</span> <span class="content">Structure Access Expression TODO</span></a>
       </ol>
      <li><a href="#logical-expr"><span class="secno">5.7</span> <span class="content">Logical Expressions TODO</span></a>
      <li><a href="#arithmetic-expr"><span class="secno">5.8</span> <span class="content">Arithmetic Expressions TODO</span></a>
      <li><a href="#comparison-expr"><span class="secno">5.9</span> <span class="content">Comparison Expressions TODO</span></a>
      <li><a href="#bit-expr"><span class="secno">5.10</span> <span class="content">Bit Expressions TODO</span></a>
      <li><a href="#function-call-expr"><span class="secno">5.11</span> <span class="content">Function Call Expression TODO</span></a>
      <li><a href="#var-const-ref-expr"><span class="secno">5.12</span> <span class="content">Variable or const reference TODO</span></a>
      <li><a href="#pointer-expr"><span class="secno">5.13</span> <span class="content">Pointer Expressions TODO</span></a>
      <li><a href="#expression-grammar"><span class="secno">5.14</span> <span class="content">Expression Grammar Summary</span></a>
     </ol>
    <li>
     <a href="#statements"><span class="secno">6</span> <span class="content">Statements TODO</span></a>
     <ol class="toc">
      <li>
       <a href="#assignment"><span class="secno">6.1</span> <span class="content">Assignment TODO</span></a>
       <ol class="toc">
        <li><a href="#writing-to-var"><span class="secno">6.1.1</span> <span class="content">Writing to a variable TODO</span></a>
        <li><a href="#writing-to-part-of-composite"><span class="secno">6.1.2</span> <span class="content">Writing to a part of a composite variable TODO</span></a>
       </ol>
      <li>
       <a href="#control-flow"><span class="secno">6.2</span> <span class="content">Control flow TODO</span></a>
       <ol class="toc">
        <li><a href="#sequence-statement"><span class="secno">6.2.1</span> <span class="content">Sequence TODO</span></a>
        <li><a href="#if-statement"><span class="secno">6.2.2</span> <span class="content">If/elseif/else Statement TODO</span></a>
        <li><a href="#switch-statement"><span class="secno">6.2.3</span> <span class="content">Switch Statement</span></a>
        <li><a href="#loop-statement"><span class="secno">6.2.4</span> <span class="content">Loop Statement</span></a>
        <li><a href="#for-statement"><span class="secno">6.2.5</span> <span class="content">For Statement</span></a>
        <li><a href="#break-statement"><span class="secno">6.2.6</span> <span class="content">Break</span></a>
        <li><a href="#continue-statement"><span class="secno">6.2.7</span> <span class="content">Continue</span></a>
        <li><a href="#continuing-statement"><span class="secno">6.2.8</span> <span class="content">Continuing Statement</span></a>
        <li><a href="#return-statement"><span class="secno">6.2.9</span> <span class="content">Return</span></a>
        <li><a href="#discard-statement"><span class="secno">6.2.10</span> <span class="content">Discard TODO</span></a>
       </ol>
      <li><a href="#function-call-statement"><span class="secno">6.3</span> <span class="content">Function Call Statement TODO</span></a>
      <li><a href="#statements-summary"><span class="secno">6.4</span> <span class="content">Statements Grammar Summary</span></a>
     </ol>
    <li>
     <a href="#functions"><span class="secno">7</span> <span class="content">Functions TODO</span></a>
     <ol class="toc">
      <li><a href="#function-declaration"><span class="secno">7.1</span> <span class="content">Function declaration TODO</span></a>
      <li><a href="#func-call-semantics"><span class="secno">7.2</span> <span class="content">Function calls TODO</span></a>
      <li><a href="#function-restriction"><span class="secno">7.3</span> <span class="content">Restrictions TODO</span></a>
     </ol>
    <li>
     <a href="#entry-points"><span class="secno">8</span> <span class="content">Entry Points TODO</span></a>
     <ol class="toc">
      <li><a href="#shader-stages-sec"><span class="secno">8.1</span> <span class="content">Shader Stages</span></a>
      <li>
       <a href="#entry-point-decl"><span class="secno">8.2</span> <span class="content">Entry point declaration</span></a>
       <ol class="toc">
        <li><a href="#entry-point-attributes"><span class="secno">8.2.1</span> <span class="content">Function attributes for entry points</span></a>
       </ol>
      <li>
       <a href="#shader-interface"><span class="secno">8.3</span> <span class="content">Shader Interface</span></a>
       <ol class="toc">
        <li>
         <a href="#pipeline-inputs-outputs"><span class="secno">8.3.1</span> <span class="content">Pipeline Input and Output Interface</span></a>
         <ol class="toc">
          <li><a href="#builtin-inputs-outputs"><span class="secno">8.3.1.1</span> <span class="content">Built-in inputs and outputs</span></a>
          <li><a href="#user-data-attributes"><span class="secno">8.3.1.2</span> <span class="content">User Data Attribute TODO</span></a>
          <li><a href="#input-output-locations"><span class="secno">8.3.1.3</span> <span class="content">Input-output Locations TODO</span></a>
         </ol>
        <li><a href="#resource-interface"><span class="secno">8.3.2</span> <span class="content">Resource interface</span></a>
        <li><a href="#resource-layout-compatibility"><span class="secno">8.3.3</span> <span class="content">Resource layout compatibility</span></a>
       </ol>
      <li>
       <a href="#pipeline-compatibility"><span class="secno">8.4</span> <span class="content">Pipeline compatibility TODO</span></a>
       <ol class="toc">
        <li><a href="#input-output-matching"><span class="secno">8.4.1</span> <span class="content">Input-output matching rules TODO</span></a>
       </ol>
     </ol>
    <li><a href="#wgsl-module"><span class="secno">9</span> <span class="content">WGSL program TODO</span></a>
    <li>
     <a href="#execution"><span class="secno">10</span> <span class="content">Execution TODO</span></a>
     <ol class="toc">
      <li>
       <a href="#invocation-of-an-entry-point"><span class="secno">10.1</span> <span class="content">Invocation of an entry point TODO</span></a>
       <ol class="toc">
        <li><a href="#before-entry-point-begins"><span class="secno">10.1.1</span> <span class="content">Before an entry point begins TODO</span></a>
        <li>
         <a href="#program-order"><span class="secno">10.1.2</span> <span class="content">Program order (within an invocation) TODO</span></a>
         <ol class="toc">
          <li><a href="#function-scope-variable-lifetime"><span class="secno">10.1.2.1</span> <span class="content">Function-scope variable lifetime and initialization TODO</span></a>
          <li><a href="#statement-order"><span class="secno">10.1.2.2</span> <span class="content">Statement order TODO</span></a>
          <li><a href="#intra-statement-order"><span class="secno">10.1.2.3</span> <span class="content">Intra-statement order (or lack) TODO</span></a>
         </ol>
       </ol>
      <li>
       <a href="#uniformity"><span class="secno">10.2</span> <span class="content">Uniformity TODO</span></a>
       <ol class="toc">
        <li><a href="#uniform-control-flow"><span class="secno">10.2.1</span> <span class="content">Uniform control flow TODO</span></a>
        <li><a href="#divergence-reconvergence"><span class="secno">10.2.2</span> <span class="content">Divergence and reconvergence TODO</span></a>
        <li><a href="#uniformity-restrictions"><span class="secno">10.2.3</span> <span class="content">Uniformity restrictions TODO</span></a>
       </ol>
      <li><a href="#compute-shader-workgroups"><span class="secno">10.3</span> <span class="content">Compute Shaders and Workgroups</span></a>
      <li>
       <a href="#collective-operations"><span class="secno">10.4</span> <span class="content">Collective operations TODO</span></a>
       <ol class="toc">
        <li><a href="#barrier"><span class="secno">10.4.1</span> <span class="content">Barrier TODO</span></a>
        <li><a href="#image-operations-requiring-uniformity"><span class="secno">10.4.2</span> <span class="content">Image Operations Requiring Uniformity TODO</span></a>
        <li><a href="#derivatives"><span class="secno">10.4.3</span> <span class="content">Derivatives TODO</span></a>
        <li><a href="#arrayed-resource-access"><span class="secno">10.4.4</span> <span class="content">Arrayed resource access TODO</span></a>
       </ol>
      <li>
       <a href="#floating-point-evaluation"><span class="secno">10.5</span> <span class="content">Floating Point Evaluation TODO</span></a>
       <ol class="toc">
        <li><a href="#floating-point-conversion"><span class="secno">10.5.1</span> <span class="content">Floating point conversion</span></a>
       </ol>
     </ol>
    <li><a href="#memory-model"><span class="secno">11</span> <span class="content">Memory Model TODO</span></a>
    <li>
     <a href="#grammar"><span class="secno">12</span> <span class="content">Keyword and Token Summary</span></a>
     <ol class="toc">
      <li><a href="#keyword-summary"><span class="secno">12.1</span> <span class="content">Keyword Summary</span></a>
      <li><a href="#reserved-keywords"><span class="secno">12.2</span> <span class="content">Reserved Keywords</span></a>
      <li><a href="#syntactic-tokens"><span class="secno">12.3</span> <span class="content">Syntactic Tokens</span></a>
     </ol>
    <li><a href="#validation"><span class="secno">13</span> <span class="content">Validation</span></a>
    <li><a href="#builtin-variables"><span class="secno">14</span> <span class="content">Built-in variables</span></a>
    <li>
     <a href="#builtin-functions"><span class="secno">15</span> <span class="content">Built-in functions</span></a>
     <ol class="toc">
      <li><a href="#logical-builtin-functions"><span class="secno">15.1</span> <span class="content">Logical built-in functions</span></a>
      <li><a href="#value-testing-builtin-functions"><span class="secno">15.2</span> <span class="content">Value-testing built-in functions</span></a>
      <li><a href="#float-builtin-functions"><span class="secno">15.3</span> <span class="content">Float built-in functions</span></a>
      <li><a href="#integer-builtin-functions"><span class="secno">15.4</span> <span class="content">Integer built-in functions</span></a>
      <li><a href="#matrix-builtin-functions"><span class="secno">15.5</span> <span class="content">Matrix built-in functions</span></a>
      <li><a href="#vector-builtin-functions"><span class="secno">15.6</span> <span class="content">Vector built-in functions</span></a>
      <li><a href="#derivative-builtin-functions"><span class="secno">15.7</span> <span class="content">Derivative built-in functions</span></a>
      <li>
       <a href="#texture-builtin-functions"><span class="secno">15.8</span> <span class="content">Texture built-in functions</span></a>
       <ol class="toc">
        <li><a href="#texturesample"><span class="secno">15.8.1</span> <span class="content"><code>textureSample</code></span></a>
        <li><a href="#texturesamplebias"><span class="secno">15.8.2</span> <span class="content"><code>textureSampleBias</code></span></a>
        <li><a href="#texturesamplelevel"><span class="secno">15.8.3</span> <span class="content"><code>textureSampleLevel</code></span></a>
        <li><a href="#texturesamplegrad"><span class="secno">15.8.4</span> <span class="content"><code>textureSampleGrad</code></span></a>
        <li><a href="#texturesamplecompare"><span class="secno">15.8.5</span> <span class="content"><code>textureSampleCompare</code></span></a>
       </ol>
      <li><a href="#atomic-builtin-functions"><span class="secno">15.9</span> <span class="content">Atomic built-in functions</span></a>
      <li><a href="#pack-builtin-functions"><span class="secno">15.10</span> <span class="content">Data packing built-in functions</span></a>
      <li><a href="#unpack-builtin-functions"><span class="secno">15.11</span> <span class="content">Data unpacking built-in functions</span></a>
     </ol>
    <li><a href="#glossary"><span class="secno">16</span> <span class="content">Glossary</span></a>
    <li>
     <a href="#junkyard"><span class="secno">17</span> <span class="content">MATERIAL TO BE MOVED TO A NEW HOME OR DELETED</span></a>
     <ol class="toc">
      <li><a href="#composite-types"><span class="secno">17.1</span> <span class="content">Composite types</span></a>
      <li><a href="#type-promotions"><span class="secno">17.2</span> <span class="content">Type Promotions</span></a>
      <li><a href="#precedence"><span class="secno">17.3</span> <span class="content">Precedence</span></a>
     </ol>
    <li><a href="#conformance"><span class="secno"></span> <span class="content"> Conformance</span></a>
    <li>
     <a href="#index"><span class="secno"></span> <span class="content">Index</span></a>
     <ol class="toc">
      <li><a href="#index-defined-here"><span class="secno"></span> <span class="content">Terms defined by this specification</span></a>
     </ol>
    <li>
     <a href="#references"><span class="secno"></span> <span class="content">References</span></a>
     <ol class="toc">
      <li><a href="#normative"><span class="secno"></span> <span class="content">Normative References</span></a>
      <li><a href="#informative"><span class="secno"></span> <span class="content">Informative References</span></a>
     </ol>
    <li><a href="#issues-index"><span class="secno"></span> <span class="content">Issues Index</span></a>
   </ol>
  </nav>
  <main>
   <h2 class="heading settled" data-level="1" id="intro"><span class="secno">1. </span><span class="content">Introduction</span><a class="self-link" href="#intro"></a></h2>
   <p>WebGPU Shader Language (WGSL) is the shader language for <a data-link-type="biblio" href="#biblio-webgpu">[WebGPU]</a>.
That is, an application using the WebGPU API uses WGSL to express the programs, known as shaders,
that run on the GPU.</p>
   <div class="example" id="example-8391e37a">
    <a class="self-link" href="#example-8391e37a"></a> 
<pre class="highlight"><c- p>[[</c-><c- n>location</c-><c- p>(</c-><c- mi>0</c-><c- p>)]]</c-> <c- n>var</c-><c- o>&lt;</c-><c- n>out</c-><c- o>></c-> <c- n>gl_FragColor</c-> : <c- nc>vec4</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c-><c- p>;</c->
<c- p>[[</c-><c- n>stage</c-><c- p>(</c-><c- n>fragment</c-><c- p>)]]</c->
<c- k>fn</c-> <c- nf>main</c-><c- p>()</c-> -> <c- nc>void</c-> <c- p>{</c->
    <c- n>gl_FragColor</c-> <c- o>=</c-> <c- n>vec4</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c-><c- p>(</c-><c- mf>0.4</c-><c- p>,</c-> <c- mf>0.4</c-><c- p>,</c-> <c- mf>0.8</c-><c- p>,</c-> <c- mf>1.0</c-><c- p>);</c->
<c- p>}</c->
</pre>
   </div>
   <h3 class="heading settled" data-level="1.1" id="goals"><span class="secno">1.1. </span><span class="content">Goals</span><a class="self-link" href="#goals"></a></h3>
   <ul>
    <li data-md>
     <p>Trivially convertable to SPIR-V</p>
    <li data-md>
     <p>Constructs are defined as normative references to their SPIR-V counterparts</p>
    <li data-md>
     <p>All features in WGSL are directly translatable to SPIR-V. (No polymorphism, no general pointers, no overloads, etc)</p>
    <li data-md>
     <p>Features and semantics are exactly the ones of SPIR-V</p>
    <li data-md>
     <p>Each item in this spec <em>must</em> provide the mapping to SPIR-V for the construct</p>
   </ul>
   <h3 class="heading settled" data-level="1.2" id="technical-overview"><span class="secno">1.2. </span><span class="content">Technical Overview TODO</span><a class="self-link" href="#technical-overview"></a></h3>
   <h3 class="heading settled" data-level="1.3" id="notation"><span class="secno">1.3. </span><span class="content">Notation</span><a class="self-link" href="#notation"></a></h3>
   <p>The <dfn data-dfn-type="dfn" data-noexport id="floor-expression">floor expression<a class="self-link" href="#floor-expression"></a></dfn> is defined over real numbers <var>x</var>:</p>
   <ul>
    <li data-md>
     <p>⌊<var>x</var>⌋ = <var>k</var>, where <var>k</var> is the unique integer such that <var>k</var> ≤ <var>x</var> &lt; <var>k</var>+1</p>
   </ul>
   <p>The <dfn data-dfn-type="dfn" data-noexport id="ceiling-expression">ceiling expression<a class="self-link" href="#ceiling-expression"></a></dfn> is defined over real numbers <var>x</var>:</p>
   <ul>
    <li data-md>
     <p>⌈<var>x</var>⌉ = <var>k</var>, where <var>k</var> is the unique integer such that <var>k</var>-1 &lt; <var>x</var> ≤ <var>k</var></p>
   </ul>
   <p>The <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="roundup">roundUp</dfn> function is defined for positive integers <var>k</var> and <var>n</var> as:</p>
   <ul>
    <li data-md>
     <p>roundUp(<var>k</var>, <var>n</var>) = ⌈<var>n</var> ÷ <var>k</var>⌉ × <var>k</var></p>
   </ul>
   <h2 class="heading settled" data-level="2" id="textual-structure"><span class="secno">2. </span><span class="content">Textual structure TODO</span><a class="self-link" href="#textual-structure"></a></h2>
   <p>TODO: This is a stub.</p>
   <p>A WGSL program is text.
This specification does not prescribe a particular encoding for that text.</p>
   <h3 class="heading settled" data-level="2.1" id="comments"><span class="secno">2.1. </span><span class="content">Comments</span><a class="self-link" href="#comments"></a></h3>
   <p>Comments begin with a <code>#</code> and continue to the end of the current line. There are no multi-line comments.</p>
   <p>TODO: What indicates the end of a line?  (E.g. A line ends at the next linefeed or at the end of the program)</p>
   <h3 class="heading settled" data-level="2.2" id="tokens"><span class="secno">2.2. </span><span class="content">Tokens TODO</span><a class="self-link" href="#tokens"></a></h3>
   <h3 class="heading settled" data-level="2.3" id="literals"><span class="secno">2.3. </span><span class="content">Literals TODO</span><a class="self-link" href="#literals"></a></h3>
   <table class="data">
    <thead>
     <tr>
      <th>Token
      <th>Definition 
    <tbody>
     <tr>
      <td><code>FLOAT_LITERAL</code>
      <td><code>(-?[0-9]*.[0-9]+ | -?[0-9]+.[0-9]*)((e|E)(+|-)?[0-9]+)?</code> 
     <tr>
      <td><code>INT_LITERAL</code>
      <td><code>-?0x[0-9a-fA-F]+ | 0 | -?[1-9][0-9]*</code> 
     <tr>
      <td><code>UINT_LITERAL</code>
      <td><code>0x[0-9a-fA-F]+u | 0u | [1-9][0-9]*u</code> 
     <tr>
      <td><code>STRING_LITERAL</code>
      <td><code>"[^"]*"</code> 
   </table>
   <p class="note" role="note"><span>Note:</span> literals are parsed greedy. This means that for statements like <code>a -5</code> this will <em>not</em> parse as <code>a</code> <code>minus</code> <code>5</code> but instead as <code>a</code> <code>-5</code> which
      may be unexpected. A space must be inserted after the <code>-</code> if the first
      expression is desired.</p>
<pre class="def">const_literal
  : INT_LITERAL
  | UINT_LITERAL
  | FLOAT_LITERAL
  | TRUE
  | FALSE
</pre>
   <h3 class="heading settled" data-level="2.4" id="keywords"><span class="secno">2.4. </span><span class="content">Keywords TODO</span><a class="self-link" href="#keywords"></a></h3>
   <p>TODO: <em>Stub</em></p>
   <p>See <a href="#keyword-summary">§ 12.1 Keyword Summary</a> for a list of keywords.</p>
   <h3 class="heading settled" data-level="2.5" id="identifiers"><span class="secno">2.5. </span><span class="content">Identifiers TODO</span><a class="self-link" href="#identifiers"></a></h3>
   <table class="data">
    <thead>
     <tr>
      <th>Token
      <th>Definition 
    <tbody>
     <tr>
      <td><code>IDENT</code>
      <td><code>[a-zA-Z][0-9a-zA-Z_]*</code> 
   </table>
   <p class="note" role="note"><span>Note:</span> literals are parsed greedy. This means that for statements like <code>a -5</code> this will <em>not</em> parse as <code>a</code> <code>minus</code> <code>5</code> but instead as <code>a</code> <code>-5</code> which
      may be unexpected. A space must be inserted after the <code>-</code> if the first
      expression is desired.</p>
   <h3 class="heading settled" data-level="2.6" id="attributes"><span class="secno">2.6. </span><span class="content">Attributes TODO</span><a class="self-link" href="#attributes"></a></h3>
   <h3 class="heading settled" data-level="2.7" id="declarations"><span class="secno">2.7. </span><span class="content">Declarations TODO</span><a class="self-link" href="#declarations"></a></h3>
   <p>TODO: This is a stub.</p>
   <p>(Forward Reference) A name can denote a value, a type, a function, or a variable.</p>
   <h4 class="heading settled" data-level="2.7.1" id="scoping"><span class="secno">2.7.1. </span><span class="content">Scoping</span><a class="self-link" href="#scoping"></a></h4>
   <p>A declaration introduces a name, given by an identifier token.
Scoping is the set of rules determining where that name may be used, in relation to
the position of the declaration in the program.
If a name may be used at a particular point in the program, then we say it is <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="in-scope">in scope</dfn>.</p>
   <p class="issue" id="issue-398e5f71"><a class="self-link" href="#issue-398e5f71"></a> (dneto) also lifetime.</p>
   <p>There are multiple levels of scoping depending on how and where things are
declared.</p>
   <p>A declaration must not introduce a name when that name is already in scope at the start
of the declaration.
That is, shadow names are not allowed in WGSL.</p>
   <h2 class="heading settled" data-level="3" id="types"><span class="secno">3. </span><span class="content">Types</span><a class="self-link" href="#types"></a></h2>
   <p class="note" role="note"><span>Note:</span> For the syntax of declaring types in WGSL please see the <a href="#grammar">§ 12 Keyword and Token Summary</a>.
TODO(dneto): This note is probably editorially obsolete.</p>
   <p>Programs calculate values. Each value in WGSL belongs to exactly one <em>type</em>.
A type is a set of (mathematical) values.</p>
   <p>We distinguish between the concept of a type and the syntax in WGSL to denote that type.
In many cases the spelling of a type in this document is the same as its WGSL syntax.
The spelling is different for structure types, or types containing structures.</p>
   <h3 class="heading settled" data-level="3.1" id="type-checking"><span class="secno">3.1. </span><span class="content">Type Checking</span><a class="self-link" href="#type-checking"></a></h3>
   <p>Type checking is the process of mapping terms in the WGSL source language to <a href="#types">§ 3 Types</a>.</p>
   <p>Generally, we start by determining types for the smallest WGSL source phrases, and then build up
via combining rules.</p>
   <p>If we can derive a type for the whole WGSL source program via the type rules, then we say
the program is <em>well-typed</em>.  Otherwise there is a type error and is not a valid
WGSL program.</p>
   <p class="issue" id="issue-df2f0761"><a class="self-link" href="#issue-df2f0761"></a> (dneto) complete</p>
   <h4 class="heading settled" data-level="3.1.1" id="type-check-preamble"><span class="secno">3.1.1. </span><span class="content">Explanation for those familiar with formal type checking</span><a class="self-link" href="#type-check-preamble"></a></h4>
   <p>Much of it can be bottom-up, like usual.</p>
   <p>The interesting bit is that the type of a pointer expression is either straightforward pointer
type itself, or the pointee type, depending on its <a href="#pointer-evaluation">§ 3.5.2 Pointer Evaluation TODO</a> context:</p>
   <ul>
    <li data-md>
     <p>In Indexing, Assigning (LValue), and Copying contexts, the pointer expression denotes a pointer value.</p>
    <li data-md>
     <p>In a Parameter context:</p>
    <li data-md>
     <p>If the parameter type matches the pointer expression’s straightforward pointer type, then the expression denotes that pointer type.</p>
    <li data-md>
     <p>Otherwise the pointer expression denotes a value of the pointee type, being the value loaded (at that time) from the referenced storage.</p>
    <li data-md>
     <p>In a Reading (RValue) context, the pointer expression denotes a value of the pointee type.</p>
   </ul>
   <h4 class="heading settled" data-level="3.1.2" id="type-check-how-to-read"><span class="secno">3.1.2. </span><span class="content">How to read type-checking rules</span><a class="self-link" href="#type-check-how-to-read"></a></h4>
   <p>A <em>type assertion</em> is a mapping from some WGSL source expression to an WGSL type.
When this specification has</p>
   <blockquote>
    <p><em>e</em> : <em>T</em></p>
   </blockquote>
   <p>we are saying the WGSL expression <em>e</em> is of type <em>T</em>.
In the type rules, the WGSL source expression will often have placeholders in <em>italics</em> that
represent sub-expressions in the grammar.</p>
   <p>In the type checking tables, each row represents a type deduction rule:
If the conditions in the precondition column are satisfied, then
the type assertion in the conclusion column is also satisfied.</p>
   <p>For convenience, we will use the following shorthands:</p>
   <table class="data">
    <tbody>
     <tr>
      <td><em>Scalar</em>
      <td><a data-link-type="dfn" href="#scalar" id="ref-for-scalar">scalar</a> types: one of bool, i32, u32, f32 
     <tr>
      <td><em>BoolVec</em>
      <td><a href="#vector-types">§ 3.3.5 Vector Types</a> with bool component 
     <tr>
      <td><em>Int</em>
      <td>i32 or u32 
     <tr>
      <td><em>IntVec</em>
      <td><a href="#vector-types">§ 3.3.5 Vector Types</a> with an <em>Int</em> component 
     <tr>
      <td><em>Integral</em>
      <td><em>Int</em> or <a href="#vector-types">§ 3.3.5 Vector Types</a> with an <em>Int</em> component 
     <tr>
      <td><em>SignedIntegral</em>
      <td>i32 or <a href="#vector-types">§ 3.3.5 Vector Types</a> with an i32 component 
     <tr>
      <td><em>FloatVec</em>
      <td><a href="#vector-types">§ 3.3.5 Vector Types</a> with f32 component 
     <tr>
      <td><em>Floating</em>
      <td>f32 or <em>FloatVec</em> 
     <tr>
      <td><em>Arity(T)</em>
      <td>number of components in <a href="#vector-types">§ 3.3.5 Vector Types</a> <em>T</em> 
   </table>
   <h3 class="heading settled" data-level="3.2" id="void-type"><span class="secno">3.2. </span><span class="content">Void Type</span><a class="self-link" href="#void-type"></a></h3>
   <p>The <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="void">void</dfn> type contains no values.</p>
   <p>It is used where a type is required by the language but where no values are produced or consumed.
For example, it is used for the return type of a function which does not produce a value.</p>
   <h3 class="heading settled" data-level="3.3" id="value-types"><span class="secno">3.3. </span><span class="content">Value Types</span><a class="self-link" href="#value-types"></a></h3>
   <h4 class="heading settled" data-level="3.3.1" id="bool-type"><span class="secno">3.3.1. </span><span class="content">Boolean Type</span><a class="self-link" href="#bool-type"></a></h4>
   <p>The <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="bool">bool</dfn> type contains the values true and false.</p>
   <h4 class="heading settled" data-level="3.3.2" id="integer-types"><span class="secno">3.3.2. </span><span class="content">Integer Types</span><a class="self-link" href="#integer-types"></a></h4>
   <p>The <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="u32">u32</dfn> type is the set of 32-bit unsigned integers.</p>
   <p>The <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="i32">i32</dfn> type is the set of 32-bit signed integers.
It uses a two’s complementation representation, with the sign bit in the most significant bit position.</p>
   <h4 class="heading settled" data-level="3.3.3" id="floating-point-types"><span class="secno">3.3.3. </span><span class="content">Floating Point Type</span><a class="self-link" href="#floating-point-types"></a></h4>
   <p>The <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="f32">f32</dfn> type is the set of 32-bit floating point values of the IEEE 754 binary32 (single precision) format.
See <a href="#floating-point-evaluation">§ 10.5 Floating Point Evaluation TODO</a> for details.</p>
   <h4 class="heading settled" data-level="3.3.4" id="scalar-types"><span class="secno">3.3.4. </span><span class="content">Scalar Types</span><a class="self-link" href="#scalar-types"></a></h4>
   <p>The <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="scalar">scalar</dfn> types are <a data-link-type="dfn" href="#bool" id="ref-for-bool">bool</a>, <a data-link-type="dfn" href="#i32" id="ref-for-i32">i32</a>, <a data-link-type="dfn" href="#u32" id="ref-for-u32">u32</a>, and <a data-link-type="dfn" href="#f32" id="ref-for-f32">f32</a>.</p>
   <p>The <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="numeric-scalar">numeric scalar</dfn> types are <a data-link-type="dfn" href="#i32" id="ref-for-i32①">i32</a>, <a data-link-type="dfn" href="#u32" id="ref-for-u32①">u32</a>, and <a data-link-type="dfn" href="#f32" id="ref-for-f32①">f32</a>.</p>
   <h4 class="heading settled" data-level="3.3.5" id="vector-types"><span class="secno">3.3.5. </span><span class="content">Vector Types</span><a class="self-link" href="#vector-types"></a></h4>
   <table class="data">
    <thead>
     <tr>
      <th>Type
      <th>Description 
    <tbody>
     <tr>
      <td>vec<em>N</em>&lt;<em>T</em>>
      <td>Vector of <em>N</em> elements of type <em>T</em>. <em>N</em> must be in {2, 3, 4} and <em>T</em> must be one of the <a data-link-type="dfn" href="#scalar" id="ref-for-scalar①">scalar</a> types.
                          We say <em>T</em> is the component type of the vector 
   </table>
   <p>A vector type is a <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="numeric-vector">numeric vector</dfn> type if its component type is a <a data-link-type="dfn" href="#numeric-scalar" id="ref-for-numeric-scalar">numeric scalar</a>.</p>
   <div class="example no-marker" id="example-a6734013">
    <a class="self-link" href="#example-a6734013"></a>
    <div class="marker">EXAMPLE: Vector</div>
<pre class="highlight"><c- n>vec2</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c->  # <c- n>is</c-> <c- n>a</c-> <c- n>vector</c-> <c- n>of</c-> <c- n>two</c-> <c- n>f32s</c-><c- p>.</c->
</pre>
   </div>
   <h4 class="heading settled" data-level="3.3.6" id="matrix-types"><span class="secno">3.3.6. </span><span class="content">Matrix Types</span><a class="self-link" href="#matrix-types"></a></h4>
   <table class="data">
    <thead>
     <tr>
      <th>Type
      <th>Description 
    <tbody>
     <tr>
      <td>mat<em>N</em>x<em>M</em>&lt;<em>T</em>>
      <td>Matrix of <em>N</em> columns and <em>M</em> rows, where <em>N</em> and <em>M</em> are both in {2, 3, 4}. <em>T</em> must be <em>f32</em>. 
   </table>
   <div class="example no-marker" id="example-46033c90">
    <a class="self-link" href="#example-46033c90"></a>
    <div class="marker">EXAMPLE: Matrix</div>
<pre class="highlight"><c- n>mat2x3</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c->  # <c- n>is</c-> <c- n>a</c-> <c- mi>2</c-> <c- n>column</c-><c- p>,</c-> <c- mi>3</c-> <c- n>row</c-> <c- n>matrix</c-> <c- n>of</c-> <c- mi>32</c-><c- o>-</c-><c- n>bit</c-> <c- n>floats</c-><c- p>.</c->
</pre>
   </div>
   <h4 class="heading settled" data-level="3.3.7" id="array-types"><span class="secno">3.3.7. </span><span class="content">Array Types</span><a class="self-link" href="#array-types"></a></h4>
   <table class="data">
    <thead>
     <tr>
      <th>Type
      <th>Description 
    <tbody>
     <tr>
      <td>array&lt;<em>E</em>,<em>N</em>>
      <td>An <em>N</em>-element array of elements of type <em>E</em>.<br> 
     <tr>
      <td>array&lt;<em>E</em>>
      <td>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="runtime-sized">runtime-sized</dfn> array of elements of type <em>E</em>,
                       also known as a runtime array.
                       These may only appear in specific contexts.<br> 
   </table>
   <p>Restrictions on runtime-sized arrays:</p>
   <ul>
    <li data-md>
     <p>The last member of the structure type defining the <a data-link-type="dfn" href="#store-type" id="ref-for-store-type">store type</a> for a variable in the <a data-link-type="dfn" href="#storage-classes-storage" id="ref-for-storage-classes-storage">storage</a> storage class may be a runtime-sized array.</p>
    <li data-md>
     <p>A runtime-sized array must not be used as the store type or contained within
a store type in any other cases.</p>
    <li data-md>
     <p>The type of an expression must not be a runtime-sized array type.</p>
   </ul>
   <p class="issue" id="issue-6610888b"><a class="self-link" href="#issue-6610888b"></a> (dneto): Complete description of <code>Array&lt;E,N></code></p>
   <h4 class="heading settled" data-level="3.3.8" id="struct-types"><span class="secno">3.3.8. </span><span class="content">Structure Types</span><a class="self-link" href="#struct-types"></a></h4>
   <table class="data">
    <thead>
     <tr>
      <th>Type
      <th>Description 
    <tbody>
     <tr>
      <td>struct&lt;<em>T1</em>,...,<em>Tn</em>>
      <td>An ordered tuple of <em>N</em> members of types <em>T1</em> through <em>Tn</em>, with <em>N</em> being an
                                    integer greater than 0. 
   </table>
   <div class="example no-marker" id="example-6eaf6553">
    <a class="self-link" href="#example-6eaf6553"></a>
    <div class="marker">EXAMPLE: Structure</div>
<pre class="highlight"><c- k>struct</c-> <c- nc>Data</c-> <c- p>{</c->
  <c- n>a</c-> : <c- b>i32</c-><c- p>;</c->
  <c- n>b</c-> : <c- nc>vec2</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c-><c- p>;</c->
<c- p>}</c->
</pre>
   </div>
   <table class="data">
    <caption>Structure attributes</caption>
    <thead>
     <tr>
      <th>Attribute
      <th>Description 
    <tbody>
     <tr>
      <td><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="block"><code>block</code></dfn> 
      <td>Applies to a structure type.<br> Indicates this structure type represents the contents of a
         buffer resource occupying a single binding slot in the <a data-link-type="dfn" href="#resource-interface-of-a-shader" id="ref-for-resource-interface-of-a-shader">shader’s resource interface</a>.
         The <code>block</code> attribute must be applied to a structure type used
         as the <a data-link-type="dfn" href="#store-type" id="ref-for-store-type①">store type</a> of a <a data-link-type="dfn" href="#uniform-buffer" id="ref-for-uniform-buffer">uniform buffer</a> or <a data-link-type="dfn" href="#storage-buffer" id="ref-for-storage-buffer">storage buffer</a> variable. 
   </table>
   <p>A structure type with the <a data-link-type="dfn" href="#block" id="ref-for-block">block</a> attribute must not be:</p>
   <ul>
    <li data-md>
     <p>the element type of an array type.</p>
    <li data-md>
     <p>the member type in another structure.</p>
   </ul>
<pre class="def">struct_decl
  : decoration_list* STRUCT IDENT struct_body_decl
</pre>
   <table class="data">
    <thead>
     <tr>
      <th>Struct decoration keys
      <th>Valid values
      <th>Note 
    <tbody>
     <tr>
      <td><code>block</code>
      <td>
      <td>The block decoration takes no parameters 
   </table>
<pre class="def">struct_body_decl
  : BRACE_LEFT struct_member* BRACE_RIGHT

struct_member
  : decoration_list* variable_ident_decl SEMICOLON
</pre>
   <table class="data">
    <thead>
     <tr>
      <th>Struct member decoration keys
      <th>Valid values
      <th>Note 
    <tbody>
     <tr>
      <td><code>offset</code>
      <td>non-negative i32 literal
      <td>
   </table>
   <p class="note" role="note"><span>Note:</span> Layout attributes are required if the structure type is used
to define a <a data-link-type="dfn" href="#uniform-buffer" id="ref-for-uniform-buffer①">uniform buffer</a> or a <a data-link-type="dfn" href="#storage-buffer" id="ref-for-storage-buffer①">storage buffer</a>. See <a href="#memory-layouts">§ 3.4.6 Memory Layout</a>.</p>
   <div class="example no-marker" id="example-65f8128a">
    <a class="self-link" href="#example-65f8128a"></a>
    <div class="marker">EXAMPLE: Structure</div>
<pre># Offset decorations
struct my_struct {
  [[offset(0)]] a : f32;
  [[offset(4)]] b : vec4&lt;f32>;
};

              OpName %my_struct "my_struct"
              OpMemberName %my_struct 0 "a"
              OpMemberDecorate %my_struct 0 Offset 0
              OpMemberName %my_struct 1 "b"
              OpMemberDecorate %my_struct 1 Offset 4
 %my_struct = OpTypeStruct %float %v4float

# Runtime Array
type RTArr = [[stride 16]] array&lt;vec4&lt;f32>>;
[[block]] struct S {
  [[offset(0)]] a : f32;
  [[offset(4)]] b : f32;
  [[offset(16)]] data : RTArr;
};

              OpName %my_struct "my_struct"
              OpMemberName %my_struct 0 "a"
              OpMemberDecorate %my_struct 0 Offset 0
              OpMemberName %my_struct 1 "b"
              OpMemberDecorate %my_struct 1 Offset 4
              OpMemberName %my_struct 2 "data"
              OpMemberDecorate %my_struct 2 Offset 16
              OpDecorate %rt_arr ArrayStride 16
    %rt_arr = OpTypeRuntimeArray %v4float
 %my_struct = OpTypeStruct %float %v4float %rt_arr
</pre>
   </div>
   <h3 class="heading settled" data-level="3.4" id="memory"><span class="secno">3.4. </span><span class="content">Memory TODO</span><a class="self-link" href="#memory"></a></h3>
   <p>TODO: This section is a stub.</p>
   <p>In WGSL, a value of <a data-link-type="dfn" href="#storable" id="ref-for-storable">storable</a> type may be stored in memory, for later retrieval.</p>
   <p>In general WGSL follows the <a data-link-type="biblio" href="#biblio-vulkanmemorymodel">Vulkan Memory Model</a> with the following exceptions</p>
   <ul>
    <li data-md>
     <p>No Acquire/Release semantics</p>
   </ul>
   <h4 class="heading settled" data-level="3.4.1" id="memory-locations"><span class="secno">3.4.1. </span><span class="content">Memory Locations TODO</span><a class="self-link" href="#memory-locations"></a></h4>
   <p>TODO: <em>This is a stub</em></p>
   <p>Memory consists of distinct locations.</p>
   <h4 class="heading settled" data-level="3.4.2" id="storable-types"><span class="secno">3.4.2. </span><span class="content">Storable Types</span><a class="self-link" href="#storable-types"></a></h4>
   <p>The following types are <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="storable">storable</dfn>:</p>
   <ul>
    <li data-md>
     <p><a href="#scalar-types">§ 3.3.4 Scalar Types</a></p>
    <li data-md>
     <p><a href="#vector-types">§ 3.3.5 Vector Types</a></p>
    <li data-md>
     <p><a href="#matrix-types">§ 3.3.6 Matrix Types</a></p>
    <li data-md>
     <p><a href="#array-types">§ 3.3.7 Array Types</a> if its element type is storable.</p>
    <li data-md>
     <p><a href="#struct-types">§ 3.3.8 Structure Types</a> if all its members are storable.</p>
   </ul>
   <h4 class="heading settled" data-level="3.4.3" id="io-shareable-types"><span class="secno">3.4.3. </span><span class="content">IO-shareable Types</span><a class="self-link" href="#io-shareable-types"></a></h4>
   <p>The following types are <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="io-shareable">IO-shareable</dfn>:</p>
   <ul>
    <li data-md>
     <p><a data-link-type="dfn" href="#numeric-scalar" id="ref-for-numeric-scalar①">numeric scalar</a> types</p>
    <li data-md>
     <p><a data-link-type="dfn" href="#numeric-vector" id="ref-for-numeric-vector">numeric vector</a> types</p>
    <li data-md>
     <p><a href="#matrix-types">§ 3.3.6 Matrix Types</a></p>
    <li data-md>
     <p><a href="#array-types">§ 3.3.7 Array Types</a> if its element type is IO-shareable, and the array is not <a data-link-type="dfn" href="#runtime-sized" id="ref-for-runtime-sized">runtime-sized</a></p>
    <li data-md>
     <p><a href="#struct-types">§ 3.3.8 Structure Types</a> if all its members are IO-shareable</p>
   </ul>
   <p>The following kinds of values must be of IO-shareable type:</p>
   <ul>
    <li data-md>
     <p>Values read from or written to built-in variables.</p>
    <li data-md>
     <p>Values accepted as inputs from an upstream pipeline stage.</p>
    <li data-md>
     <p>Values written as output for downstream processing in the pipeline, or to an output attachment.</p>
   </ul>
   <h4 class="heading settled" data-level="3.4.4" id="host-shareable-types"><span class="secno">3.4.4. </span><span class="content">Host-shareable Types</span><a class="self-link" href="#host-shareable-types"></a></h4>
   <p>Host-shareable types are used to describe the contents of buffers which are shared between
the host and the GPU, or copied between host and GPU without format translation.
When used for this purpose, the type must be additionally decorated with layout attributes
as described in <a href="#memory-layouts">§ 3.4.6 Memory Layout</a>.
We will see in <a href="#module-scope-variables">§ 4.1 Module Scope Variables</a> that the <a data-link-type="dfn" href="#store-type" id="ref-for-store-type②">store type</a> of <a data-link-type="dfn" href="#uniform-buffer" id="ref-for-uniform-buffer②">uniform buffer</a> and <a data-link-type="dfn" href="#storage-buffer" id="ref-for-storage-buffer②">storage buffer</a> variables must be host-shareable.</p>
   <p>The following types are <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="host-shareable">host-shareable</dfn>:</p>
   <ul>
    <li data-md>
     <p><a data-link-type="dfn" href="#numeric-scalar" id="ref-for-numeric-scalar②">numeric scalar</a> types</p>
    <li data-md>
     <p><a data-link-type="dfn" href="#numeric-vector" id="ref-for-numeric-vector①">numeric vector</a> types</p>
    <li data-md>
     <p><a href="#matrix-types">§ 3.3.6 Matrix Types</a></p>
    <li data-md>
     <p><a href="#array-types">§ 3.3.7 Array Types</a> if the array type has a <a data-link-type="dfn" href="#stride" id="ref-for-stride">stride</a> attribute and its element type is host-shareable</p>
    <li data-md>
     <p><a href="#struct-types">§ 3.3.8 Structure Types</a> if each member is host-shareable and has an <a data-link-type="dfn" href="#offset" id="ref-for-offset">offset</a> attribute</p>
   </ul>
   <table class="data">
    <caption>Layout attributes, for host-shareable types</caption>
    <thead>
     <tr>
      <th>Decoraton
      <th>Operand
      <th>Description 
    <tbody>
     <tr>
      <td><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="stride"><code>stride</code></dfn> 
      <td>positive i32 literal 
      <td>Applied to an array type.<br> The number of bytes from the start of one element of the array to the
         start of the next element. 
     <tr>
      <td><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="offset"><code>offset</code></dfn> 
      <td>non-negative i32 literal 
      <td>Applied to a member of a structure type.<br> The number of bytes between the start of the structure and the location
         of this member. 
   </table>
   <p class="note" role="note"><span>Note:</span> An <a data-link-type="dfn" href="#io-shareable" id="ref-for-io-shareable">IO-shareable</a> type would also be host-shareable if it and its subtypes have
the approporate <a data-link-type="dfn" href="#stride" id="ref-for-stride①">stride</a> and <a data-link-type="dfn" href="#offset" id="ref-for-offset①">offset</a> attributes.
Additionally, a <a data-link-type="dfn" href="#runtime-sized" id="ref-for-runtime-sized①">runtime-sized</a> array is host-shareable but is not IO-shareable.</p>
   <p class="note" role="note"><span>Note:</span> Both IO-shareable and host-shareable types have concrete sizes, but counted differently.
IO-shareable types are sized by a location-count metric, see <a href="#input-output-locations">§ 8.3.1.3 Input-output Locations TODO</a>.
Host-shareable types are sized by a byte-count metric, see <a href="#memory-layouts">§ 3.4.6 Memory Layout</a>.</p>
   <h4 class="heading settled" data-level="3.4.5" id="storage-class"><span class="secno">3.4.5. </span><span class="content">Storage Classes</span><a class="self-link" href="#storage-class"></a></h4>
   <p>Memory locations are partitioned into <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="storage-classes">storage classes</dfn>.
Each storage class has unique properties determining
mutability, visibility, the values it may contain,
and how to use variables with it.</p>
   <table class="data">
    <caption>Storage Classes</caption>
    <thead>
     <tr>
      <th>Storage class 
      <th>Readable by shader?<br>Writable by shader? 
      <th>Sharing among invocations 
      <th>Variable scope 
      <th>Restrictions on stored values 
      <th>Notes 
    <tbody>
     <tr>
      <td><dfn class="dfn-paneled" data-dfn-for="storage classes" data-dfn-type="dfn" data-noexport id="storage-classes-in">in</dfn> 
      <td>Read-only 
      <td>Same invocation only 
      <td><a data-link-type="dfn" href="#module-scope" id="ref-for-module-scope">Module scope</a> 
      <td><a data-link-type="dfn" href="#io-shareable" id="ref-for-io-shareable①">IO-shareable</a> 
      <td>Input from an upstream pipeline stage, or from the implementation. 
     <tr>
      <td><dfn class="dfn-paneled" data-dfn-for="storage classes" data-dfn-type="dfn" data-noexport id="storage-classes-out">out</dfn> 
      <td>Read-write 
      <td>Same invocation only 
      <td><a data-link-type="dfn" href="#module-scope" id="ref-for-module-scope①">Module scope</a> 
      <td><a data-link-type="dfn" href="#io-shareable" id="ref-for-io-shareable②">IO-shareable</a> 
      <td>Output to a downstream pipeline stage. 
     <tr>
      <td><dfn class="dfn-paneled" data-dfn-for="storage classes" data-dfn-type="dfn" data-noexport id="storage-classes-function">function</dfn> 
      <td>Read-write 
      <td>Same invocation only 
      <td><a data-link-type="dfn" href="#function-scope" id="ref-for-function-scope">Function scope</a> 
      <td><a data-link-type="dfn" href="#storable" id="ref-for-storable①">Storable</a> 
      <td>
     <tr>
      <td><dfn class="dfn-paneled" data-dfn-for="storage classes" data-dfn-type="dfn" data-noexport id="storage-classes-private">private</dfn> 
      <td>Read-write 
      <td>Same invocation only 
      <td><a data-link-type="dfn" href="#module-scope" id="ref-for-module-scope②">Module scope</a> 
      <td><a data-link-type="dfn" href="#storable" id="ref-for-storable②">Storable</a> 
      <td>
     <tr>
      <td><dfn class="dfn-paneled" data-dfn-for="storage classes" data-dfn-type="dfn" data-noexport id="storage-classes-workgroup">workgroup</dfn> 
      <td>Read-write 
      <td>Invocations in the same <a data-link-type="dfn" href="#compute-shader-stage" id="ref-for-compute-shader-stage">compute shader</a> <a data-link-type="dfn" href="#compute-shader-stage-workgroup" id="ref-for-compute-shader-stage-workgroup">workgroup</a> 
      <td><a data-link-type="dfn" href="#module-scope" id="ref-for-module-scope③">Module scope</a> 
      <td><a data-link-type="dfn" href="#storable" id="ref-for-storable③">Storable</a> 
      <td>
     <tr>
      <td><dfn class="dfn-paneled" data-dfn-for="storage classes" data-dfn-type="dfn" data-noexport id="storage-classes-uniform">uniform</dfn> 
      <td>Read-only 
      <td>Invocations in the same <a data-link-type="dfn" href="#shader-stages" id="ref-for-shader-stages">shader stage</a> 
      <td><a data-link-type="dfn" href="#module-scope" id="ref-for-module-scope④">Module scope</a> 
      <td><a data-link-type="dfn" href="#host-shareable" id="ref-for-host-shareable">Host-shareable</a> 
      <td>For <a data-link-type="dfn" href="#uniform-buffer" id="ref-for-uniform-buffer③">uniform buffer</a> variables 
     <tr>
      <td><dfn class="dfn-paneled" data-dfn-for="storage classes" data-dfn-type="dfn" data-noexport id="storage-classes-storage">storage</dfn> 
      <td>Readable.<br> Also writable if the variable is not read-only. 
      <td>Invocations in the same <a data-link-type="dfn" href="#shader-stages" id="ref-for-shader-stages①">shader stage</a> 
      <td><a data-link-type="dfn" href="#module-scope" id="ref-for-module-scope⑤">Module scope</a> 
      <td><a data-link-type="dfn" href="#host-shareable" id="ref-for-host-shareable①">Host-shareable</a> 
      <td>For <a data-link-type="dfn" href="#storage-buffer" id="ref-for-storage-buffer③">storage buffer</a> variables 
     <tr>
      <td><dfn class="dfn-paneled" data-dfn-for="storage classes" data-dfn-type="dfn" data-noexport id="storage-classes-handle">handle</dfn> 
      <td>Read-only 
      <td>Invocations in the same shader stage 
      <td><a data-link-type="dfn" href="#module-scope" id="ref-for-module-scope⑥">Module scope</a> 
      <td>Opaque representation of handle to a sampler or texture 
      <td>Used for sampler and texture variables<br> The token <code>handle</code> is reserved: it is never used in a WGSL program. 
   </table>
   <p class="issue" id="issue-b8ef77ed"><a class="self-link" href="#issue-b8ef77ed"></a> The note about read-only <a data-link-type="dfn" href="#storage-classes-storage" id="ref-for-storage-classes-storage①">storage</a> variables may change depending
on the outcome of https://github.com/gpuweb/gpuweb/issues/935</p>
<pre class="def">storage_class
  : IN
  | OUT
  | FUNCTION
  | PRIVATE
  | WORKGROUP
  | UNIFORM
  | STORAGE
</pre>
   <table class="data">
    <thead>
     <tr>
      <th>WGSL storage class
      <th>SPIR-V storage class 
    <tbody>
     <tr>
      <td>in
      <td>Input 
     <tr>
      <td>out
      <td>Output 
     <tr>
      <td>uniform
      <td>Uniform 
     <tr>
      <td>workgroup
      <td>Workgroup 
     <tr>
      <td>handle
      <td>UniformConstant 
     <tr>
      <td>storage
      <td>StorageBuffer 
     <tr>
      <td>private
      <td>Private 
     <tr>
      <td>function
      <td>Function 
   </table>
   <h4 class="heading settled" data-level="3.4.6" id="memory-layouts"><span class="secno">3.4.6. </span><span class="content">Memory Layout</span><a class="self-link" href="#memory-layouts"></a></h4>
   <p><a data-link-type="dfn" href="#uniform-buffer" id="ref-for-uniform-buffer④">Uniform buffer</a> and <a data-link-type="dfn" href="#storage-buffer" id="ref-for-storage-buffer④">storage buffer</a> variables are used to share
bulk data organized as a sequence of bytes in memory.
Buffers are shared between the CPU and the GPU, or between different shader stages
in a pipeline, or between different pipelines.</p>
   <p>Because buffer data are shared without reformatting or translation,
buffer producers and consumers must agree on the <dfn data-dfn-type="dfn" data-noexport id="memory-layout">memory layout<a class="self-link" href="#memory-layout"></a></dfn>,
which is the description of how the bytes in a buffer are organized into typed WGSL values.</p>
   <p>The <a data-link-type="dfn" href="#store-type" id="ref-for-store-type③">store type</a> of a buffer variable must be <a data-link-type="dfn" href="#host-shareable" id="ref-for-host-shareable②">host-shareable</a>, with fully elaborated memory layout, as described below.</p>
   <p>Each buffer variable must be declared in either the <a data-link-type="dfn" href="#storage-classes-uniform" id="ref-for-storage-classes-uniform">uniform</a> or <a data-link-type="dfn" href="#storage-classes-storage" id="ref-for-storage-classes-storage②">storage</a> storage classes.</p>
   <p>The memory layout of a type is significant only when evaluating an expression with:</p>
   <ul>
    <li data-md>
     <p>a variable in the <a data-link-type="dfn" href="#storage-classes-uniform" id="ref-for-storage-classes-uniform①">uniform</a> or <a data-link-type="dfn" href="#storage-classes-storage" id="ref-for-storage-classes-storage③">storage</a> storage class, or</p>
    <li data-md>
     <p>a pointer into the <a data-link-type="dfn" href="#storage-classes-uniform" id="ref-for-storage-classes-uniform②">uniform</a> or <a data-link-type="dfn" href="#storage-classes-storage" id="ref-for-storage-classes-storage④">storage</a> storage class.</p>
   </ul>
   <p>An 8-bit byte is the most basic unit of <a data-link-type="dfn" href="#host-shareable" id="ref-for-host-shareable③">host-shareable</a> memory.
The terms defined in this section express counts of 8-bit bytes.</p>
   <p>We will use the following notation:</p>
   <ul>
    <li data-md>
     <p><var>Stride</var>(<var>A</var>) is the value of the <a data-link-type="dfn" href="#stride" id="ref-for-stride②">stride</a> attribute of array type <var>A</var>.</p>
    <li data-md>
     <p><var>Offset</var>(<var>S</var>,<var>i</var>) is the value of the <a data-link-type="dfn" href="#offset" id="ref-for-offset②">offset</a> attribute of the <var>i</var>’th member of structure type <var>S</var>.</p>
   </ul>
   <p>The remainder of this section is structured as follows:</p>
   <ul>
    <li data-md>
     <p>Section <a href="#memory-layout-intent">§ 3.4.6.1 Memory Layout Intent</a> describes the intent of the layout rules.  It is not normative.</p>
    <li data-md>
     <p>Section <a href="#internal-value-layout">§ 3.4.6.2 Internal Layout of Values</a> says how the internals of a value are placed in byte memory
locations starting from a given byte offset in a buffer.  For composite types the layout
depends on the properties of the type itself, the storage class, and the user-specified <a data-link-type="dfn" href="#stride" id="ref-for-stride③">stride</a> and <a data-link-type="dfn" href="#offset" id="ref-for-offset③">offset</a> attributes.</p>
    <li data-md>
     <p>Section <a href="#layout-constraints">§ 3.4.6.3 Layout Constraints and Standard Buffer Layout</a> describes the contraints on array strides and structure member
offsets, ultimately yielding definitions for <a data-link-type="dfn" href="#uniform-buffer-layout" id="ref-for-uniform-buffer-layout">uniform buffer layout</a> and <a data-link-type="dfn" href="#storage-buffer-layout" id="ref-for-storage-buffer-layout">storage buffer layout</a>.</p>
   </ul>
   <h5 class="heading settled" data-level="3.4.6.1" id="memory-layout-intent"><span class="secno">3.4.6.1. </span><span class="content">Memory Layout Intent</span><a class="self-link" href="#memory-layout-intent"></a></h5>
   <p>This section is informative, not normative.</p>
   <p>The layout rules describe two sets of constraints, one for uniform buffers and one for storage buffers.
They are similar in many respects, but the uniform buffer layout is more restrictive.</p>
   <p>In particular:</p>
   <ul>
    <li data-md>
     <p>Scalar data values are aligned to their own size.</p>
    <li data-md>
     <p>There is no padding between components of a vector.</p>
    <li data-md>
     <p>Two-element and four-element vectors are aligned to their size.</p>
    <li data-md>
     <p>Three-element vectors are aligned as if they were four-element vectors.</p>
    <li data-md>
     <p>An array’s element alignment is a multiple of the element type’s alignment.</p>
     <ul>
      <li data-md>
       <p>In a uniform buffer, the array element alignment is also a multiple of 16.</p>
     </ul>
    <li data-md>
     <p>An array’s alignment is the same as its element alignment.</p>
    <li data-md>
     <p>A matrix with <var>N</var> columns is aligned as if it were an array of <var>N</var> column vectors.</p>
    <li data-md>
     <p>A structure inherits the worst-case alignment of any of its members.</p>
     <ul>
      <li data-md>
       <p>In a uniform buffer, the structure alignment is also a multiple of 16.</p>
     </ul>
    <li data-md>
     <p>The members of a structure are laid out in order: earlier members are appear earlier in
the buffer</p>
   </ul>
   <p>Additionally we define a value’s allocation extent, or memory footprint, which determines
how many memory locations must be reserved to store that value in host-shareable memory.
Allocation extent is a determining factor of the minimum size of a buffer that can be bound
to a uniform buffer variable
or to a storage buffer variable.
See <a href="#resource-layout-compatibility">§ 8.3.3 Resource layout compatibility</a>.</p>
   <p>Compared to OpenGL:</p>
   <ul>
    <li data-md>
     <p>For any type, OpenGL <code>std140</code> layout is the same as using the tightest offset and stride assignments in WGSL <a data-link-type="dfn" href="#uniform-buffer-layout" id="ref-for-uniform-buffer-layout①">uniform buffer layout</a>.</p>
    <li data-md>
     <p>For any type, OpenGL <code>std430</code> layout is the same as using the tightest offset and stride assignments in WGSL <a data-link-type="dfn" href="#storage-buffer-layout" id="ref-for-storage-buffer-layout①">storage buffer layout</a>.</p>
    <li data-md>
     <p>OpenGL supports row-major matrices, but WGSL does not.</p>
   </ul>
   <p>Compared to <a data-link-type="biblio" href="#biblio-vulkan12ext">Vulkan § 15.6.4 Offset and Stride Assignment</a>:</p>
   <ul>
    <li data-md>
     <p>Vulkan <em>standard buffer layout</em> maps to WGSL <a data-link-type="dfn" href="#standard-buffer-layout-rules" id="ref-for-standard-buffer-layout-rules">standard buffer layout rules</a> with the following qualifications:</p>
     <ul>
      <li data-md>
       <p>Vulkan allows a vector to be aligned to the size of its scalar component, but WGSL requires a more constrained alignment.</p>
      <li data-md>
       <p>The Vulkan <code>scalarBlockLayout</code> and <code>uniformBufferStandardLayout</code> features do not apply to WGSL.</p>
      <li data-md>
       <p>The Vulkan concept of <em>scalar alignment</em> does not correspond to a concept in WGSL;</p>
     </ul>
    <li data-md>
     <p>The Vulkan <em>base alignment</em> for a type <var>S</var> corresponds to the WGSL alignment requirement for <var>S</var> in the <a data-link-type="dfn" href="#storage-classes-storage" id="ref-for-storage-classes-storage⑤">storage</a> storage class: <var>Align</var>(<var>S</var>,<code>storage</code>).</p>
    <li data-md>
     <p>The Vulkan <em>extended alignment</em> for a type <var>S</var> corresponds to the WGSL alignment requirement for <var>S</var> in the <a data-link-type="dfn" href="#storage-classes-uniform" id="ref-for-storage-classes-uniform③">uniform</a> storage class: <var>Align</var>(<var>S</var>,<code>uniform</code>).</p>
    <li data-md>
     <p>The Vulkan concept of <em>improperly straddle</em> is not permitted in WGSL, because WGSL requires vectors to be aligned to their whole size.</p>
    <li data-md>
     <p>Vulkan supports non-32-bit scalar types and vector types with non-32-bit components, but WGSL does not.</p>
    <li data-md>
     <p>Vulkan supports row-major matrices, but WGSL does not.</p>
    <li data-md>
     <p>Vulkan allows offsets to be non-monotonic, but WGSL does not.</p>
   </ul>
   <h5 class="heading settled" data-level="3.4.6.2" id="internal-value-layout"><span class="secno">3.4.6.2. </span><span class="content">Internal Layout of Values</span><a class="self-link" href="#internal-value-layout"></a></h5>
   <p>This section describes how the internals of a value are placed in the byte locations
of a buffer, given an assumed placement of the overall value.
These layouts depend on the value’s type, the storage class of the buffer,
the <a data-link-type="dfn" href="#stride" id="ref-for-stride④">stride</a> attribute on array types, and the <a data-link-type="dfn" href="#offset" id="ref-for-offset④">offset</a> attribute on structure type
members.</p>
   <p class="note" role="note"><span>Note:</span> Matrix values are laid out more compactly in the <a data-link-type="dfn" href="#storage-classes-storage" id="ref-for-storage-classes-storage⑥">storage</a> storage class
than in the <a data-link-type="dfn" href="#storage-classes-uniform" id="ref-for-storage-classes-uniform④">uniform</a> storage class.</p>
   <p>A type can be used for values in both <a data-link-type="dfn" href="#storage-classes-uniform" id="ref-for-storage-classes-uniform⑤">uniform</a> and <a data-link-type="dfn" href="#storage-classes-storage" id="ref-for-storage-classes-storage⑦">storage</a> storage classes.
This is valid as long as the layout constraints are satisifed for both storage classes.
The data will appear identically in both storage classes, except for the case of matrices noted above.</p>
   <p>When a value <var>V</var> of type <a data-link-type="dfn" href="#u32" id="ref-for-u32②">u32</a> or <a data-link-type="dfn" href="#i32" id="ref-for-i32②">i32</a> is placed at byte offset <var>k</var> of a host-shared buffer, then:</p>
   <ul>
    <li data-md>
     <p>Byte <var>k</var> contains bits 0 through 7 of <var>V</var></p>
    <li data-md>
     <p>Byte <var>k</var>+1 contains bits 8 through 15 of <var>V</var></p>
    <li data-md>
     <p>Byte <var>k</var>+2 contains bits 16 through 23 of <var>V</var></p>
    <li data-md>
     <p>Byte <var>k</var>+3 contains bits 24 through 31 of <var>V</var></p>
   </ul>
   <p class="note" role="note"><span>Note:</span> Recall that <a data-link-type="dfn" href="#i32" id="ref-for-i32③">i32</a> uses twos-complement representation, so the sign bit
is in bit position 31.</p>
   <p>A value <var>V</var> of type <a data-link-type="dfn" href="#f32" id="ref-for-f32②">f32</a> is represented in IEEE 754 binary32 format.
It has one sign bit, 8 exponent bits, and 23 fraction bits.
When <var>V</var> is placed at byte offset <var>k</var> of host-shared buffer, then:</p>
   <ul>
    <li data-md>
     <p>Byte <var>k</var> contains bits 0 through 7 of the fraction.</p>
    <li data-md>
     <p>Byte <var>k</var>+1 contains bits 8 through 15 of the fraction.</p>
    <li data-md>
     <p>Bits 0 through 6 of byte <var>k</var>+2 contain bits 16 through 23 of the fraction.</p>
    <li data-md>
     <p>Bit 7 of byte <var>k</var>+2 contains bit 0 bit of the exponent.</p>
    <li data-md>
     <p>Bits 0 through 6 of byte <var>k</var>+3 contain bits 1 through 7 of the exponent.</p>
    <li data-md>
     <p>Bit 7 of byte <var>k</var>+3 contains the sign bit.</p>
   </ul>
   <p class="note" role="note"><span>Note:</span> The above rules imply that numeric values in host-shared buffers
are stored in little-endian format.</p>
   <p>When a value <var>V</var> of vector type vec<var>N</var>&lt;<var>T</var>> is placed at
byte offset <var>k</var> of a host-shared buffer, then:</p>
   <ul>
    <li data-md>
     <p><var>V</var>.x is placed at byte offset <var>k</var></p>
    <li data-md>
     <p><var>V</var>.y is placed at byte offset <var>k</var>+4</p>
    <li data-md>
     <p>If <var>N</var> ≥ 3, then <var>V</var>.z is placed at byte offset <var>k</var>+8</p>
    <li data-md>
     <p>If <var>N</var> ≥ 4, then <var>V</var>.w is placed at byte offset <var>k</var>+12</p>
   </ul>
   <p>When a matrix value <var>M</var> is placed at byte offset <var>k</var> of a host-shared memory buffer in
the <a data-link-type="dfn" href="#storage-classes-storage" id="ref-for-storage-classes-storage⑧">storage</a> <a data-link-type="dfn" href="#storage-classes" id="ref-for-storage-classes">storage class</a>, then:</p>
   <ul>
    <li data-md>
     <p>If <var>M</var> has 2 rows, then:</p>
     <ul>
      <li data-md>
       <p>Column vector <var>i</var> of <var>M</var> is placed at byte offset <var>k</var> + 8 × <var>i</var></p>
     </ul>
    <li data-md>
     <p>If <var>M</var> has 3 or 4 rows, then:</p>
     <ul>
      <li data-md>
       <p>Column vector <var>i</var> of <var>M</var> is placed at byte offset <var>k</var> + 16 × <var>i</var></p>
     </ul>
   </ul>
   <p>When a matrix value <var>M</var> is placed at byte offset <var>k</var> of a host-shared memory buffer in
the <a data-link-type="dfn" href="#storage-classes-uniform" id="ref-for-storage-classes-uniform⑥">uniform</a> storage class, then:</p>
   <ul>
    <li data-md>
     <p>Column vector <var>i</var> of <var>M</var> is placed at byte offset <var>k</var> + 16 × <var>i</var></p>
   </ul>
   <p>When a value of array type <var>A</var> is placed at byte offset <var>k</var> of a host-shared memory buffer,
then:</p>
   <ul>
    <li data-md>
     <p>Element <var>i</var> of the array is placed at byte offset <var>k</var> + <var>i</var> × <var>Stride</var>(<var>A</var>)</p>
   </ul>
   <p>When a value of structure type <var>S</var> is placed at byte offset <var>k</var> of a host-shared memory buffer,
then:</p>
   <ul>
    <li data-md>
     <p>The <var>i</var>’th member of the structure value is placed at byte offset <var>k</var> + <var>Offset</var>(<var>S</var>,<var>i</var>)</p>
   </ul>
   <h5 class="heading settled" data-level="3.4.6.3" id="layout-constraints"><span class="secno">3.4.6.3. </span><span class="content">Layout Constraints and Standard Buffer Layout</span><a class="self-link" href="#layout-constraints"></a></h5>
   <p>This section defines a standard buffer layout, parameterized on storage class,
and the associated constraints on array strides and structure member offsets.
It also provides a way to compute the number of bytes occupied by a buffer variable
and by its internal components.</p>
   <p>The <dfn data-dfn-type="dfn" data-noexport id="alignment">alignment<a class="self-link" href="#alignment"></a></dfn> of a type constrains
the byte index at which a value of that type
may be placed relative to the start of the host-shareable buffer.
The constraint is expressed below, after other necessary terms are also defined.
Alignment is a function of both the type and the <a data-link-type="dfn" href="#storage-classes" id="ref-for-storage-classes①">storage class</a> of the buffer.</p>
   <p>We write <var>Align</var>(<var>S</var>,<var>C</var>) for the alignment of host-shareable
type <var>S</var> in storage class <var>C</var>, where <var>C</var> is either <a data-link-type="dfn" href="#storage-classes-storage" id="ref-for-storage-classes-storage⑨">storage</a> or <a data-link-type="dfn" href="#storage-classes-storage" id="ref-for-storage-classes-storage①⓪">storage</a>.
It is defined recursively in the following table:</p>
   <table class="data">
    <caption>Alignment of a host-shareable type</caption>
    <thead>
     <tr>
      <th>Host-shareable type <var>S</var> 
      <th><var>Align</var>(<var>S</var>,<code>storage</code>) 
      <th><var>Align</var>(<var>S</var>,<code>uniform</code>) 
    <tbody>
     <tr>
      <td><a data-link-type="dfn" href="#i32" id="ref-for-i32④">i32</a>, <a data-link-type="dfn" href="#u32" id="ref-for-u32③">u32</a>, or <a data-link-type="dfn" href="#f32" id="ref-for-f32③">f32</a> 
      <td>4 
      <td>4 
     <tr>
      <td>vec2&lt;<var>T</var>>,
      where <var>T</var> is one of <a data-link-type="dfn" href="#i32" id="ref-for-i32⑤">i32</a>, <a data-link-type="dfn" href="#u32" id="ref-for-u32④">u32</a>, or <a data-link-type="dfn" href="#f32" id="ref-for-f32④">f32</a> 
      <td>8 
      <td>8 
     <tr>
      <td>vec3&lt;<var>T</var>>,
      where <var>T</var> is one of <a data-link-type="dfn" href="#i32" id="ref-for-i32⑥">i32</a>, <a data-link-type="dfn" href="#u32" id="ref-for-u32⑤">u32</a>, or <a data-link-type="dfn" href="#f32" id="ref-for-f32⑤">f32</a> 
      <td>16 
      <td>16 
     <tr>
      <td>vec4&lt;<var>T</var>>,
      where <var>T</var> is one of <a data-link-type="dfn" href="#i32" id="ref-for-i32⑦">i32</a>, <a data-link-type="dfn" href="#u32" id="ref-for-u32⑥">u32</a>, or <a data-link-type="dfn" href="#f32" id="ref-for-f32⑥">f32</a> 
      <td>16 
      <td>16 
     <tr class="algorithm" data-algorithm="alignment of a matrix with 2 rows">
      <td>mat<var>N</var>x2&lt;f32> 
      <td>8 
      <td>16 
     <tr class="algorithm" data-algorithm="alignment of a matrix with 3 rows">
      <td>mat<var>N</var>x3&lt;f32> 
      <td>16 
      <td>16 
     <tr class="algorithm" data-algorithm="alignment of a matrix with 4 rows">
      <td>mat<var>N</var>x4&lt;f32> 
      <td>16 
      <td>16 
     <tr class="algorithm" data-algorithm="alignment of an array">
      <td>array&lt;<var>T</var>,<var>N</var>> 
      <td><var>Align</var>(<var>T</var>,<code>storage</code>) 
      <td><a data-link-type="dfn" href="#roundup" id="ref-for-roundup">roundUp</a>(16, <var>Align</var>(<var>T</var>,<code>uniform</code>)) 
     <tr class="algorithm" data-algorithm="alignment of an runtime-sized array">
      <td>array&lt;<var>T</var>> 
      <td><var>Align</var>(<var>T</var>,<code>storage</code>) 
      <td><a data-link-type="dfn" href="#roundup" id="ref-for-roundup①">roundUp</a>(16, <var>Align</var>(<var>T</var>,<code>uniform</code>)) 
     <tr class="algorithm" data-algorithm="alignment of a structure">
      <td>struct&lt;<var>T1</var>,...,<var>Tn</var>> 
      <td>max(<var>Align</var>(<var>T1</var>,<code>storage</code>),..., <var>Align</var>(<var>Tn</var>,<code>storage</code>)) 
      <td>roundUp(16, <var>A</var>),<br> where <var>A</var> = max(<var>Align</var>(<var>T1</var>,<code>uniform</code>),..., <var>Align</var>(<var>Tn</var>,<code>uniform</code>))) 
   </table>
   <p>The <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="allocation-extent">allocation extent</dfn> of a value <var>V</var> is the number of contiguous bytes reserved in host-shareable memory
for the purpose of storing <var>V</var>.
It is a function of the type of <var>V</var>, the size of any runtime-sized array that <var>V</var> may
contain, and the <a data-link-type="dfn" href="#storage-classes" id="ref-for-storage-classes②">storage class</a> of the buffer.</p>
   <p class="note" role="note"><span>Note:</span> The allocation extent may include padding inserted to satisfy alignment rules.
Consequently, loads and stores of a value might access fewer memory locations
than value’s allocation extent.</p>
   <p>We write <var>Extent</var>(<var>V</var>,<var>C</var>) for the allocation extent of value <var>V</var> of host-shareable type <var>S</var> in storage class <var>C</var>,
where <var>C</var> is either <a data-link-type="dfn" href="#storage-classes-storage" id="ref-for-storage-classes-storage①①">storage</a> or <a data-link-type="dfn" href="#storage-classes-storage" id="ref-for-storage-classes-storage①②">storage</a>.
It is defined recursively in the following table:</p>
   <table class="data">
    <caption>Allocation extent of a value of host-shareable type</caption>
    <thead>
     <tr>
      <th>Host-shareable type <var>S</var> 
      <th><var>Extent</var>(<var>V</var>,<code>storage</code>)<br>where <var>V</var> is of type <var>S</var> 
      <th><var>Extent</var>(<var>V</var>,<code>uniform</code>)<br>where <var>V</var> is of type <var>S</var> 
    <tbody>
     <tr>
      <td><a data-link-type="dfn" href="#i32" id="ref-for-i32⑧">i32</a>, <a data-link-type="dfn" href="#u32" id="ref-for-u32⑦">u32</a>, or <a data-link-type="dfn" href="#f32" id="ref-for-f32⑦">f32</a> 
      <td>4 
      <td>4 
     <tr>
      <td>vec<var>N</var>&lt;<var>T</var>>,
      where <var>T</var> is one of <a data-link-type="dfn" href="#i32" id="ref-for-i32⑨">i32</a>, <a data-link-type="dfn" href="#u32" id="ref-for-u32⑧">u32</a>, or <a data-link-type="dfn" href="#f32" id="ref-for-f32⑧">f32</a> 
      <td><var>N</var> × 4 
      <td><var>N</var> × 4 
     <tr class="algorithm" data-algorithm="extent of a matrix with 2 rows">
      <td>mat<var>N</var>x2&lt;f32> 
      <td><var>N</var> × 8 
      <td><var>N</var> × 16 
     <tr class="algorithm" data-algorithm="extent of a matrix with 3 rows">
      <td>mat<var>N</var>x3&lt;f32> 
      <td><var>N</var> × 16 
      <td><var>N</var> × 16 
     <tr class="algorithm" data-algorithm="extent of a matrix with 4 rows">
      <td>mat<var>N</var>x4&lt;f32> 
      <td><var>N</var> × 16 
      <td><var>N</var> × 16 
     <tr class="algorithm" data-algorithm="extent of an array">
      <td>array&lt;<var>T</var>,<var>N</var>> 
      <td><var>N</var> × <var>Stride</var>(<var>S</var>) 
      <td><var>N</var> × <var>Stride</var>(<var>S</var>) 
     <tr class="algorithm" data-algorithm="extent of an runtime-sized array">
      <td>array&lt;<var>T</var>> 
      <td><var>N</var><sub>runtime</sub> × <var>Stride</var>(<var>S</var>),<br> where <var>N</var><sub>runtime</sub> is the runtime-determined number of elements of <var>V</var> 
      <td>Not applicable: <a data-link-type="dfn" href="#runtime-sized" id="ref-for-runtime-sized②">runtime-sized</a> arrays cannot appear in <a data-link-type="dfn" href="#storage-classes-storage" id="ref-for-storage-classes-storage①③">storage</a> storage 
     <tr class="algorithm" data-algorithm="extent of a structure">
      <td>struct&lt;<var>T</var><sub>1</sub>,...,<var>T</var><sub><var>n</var></sub>> 
      <td><a data-link-type="dfn" href="#roundup" id="ref-for-roundup②">roundUp</a>(<var>Align</var>(<var>S</var>,<code>storage</code>),<var>L</var>),<br> where <var>L</var> = <var>Offset</var>(<var>S</var>,<var>n</var>) + <var>Extent</var>(<var>V</var><sub><var>n</var></sub>,<code>storage</code>)),<br> and <var>V</var><sub><var>n</var></sub> is the last member of <var>V</var> 
      <td><a data-link-type="dfn" href="#roundup" id="ref-for-roundup③">roundUp</a>(<var>Align</var>(<var>S</var>,<code>uniform</code>),<var>L</var>),<br> where <var>L</var> = <var>Offset</var>(<var>S</var>,<var>n</var>) + <var>Extent</var>(<var>V</var><sub><var>n</var></sub>,<code>uniform</code>)),<br> and <var>V</var><sub><var>n</var></sub> is the last member of <var>V</var> 
   </table>
   <p>When a type <var>S</var> is not a runtime-sized array and it does not contain a runtime-sized array, then
all values <var>V</var> of type <var>S</var> will have the same allocation extent for a storage class <var>C</var>.
In these cases we define the allocation extent of the <em>type</em> <var>S</var> as that common value: <var>Extent</var>(<var>S</var>,<var>C</var>) = <var>Extent</var>(<var>V</var>,<var>C</var>), for any <var>V</var> of type <var>S</var>.</p>
   <p class="note" role="note"><span>Note:</span> When underlying the target is a Vulkan device, we assume the device does
not support the <code>scalarBlockLayout</code> feature.
Therefore, a data value must not be placed in the padding at the end of a structure or matrix,
nor in the padding at the last element of an array.
Counting such padding as part of the allocation extent allows WGSL to capture this constraint.</p>
   <p>Host-shareable type <var>S</var> satisfies <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="standard-buffer-layout-rules">standard buffer layout rules</dfn> for storage class <var>C</var> when:</p>
   <ul>
    <li data-md>
     <p>If <var>S</var> is a structure type struct&lt;<var>T</var><sub>1</sub>,...,<var>T</var><sub><var>n</var></sub>>, then it satisfies
standard buffer layout rules for <var>C</var> when all the following are satisifed:</p>
     <ul>
      <li data-md>
       <p>Each member type <var>T</var><sub><var>i</var></sub> satisfies standard buffer layout rules for <var>C</var></p>
      <li data-md>
       <p>Members do not overlap, and are laid out in declaration order:</p>
       <p class="algorithm" data-algorithm="member offsets increase and prevent overlap"> <var>Offset</var>(<var>S</var>,<var>i</var>) + <var>Extent</var>(<var>T</var><sub><var>i</var></sub>,<var>C</var>)
    ≤ <var>Offset</var>(<var>S</var>,<var>i</var>+1), for 1 ≤ <var>i</var> &lt; <var>n</var> </p>
      <li data-md>
       <p>If the structure is aligned, then members will also be aligned:</p>
       <p class="algorithm" data-algorithm="member alignment"> <var>Offset</var>(<var>S</var>,<var>i</var>)
    = <var>k</var> × <var>Align</var>(<var>T</var><sub><var>i</var></sub>,<var>C</var>),
    for some non-negative integer <var>k</var> </p>
     </ul>
    <li data-md>
     <p>If <var>S</var> is an array type <code>array</code>&lt;<var>E</var>,<var>N</var>> or <code>array</code>&lt;<var>E</var>>, then it satisfies
standard buffer layout rules for <var>C</var> when all the following are satisifed:</p>
     <ul>
      <li data-md>
       <p>Element type <var>E</var> satisfies standard buffer layout rules for <var>C</var></p>
      <li data-md>
       <p>The stride ensures elements don’t overlap:</p>
       <p class="algorithm" data-algorithm="stride prevents overlap"> <var>Stride</var>(<var>S</var>) ≥ <var>Extent</var>(<var>E</var>,<var>C</var>) </p>
      <li data-md>
       <p>If the array is aligned, then each array element is aligned:</p>
       <p class="algorithm" data-algorithm="stride respects array element alignment"> <var>Stride</var>(<var>S</var>) = <var>k</var> × <var>Align</var>(<var>E</var>,<var>C</var>), for some positive integer <var>k</var> </p>
      <li data-md>
       <p>For the <a data-link-type="dfn" href="#storage-classes-storage" id="ref-for-storage-classes-storage①④">storage</a> storage class, array elements are aligned to 16 byte boundaries:</p>
       <p class="algorithm" data-algorithm="16-byte array element alignment"> If <var>C</var> is <a data-link-type="dfn" href="#storage-classes-storage" id="ref-for-storage-classes-storage①⑤">storage</a>, then <var>Stride</var>(<var>S</var>)
    = <var>k</var> × 16 for some non-negative integer <var>k</var> </p>
     </ul>
    <li data-md>
     <p>Other host-shareable types <var>S</var> are not futher constrained.
They always satisfy standard buffer layout rules.</p>
   </ul>
   <p class="note" role="note"><span>Note:</span> The consistency and completeness of these rules rely on the fact
that a <a data-link-type="dfn" href="#runtime-sized" id="ref-for-runtime-sized③">runtime-sized</a> array may <em>only</em> appear as the last
element of a structure that is the store type for a buffer variable in the <a data-link-type="dfn" href="#storage-classes-storage" id="ref-for-storage-classes-storage①⑥">storage</a> storage class.</p>
   <p>Host-shareable type <var>S</var> satisfies <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="uniform-buffer-layout">uniform buffer layout</dfn> when <var>S</var> satisfies <a data-link-type="dfn" href="#standard-buffer-layout-rules" id="ref-for-standard-buffer-layout-rules①">standard buffer layout rules</a> for storage class <a data-link-type="dfn" href="#storage-classes-storage" id="ref-for-storage-classes-storage①⑦">storage</a>.</p>
   <p>Host-shareable type <var>S</var> satisfies <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="storage-buffer-layout">storage buffer layout</dfn> when <var>S</var> satisfies <a data-link-type="dfn" href="#standard-buffer-layout-rules" id="ref-for-standard-buffer-layout-rules②">standard buffer layout rules</a> for storage class <a data-link-type="dfn" href="#storage-classes-storage" id="ref-for-storage-classes-storage①⑧">storage</a>.</p>
   <h3 class="heading settled" data-level="3.5" id="pointer-types"><span class="secno">3.5. </span><span class="content">Pointer Types TODO</span><a class="self-link" href="#pointer-types"></a></h3>
   <table class="data">
    <thead>
     <tr>
      <th>Type
      <th>Description 
    <tbody>
     <tr>
      <td>ptr&lt;<em>SC</em>,<em>T</em>>
      <td>Pointer (or reference) to storage in <a data-link-type="dfn" href="#storage-classes" id="ref-for-storage-classes③">storage class</a> <em>SC</em> which can hold a value of the <a data-link-type="dfn" href="#storable" id="ref-for-storable④">storable</a> <em>T</em>.
                            Here, <em>T</em> is the known as the <em>pointee</em> type. 
   </table>
   <p class="note" role="note"><span>Note:</span> We’ve described a SPIR-V logical pointer type.</p>
   <p class="note" role="note"><span>Note:</span> Pointers are not storable.</p>
   <div class="example no-marker" id="example-20d78599">
    <a class="self-link" href="#example-20d78599"></a>
    <div class="marker">EXAMPLE: Pointer</div>
<pre class="highlight"><c- n>ptr</c-><c- o>&lt;</c-><c- n>storage</c-><c- p>,</c-> <c- b>i32</c-><c- o>></c->
<c- n>ptr</c-><c- o>&lt;</c-><c- n>private</c-><c- p>,</c-> <c- n>array</c-><c- o>&lt;</c-><c- b>i32</c-><c- p>,</c-> <c- mi>12</c-><c- o>>></c->
</pre>
   </div>
   <h4 class="heading settled" data-level="3.5.1" id="abstract-pointer-operations"><span class="secno">3.5.1. </span><span class="content">Abstract Operations on Pointers TODO</span><a class="self-link" href="#abstract-pointer-operations"></a></h4>
   <p>A pointer value <em>P</em> supports the following operations:</p>
   <table class="data">
    <tbody>
     <tr>
      <td>P.Write(V)
      <td>Place a value V into the referenced storage.
               V’s type must match P’s pointee type. 
     <tr>
      <td>P.Read()
      <td>An evaluation yielding the value currently in the P’s
             referenced storage.  The result type is P’s pointee type. 
     <tr>
      <td>P.Subaccess(K)
      <td>Valid for pointers with a composite pointee type where <em>K</em> must evaluate to an integer between 0 and one
                   less than the number of components in <em>P</em>’s pointee type.
                   The subaccess evaluation yields a pointer to the storage for
                   the K’th component within P’s referenced storage,
                   using zero-based indexing. If P’s <a data-link-type="dfn" href="#storage-classes" id="ref-for-storage-classes④">storage class</a> is SC, and
                   the K’th member of P’s pointee type is of type T, then
                   the result type is <code>ptr&lt;SC,T></code>. 
   </table>
   <p class="note" role="note"><span>Note:</span> Assignment of swizzled values is not permitted (SubaccessSwizzle).<br> e.g. <code>vec4&lt;i32> v; v.xz = vec2&lt;i32>(0, 1);</code> is not allowed.</p>
   <h4 class="heading settled" data-level="3.5.2" id="pointer-evaluation"><span class="secno">3.5.2. </span><span class="content">Pointer Evaluation TODO</span><a class="self-link" href="#pointer-evaluation"></a></h4>
   <p>TODO: <em>This is a stub</em>: Using pointers in context. Disambiguating which abstract operation occurs based on context:
pointer semantics vs. dereferenced value semantics.</p>
   <hr>
   <p>A pointer may appear in exactly the following contexts</p>
   <table class="data">
    <tbody>
     <tr>
      <td>Indexing
      <td>
        A subaccessing evaluation 
       <ul>
        <li data-md>
         <p>E.g. <code>a[12]</code></p>
         <ul>
          <li data-md>
           <p>If <code>a</code> is a pointer to an array, this evaluates to <em>a.Subaccess(12)</em></p>
         </ul>
        <li data-md>
         <p>E.g. <code>s.foo</code></p>
         <ul>
          <li data-md>
           <p>If <code>s</code> is a pointer to a structure of type <em>S</em>, <code>k</code> is the index of the <code>foo</code> element of <em>S</em>, this evaluates to <em>s.Subaccess(k)</em></p>
         </ul>
       </ul>
     <tr>
      <td>Assigning (L-Value)
      <td>
        On the left hand side of an assignment operation, and the right hand side
matches the pointee type of the pointer. 
       <ul>
        <li data-md>
         <p>E.g. <code>v = 12;</code> assuming prior declaration <code>var v : i32</code></p>
       </ul>
     <tr>
      <td>Copying
      <td>
        On the right hand side of a const-declaration, and the type of the
const-declaration matches the pointer type. 
       <ul>
        <li data-md>
         <p>E.g. <code>const v2 : ptr&lt;private,i32> = v;</code> assuming prior declaration <code>var&lt;private> v:i32</code></p>
       </ul>
     <tr>
      <td>Parameter
      <td> Used in a function call, where the function’s parameter type matches the
pointer type. 
     <tr>
      <td>Reading (R-Value)
      <td> Any other context.  Evaluates to <em>P.Read()</em>, yielding a value of <em>P</em>’s pointee
type. 
   </table>
   <h3 class="heading settled" data-level="3.6" id="texture-types"><span class="secno">3.6. </span><span class="content">Texture and Sampler Types</span><a class="self-link" href="#texture-types"></a></h3>
   <p>A <dfn data-dfn-type="dfn" data-noexport id="texel">texel<a class="self-link" href="#texel"></a></dfn> is a scalar or vector used as the smallest independently accessible element of a <a data-link-type="dfn" href="#texture" id="ref-for-texture">texture</a>.
The word <em>texel</em> is short for <em>texture element</em>.</p>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="texture">texture</dfn> is a collection of texels supporting special operations useful for rendering.
In WGSL, those operations are invoked via texture builtin functions.
See <a href="#texture-builtin-functions">§ 15.8 Texture built-in functions</a> for a complete list.</p>
   <p>A WGSL texture corresponds to a <a href="https://gpuweb.github.io/gpuweb/#gputexture">WebGPU GPUTexture</a>.</p>
   <p>A texture is either arrayed, or non-arrayed:</p>
   <ul>
    <li data-md>
     <p>A <dfn data-dfn-type="dfn" data-noexport id="non-arrayed-texture">non-arrayed texture<a class="self-link" href="#non-arrayed-texture"></a></dfn> is a grid of texels. Each texel has a unique grid coordinate.</p>
    <li data-md>
     <p>An <dfn data-dfn-type="dfn" data-noexport id="arrayed-texture">arrayed texture<a class="self-link" href="#arrayed-texture"></a></dfn> is a homegeneous array of grids of texels.
In an arrayed texture, each texel is identified with its unique combination of array index and grid coordinate.</p>
   </ul>
   <p>A texture has the following features:</p>
   <dl>
    <dt data-md>texel format
    <dd data-md>
     <p>The data in each texel. See <a href="#texel-formats">§ 3.6.1 Texel formats</a></p>
    <dt data-md>dimensionality
    <dd data-md>
     <p>The number of dimensions in the grid coordinates, and how the coordinates are interpreted.
The number of dimensions is 1, 2, or 3.
In some cases the third coordinate is decomposed so as to specify a cube face and a layer index.</p>
    <dt data-md>size
    <dd data-md>
     <p>The extent of grid coordinates along each dimension</p>
    <dt data-md>mipmap levels
    <dd data-md>
     <p>The mipmap level count is at least 1 for sampled textures, and equal to 1 for storage textures.<br> Mip level 0 contains a full size version of the texture.
Each successive mip level contains a filtered version of the previous mip level
at half the size (within rounding) of the previous mip level.<br> When sampling a texture, an explicit or implicitly-computed level-of-detail is used
to select the mip levels from which to read texel data.  These are then combined via
filtering to produce the sampled value.</p>
    <dt data-md>arrayed
    <dd data-md>
     <p>whether the texture is arrayed</p>
    <dt data-md><dfn data-dfn-type="dfn" data-noexport id="array-size">array size<a class="self-link" href="#array-size"></a></dfn>
    <dd data-md>
     <p>the number of homogeneous grids, if the texture is arrayed</p>
   </dl>
   <p>A texture’s representation is typically optimized for rendering operations.
To achieve this, many details are hidden from the programmer, including data layouts, data types, and
internal operations that cannot be expressed directly in the shader language.</p>
   <p>As a consequence, a shader does not have direct access to the texel storage within a texture variable.
Instead, use texture builtin functions as follows:</p>
   <ul>
    <li data-md>
     <p>Within the shader:</p>
     <ul>
      <li data-md>
       <p>Declare a module-scope variable in the <a data-link-type="dfn" href="#storage-classes-handle" id="ref-for-storage-classes-handle">handle</a> storage class,
where the <a data-link-type="dfn" href="#store-type" id="ref-for-store-type④">store type</a> is one of the texture types described in later sections.</p>
      <li data-md>
       <p>Inside a function, call one of the texture builtin functions, and provide
the texture variable as the first parameter.</p>
     </ul>
    <li data-md>
     <p>When constructing the WebGPU pipeline, the texture variable’s store type and binding
must be compatible with the corresponding bind group layout entry.</p>
   </ul>
   <p>In this way, the set of supported operations for a texture type
is determined by the availability of texture builtin functions accepting that texture type
as the first parameter.</p>
   <h4 class="heading settled" data-level="3.6.1" id="texel-formats"><span class="secno">3.6.1. </span><span class="content">Texel formats</span><a class="self-link" href="#texel-formats"></a></h4>
   <p>In WGSL, certain texture types are parameterized by texel format.</p>
   <p>A <dfn data-dfn-type="dfn" data-noexport id="texel-format">texel format<a class="self-link" href="#texel-format"></a></dfn> is characterized by:</p>
   <dl>
    <dt data-md><dfn data-dfn-type="dfn" data-noexport id="channels">channels<a class="self-link" href="#channels"></a></dfn>
    <dd data-md>
     <p>Each channel contains a scalar.
A texel format has up to four channels: <code>r</code>, <code>g</code>, <code>b</code>, and <code>a</code>,
normally corresponding to the concepts of red, green, blue, and alpha channels.</p>
    <dt data-md><dfn data-dfn-type="dfn" data-noexport id="channel-format">channel format<a class="self-link" href="#channel-format"></a></dfn>
    <dd data-md>
     <p>The number of bits in the channel, and how those bits are interpreted.</p>
   </dl>
   <p>Each texel format in WGSL corresponds to a <a href="https://gpuweb.github.io/gpuweb/#enumdef-gputextureformat">WebGPU GPUTextureFormat</a> with the same name.</p>
   <p>Only certain texel formats are used in WGSL source code.
The channel formats used to define those texel formats are listed in the <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="channel-formats">Channel Formats</dfn> table.
The last column specfies the conversion from the stored channel bits to the value used in the shader.
This is also known as the <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="channel-transfer-function">channel transfer function</dfn>, or CTF.</p>
   <table class="data">
    <caption>Channel Formats</caption>
    <thead>
     <tr>
      <th>Channel format 
      <th>Number of stored bits 
      <th>Interpetation of stored bits 
      <th>Shader type
      <td width="25%">Shader value
(Channel Transfer Function) 
    <tbody>
     <tr>
      <td>8unorm
      <td>8
      <td>unsigned integer <var>v</var> ∈ {0,...,255}
      <td>f32
      <td> <var>v</var> ÷ 255 
     <tr>
      <td>8snorm
      <td>8
      <td>signed integer <var>v</var> ∈ {-128,...,127}
      <td>f32
      <td> max(-1, <var>v</var> ÷ 127) 
     <tr>
      <td>8uint
      <td>8
      <td>unsigned integer <var>v</var> ∈ {0,...,255}
      <td>u32
      <td> <var>v</var> ÷ 255 
     <tr>
      <td>8sint
      <td>8
      <td>signed integer <var>v</var> ∈ {-128,...,127}
      <td>i32
      <td> max(-1, <var>v</var> ÷ 127) 
     <tr>
      <td>16uint
      <td>16
      <td>unsigned integer <var>v</var> ∈ {0,...,65535}
      <td>u32
      <td> <var>v</var> 
     <tr>
      <td>16sint
      <td>16
      <td>signed integer <var>v</var> ∈ {-32768,...,32767}
      <td>i32
      <td> <var>v</var> 
     <tr>
      <td>16float
      <td>16
      <td>IEEE 754 16-bit floating point value <var>v</var>, with 1 sign bit, 5 exponent bits, 10 mantissa bits
      <td>f32
      <td><var>v</var> 
     <tr>
      <td>32uint
      <td>32
      <td>32-bit unsigned integer value <var>v</var>
      <td>u32
      <td><var>v</var> 
     <tr>
      <td>32sint
      <td>32
      <td>32-bit signed integer value <var>v</var>
      <td>i32
      <td><var>v</var> 
     <tr>
      <td>32float
      <td>32
      <td>IEEE 754 32-bit floating point value <var>v</var>
      <td>f32
      <td><var>v</var> 
   </table>
   <p>The texel formats listed in the <dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="storage-texel-formats" data-noexport id="storage-texel-formats">Texel Formats for Storage Textures</dfn> table
correspond to the <a href="https://gpuweb.github.io/gpuweb/#plain-color-formats">WebGPU plain color formats</a> which support the <a href="https://gpuweb.github.io/gpuweb/#dom-gputextureusage-storage">WebGPU STORAGE</a> usage.
These texel formats are used to parameterize the storage texture types defined
in <a href="#texture-ro">§ 3.6.4 Read-only Storage Texture Types</a> and <a href="#texture-wo">§ 3.6.5 Write-only Storage Texture Types</a>.</p>
   <p>When the texel format does not have all four channels, then:</p>
   <ul>
    <li data-md>
     <p>When reading the texel:</p>
     <ul>
      <li data-md>
       <p>If the texel format has no green channel, then the second component of the shader value is 0.</p>
      <li data-md>
       <p>If the texel format has no blue channel, then the third component of the shader value is 0.</p>
      <li data-md>
       <p>If the texel format has no alpha channel, then the fourth component of the shader value is 1.</p>
     </ul>
    <li data-md>
     <p>When writing the texel, shader value components for missing channels are ignored.</p>
   </ul>
   <p>The last column in the table below uses the format-specific <a data-link-type="dfn" href="#channel-transfer-function" id="ref-for-channel-transfer-function">channel transfer function</a> from the <a data-link-type="dfn" href="#channel-formats" id="ref-for-channel-formats">channel formats</a> table.</p>
   <table class="data">
    <caption>Texel Formats for Storage Textures</caption>
    <thead>
     <tr>
      <th>Texel format 
      <th>Channel format 
      <th>Channels in memory order 
      <th width="50%">Corresponding shader value 
    <tbody>
     <tr>
      <td>rgba8unorm
      <td>8unorm
      <td>r, g, b, a
      <td>vec4&lt;f32>(CTF(r), CTF(g), CTF(b), CTF(a)) 
     <tr>
      <td>rgba8snorm
      <td>8snorm
      <td>r, g, b, a
      <td>vec4&lt;f32>(CTF(r), CTF(g), CTF(b), CTF(a)) 
     <tr>
      <td>rgba8uint
      <td>8uint
      <td>r, g, b, a
      <td>vec4&lt;u32>(CTF(r), CTF(g), CTF(b), CTF(a)) 
     <tr>
      <td>rgba8sint
      <td>8sint
      <td>r, g, b, a
      <td>vec4&lt;i32>(CTF(r), CTF(g), CTF(b), CTF(a)) 
     <tr>
      <td>rgba16uint
      <td>16uint
      <td>r, g, b, a
      <td>vec4&lt;u32>(CTF(r), CTF(g), CTF(b), CTF(a)) 
     <tr>
      <td>rgba16sint
      <td>16sint
      <td>r, g, b, a
      <td>vec4&lt;i32>(CTF(r), CTF(g), CTF(b), CTF(a)) 
     <tr>
      <td>rgba16float
      <td>16float
      <td>r, g, b, a
      <td>vec4&lt;f32>(CTF(r), CTF(g), CTF(b), CTF(a)) 
     <tr>
      <td>r32uint
      <td>32uint
      <td>r
      <td>vec4&lt;u32>(CTF(r), 0u, 0u, 1u) 
     <tr>
      <td>r32sint
      <td>32sint
      <td>r
      <td>vec4&lt;i32>(CTF(r), 0, 0, 1) 
     <tr>
      <td>r32float
      <td>32float
      <td>r
      <td>vec4&lt;f32>(CTF(r), 0.0, 0.0, 1.0) 
     <tr>
      <td>rg32uint
      <td>32uint
      <td>r, g
      <td>vec4&lt;u32>(CTF(r), CTF(g), 0.0, 1.0) 
     <tr>
      <td>rg32sint
      <td>32sint
      <td>r, g
      <td>vec4&lt;i32>(CTF(r), CTF(g), 0.0, 1.0) 
     <tr>
      <td>rg32float
      <td>32float
      <td>r, g
      <td>vec4&lt;f32>(CTF(r), CTF(g), 0.0, 1.0) 
     <tr>
      <td>rgba32uint
      <td>32uint
      <td>r, g, b, a
      <td>vec4&lt;u32>(CTF(r), CTF(g), CTF(b), CTF(a)) 
     <tr>
      <td>rgba32sint
      <td>32sint
      <td>r, g, b, a
      <td>vec4&lt;i32>(CTF(r), CTF(g), CTF(b), CTF(a)) 
     <tr>
      <td>rgba32float
      <td>32float
      <td>r, g, b, a
      <td>vec4&lt;f32>(CTF(r), CTF(g), CTF(b), CTF(a)) 
   </table>
   <p>The following table lists the correspondence between WGSL texel formats and <a href="https://www.khronos.org/registry/spir-v/specs/unified1/SPIRV.html#_a_id_image_format_a_image_format">SPIR-V image formats</a>.</p>
   <table class="data">
    <caption>Mapping texel formats to SPIR-V</caption>
    <thead>
     <tr>
      <th>Texel format 
      <th>SPIR-V Image Format 
      <th>SPIR-V Enabling Capability 
    <tbody>
     <tr>
      <td>rgba8unorm
      <td>Rgba8
      <td>Shader 
     <tr>
      <td>rgba8snorm
      <td>Rgba8Snorm
      <td>Shader 
     <tr>
      <td>rgba8uint
      <td>Rgba8ui
      <td>Shader 
     <tr>
      <td>rgba8sint
      <td>Rgba8i
      <td>Shader 
     <tr>
      <td>rgba16uint
      <td>Rgba16ui
      <td>Shader 
     <tr>
      <td>rgba16sint
      <td>Rgba16i
      <td>Shader 
     <tr>
      <td>rgba16float
      <td>Rgba16f
      <td>Shader 
     <tr>
      <td>r32uint
      <td>R32ui
      <td>Shader 
     <tr>
      <td>r32sint
      <td>R32i
      <td>Shader 
     <tr>
      <td>r32float
      <td>R32f
      <td>Shader 
     <tr>
      <td>rg32uint
      <td>Rg32ui
      <td>StorageImageExtendedFormats 
     <tr>
      <td>rg32sint
      <td>Rg32i
      <td>StorageImageExtendedFormats 
     <tr>
      <td>rg32float
      <td>Rg32f
      <td>StorageImageExtendedFormats 
     <tr>
      <td>rgba32uint
      <td>Rgba32ui
      <td>Shader 
     <tr>
      <td>rgba32sint
      <td>Rgba32i
      <td>Shader 
     <tr>
      <td>rgba32float
      <td>Rgba32f
      <td>Shader 
   </table>
   <h4 class="heading settled" data-level="3.6.2" id="sampled-texture-type"><span class="secno">3.6.2. </span><span class="content">Sampled Texture Types</span><a class="self-link" href="#sampled-texture-type"></a></h4>
<pre class="def"><code>texture_1d&lt;type></code>
  %1 = OpTypeImage %type 1D 0 0 0 1 Unknown

<code>texture_1d_array&lt;type></code>
  %1 = OpTypeImage %type 1D 0 1 0 1 Unknown

<code>texture_2d&lt;type></code>
  %1 = OpTypeImage %type 2D 0 0 0 1 Unknown

<code>texture_2d_array&lt;type></code>
  %1 = OpTypeImage %type 2D 0 1 0 1 Unknown

<code>texture_3d&lt;type></code>
  %1 = OpTypeImage %type 3D 0 0 0 1 Unknown

<code>texture_cube&lt;type></code>
  %1 = OpTypeImage %type Cube 0 0 0 1 Unknown

<code>texture_cube_array&lt;type></code>
  %1 = OpTypeImage %type Cube 0 1 0 1 Unknown
</pre>
   <ul>
    <li data-md>
     <p>type must be <code>f32</code>, <code>i32</code> or <code>u32</code></p>
    <li data-md>
     <p>The parameterized type for the images is the type after conversion from sampling.
E.g. you can have an image with texels with 8bit unorm components, but when you sample
them you get a 32-bit float result (or vec-of-f32).</p>
   </ul>
   <h4 class="heading settled" data-level="3.6.3" id="multisampled-texture-type"><span class="secno">3.6.3. </span><span class="content">Multisampled Texture Types</span><a class="self-link" href="#multisampled-texture-type"></a></h4>
<pre class="def"><code>texture_multisampled_2d&lt;type></code>
  %1 = OpTypeImage %type 2D 0 0 1 1 Unknown
</pre>
   <ul>
    <li data-md>
     <p>type must be <code>f32</code>, <code>i32</code> or <code>u32</code></p>
   </ul>
   <h4 class="heading settled" data-level="3.6.4" id="texture-ro"><span class="secno">3.6.4. </span><span class="content">Read-only Storage Texture Types</span><a class="self-link" href="#texture-ro"></a></h4>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="read-only-storage-texture">read-only storage texture</dfn> supports reading a single texel without the use of a sampler,
with automatic conversion of the stored texel value to a usable shader value.
See <a href="#texture-builtin-functions">§ 15.8 Texture built-in functions</a>.</p>
   <p>A read-only storage texture type must be parameterized one of <a data-link-type="dfn" href="#storage-texel-formats" id="ref-for-storage-texel-formats">texel formats for storage textures</a>.
The texel format determines the conversion function as specified in <a href="#texel-formats">§ 3.6.1 Texel formats</a>.</p>
   <p>TODO(dneto): Move description of the conversion to the builtin function that actually does the reading.</p>
<pre class="def"><code>texture_storage_ro_1d&lt;texel_format></code>
  # %1 = OpTypeImage sampled_type 1D 0 0 0 2 image_format

<code>texture_storage_ro_1d_array&lt;texel_format></code>
  # %1 = OpTypeImage sampled_type 1D 0 1 0 2 image_format

<code>texture_storage_ro_2d&lt;texel_format></code>
  # %1 = OpTypeImage sampled_type 2D 0 0 0 2 image_format

<code>texture_storage_ro_2d_array&lt;texel_format></code>
  # %1 = OpTypeImage sampled_type 2D 0 1 0 2 image_format

<code>texture_storage_ro_3d&lt;texel_format></code>
  # %1 = OpTypeImage sampled_type 3D 0 0 0 2 texel_format
</pre>
   <p>In the SPIR-V mapping:</p>
   <ul>
    <li data-md>
     <p>The <em>Image Format</em> parameter of the image type declaration is
as specified by the SPIR-V texel format correspondence table in <a href="#texel-formats">§ 3.6.1 Texel formats</a>.</p>
    <li data-md>
     <p>The <em>Sampled Type</em> parameter of the image type declaration is
the SPIR-V scalar type corresponding to the channel format for the texel format.</p>
   </ul>
   <p>When mapping to SPIR-V, a read-only storage texture variable must also have a <code>NonWritable</code> decoration.
For example:</p>
   <div class="example no-marker" id="example-623de123">
    <a class="self-link" href="#example-623de123"></a>
    <div class="marker">EXAMPLE: Mapping a texture_storage_ro_1d variable to SPIR-V</div>
<pre>var tbuf : texture_storage_ro_1d&lt;rgba8unorm>;

# Maps to the following SPIR-V:
#  OpDecorate %tbuf NonWritable
#  ...
#  %float = OpTypeFloat 32
#  %image_type = OpTypeImage %float 1D 0 0 0 2 Rgba8
#  %image_ptr_type = OpTypePointer UniformConstant %image_type
#  %tbuf = OpVariable %image_ptr_type UniformConstant
</pre>
   </div>
   <h4 class="heading settled" data-level="3.6.5" id="texture-wo"><span class="secno">3.6.5. </span><span class="content">Write-only Storage Texture Types</span><a class="self-link" href="#texture-wo"></a></h4>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="write-only-storage-texture">write-only storage texture</dfn> supports writing a single texel, with automatic conversion
of the shader value to a stored texel value.
See <a href="#texture-builtin-functions">§ 15.8 Texture built-in functions</a>.</p>
   <p>A write-only storage texture type must be parameterized one of <a data-link-type="dfn" href="#storage-texel-formats" id="ref-for-storage-texel-formats①">texel formats for storage textures</a>.
The texel format determines the conversion function as specified in <a href="#texel-formats">§ 3.6.1 Texel formats</a>.
The <em>inverse</em> of the conversion function is used to convert the shader value to
the stored texel.</p>
   <p>TODO(dneto): Move description of the conversion to the builtin function that actually does the writing.</p>
<pre class="def"><code>texture_storage_wo_1d&lt;texel_format></code>
  # %1 = OpTypeImage %void 1D 0 0 0 2 image_format

<code>texture_storage_wo_1d_array&lt;texel_format></code>
  # %1 = OpTypeImage %void 1D 0 1 0 2 image_format

<code>texture_storage_wo_2d&lt;texel_format></code>
  # %1 = OpTypeImage %void 2D 0 0 0 2 image_format

<code>texture_storage_wo_2d_array&lt;texel_format></code>
  # %1 = OpTypeImage %void 2D 0 1 0 2 image_format

<code>texture_storage_wo_3d&lt;texel_format></code>
  # %1 = OpTypeImage %void 3D 0 0 0 2 image_format
</pre>
   <p>In the SPIR-V mapping:</p>
   <ul>
    <li data-md>
     <p>The <em>Image Format</em> parameter of the image type declaration is
as specified by the SPIR-V texel format correspondence table in <a href="#texel-formats">§ 3.6.1 Texel formats</a>.</p>
    <li data-md>
     <p>The <em>Sampled Type</em> parameter of the image type declaration is
the SPIR-V void type</p>
   </ul>
   <p>When mapping to SPIR-V, a write-only storage texture variable must also have a <code>NonReadable</code> decoration.
For example:</p>
   <div class="example no-marker" id="example-57396634">
    <a class="self-link" href="#example-57396634"></a>
    <div class="marker">EXAMPLE: Mapping a texture_storage_wo_1d variable to SPIR-V</div>
<pre>var tbuf : texture_storage_wo_1d&lt;rgba8unorm>;

# Maps to the following SPIR-V:
#  OpDecorate %tbuf NonReadable
#  ...
#  %float = OpTypeFloat 32
#  %image_type = OpTypeImage %float 1D 0 0 0 2 Rgba8
#  %image_ptr_type = OpTypePointer UniformConstant %image_type
#  %tbuf = OpVariable %image_ptr_type UniformConstant
</pre>
   </div>
   <h4 class="heading settled" data-level="3.6.6" id="texture-depth"><span class="secno">3.6.6. </span><span class="content">Depth Texture Types</span><a class="self-link" href="#texture-depth"></a></h4>
<pre class="def"><code>texture_depth_2d</code>
  %1 = OpTypeImage %f32 2D 1 0 0 1 Unknown

<code>texture_depth_2d_array</code>
  %1 = OpTypeImage %f32 2D 1 1 0 1 Unknown

<code>texture_depth_cube</code>
  %1 = OpTypeImage %f32 Cube 1 0 0 1 Unknown

<code>texture_depth_cube_array</code>
  %1 = OpTypeImage %f32 Cube 1 1 0 1 Unknown
</pre>
   <h4 class="heading settled" data-level="3.6.7" id="sampler-type"><span class="secno">3.6.7. </span><span class="content">Sampler Type</span><a class="self-link" href="#sampler-type"></a></h4>
<pre class="def">sampler
  OpTypeSampler

sampler_comparison
  OpTypeSampler
</pre>
   <h4 class="heading settled" data-level="3.6.8" id="texture-types-grammar"><span class="secno">3.6.8. </span><span class="content">Texture Types Grammar</span><a class="self-link" href="#texture-types-grammar"></a></h4>
    TODO: Add texture usage validation rules. 
<pre class="def">texture_sampler_types
  : sampler_type
  | depth_texture_type
  | sampled_texture_type LESS_THAN type_decl GREATER_THAN
  | multisampled_texture_type LESS_THAN type_decl GREATER_THAN
  | storage_texture_type LESS_THAN texel_format GREATER_THAN

sampler_type
  : SAMPLER
  | SAMPLER_COMPARISON

sampled_texture_type
  : TEXTURE_1D
  | TEXTURE_1D_ARRAY
  | TEXTURE_2D
  | TEXTURE_2D_ARRAY
  | TEXTURE_3D
  | TEXTURE_CUBE
  | TEXTURE_CUBE_ARRAY

multisampled_texture_type
  : TEXTURE_MULTISAMPLED_2D

storage_texture_type
  : TEXTURE_STORAGE_RO_1D
  | TEXTURE_STORAGE_RO_1D_ARRAY
  | TEXTURE_STORAGE_RO_2D
  | TEXTURE_STORAGE_RO_2D_ARRAY
  | TEXTURE_STORAGE_RO_3D
  | TEXTURE_STORAGE_WO_1D
  | TEXTURE_STORAGE_WO_1D_ARRAY
  | TEXTURE_STORAGE_WO_2D
  | TEXTURE_STORAGE_WO_2D_ARRAY
  | TEXTURE_STORAGE_WO_3D

depth_texture_type
  : TEXTURE_DEPTH_2D
  | TEXTURE_DEPTH_2D_ARRAY
  | TEXTURE_DEPTH_CUBE
  | TEXTURE_DEPTH_CUBE_ARRAY

texel_format
  : R8UNORM
     R8  -- Capability: StorageImageExtendedFormats
  | R8SNORM
     R8Snorm  -- Capability: StorageImageExtendedFormats
  | R8UINT
     R8ui  -- Capability: StorageImageExtendedFormats
  | R8SINT
     R8i  -- Capability: StorageImageExtendedFormats
  | R16UINT
     R16ui  -- Capability: StorageImageExtendedFormats
  | R16SINT
     R16i  -- Capability: StorageImageExtendedFormats
  | R16FLOAT
     R16f  -- Capability: StorageImageExtendedFormats
  | RG8UNORM
     Rg8  -- Capability: StorageImageExtendedFormats
  | RG8SNORM
     Rg8Snorm  -- Capability: StorageImageExtendedFormats
  | RG8UINT
     Rg8ui  -- Capability: StorageImageExtendedFormats
  | RG8SINT
     Rg8i  -- Capability: StorageImageExtendedFormats
  | R32UINT
     R32ui
  | R32SINT
     R32i
  | R32FLOAT
     R32f
  | RG16UINT
     Rg16ui  -- Capability: StorageImageExtendedFormats
  | RG16SINT
     Rg16i  -- Capability: StorageImageExtendedFormats
  | RG16FLOAT
     Rg16f  -- Capability: StorageImageExtendedFormats
  | RGBA8UNORM
     Rgba8
  | RGBA8UNORM-SRGB
     ???
  | RGBA8SNORM
     Rgba8Snorm
  | RGBA8UINT
     Rgba8ui
  | RGBA8SINT
     Rgba8i
  | BGRA8UNORM
     Rgba8  ???
  | BGRA8UNORM-SRGB
     ???
  | RGB10A2UNORM
     Rgb10A2  -- Capability: StorageImageExtendedFormats
  | RG11B10FLOAT
     R11fG11fB10f  -- Capability: StorageImageExtendedFormats
  | RG32UINT
     Rg32ui  -- Capability: StorageImageExtendedFormats
  | RG32SINT
     Rg32i  -- Capability: StorageImageExtendedFormats
  | RG32FLOAT
     Rg32f  -- Capability: StorageImageExtendedFormats
  | RGBA16UINT
     Rgba16ui
  | RGBA16SINT
     Rgba16i
  | RGBA16FLOAT
     Rgba16f
  | RGBA32UINT
     Rgba32ui
  | RGBA32SINT
     Rgba32i
  | RGBA32FLOAT
     Rgba32f

</pre>
   <h3 class="heading settled" data-level="3.7" id="type-aliases"><span class="secno">3.7. </span><span class="content">Type Aliases TODO</span><a class="self-link" href="#type-aliases"></a></h3>
<pre class="def">type_alias
  : TYPE IDENT EQUAL type_decl
</pre>
   <div class="example no-marker" id="example-a0f9e590">
    <a class="self-link" href="#example-a0f9e590"></a>
    <div class="marker">EXAMPLE: Type Alias</div>
<pre>type Arr = array&lt;i32, 5>;

type RTArr = [[stride(16)]] array&lt;vec4&lt;f32>>;
</pre>
   </div>
   <h3 class="heading settled" data-level="3.8" id="type-declarations"><span class="secno">3.8. </span><span class="content">Type Declaration Grammar</span><a class="self-link" href="#type-declarations"></a></h3>
<pre class="def">type_decl
  : IDENT
  | BOOL
  | FLOAT32
  | INT32
  | UINT32
  | VEC2 LESS_THAN type_decl GREATER_THAN
  | VEC3 LESS_THAN type_decl GREATER_THAN
  | VEC4 LESS_THAN type_decl GREATER_THAN
  | POINTER LESS_THAN storage_class COMMA type_decl GREATER_THAN
  | decoration_list* ARRAY LESS_THAN type_decl COMMA INT_LITERAL GREATER_THAN
  | decoration_list* ARRAY LESS_THAN type_decl GREATER_THAN
  | MAT2x2 LESS_THAN type_decl GREATER_THAN
  | MAT2x3 LESS_THAN type_decl GREATER_THAN
  | MAT2x4 LESS_THAN type_decl GREATER_THAN
  | MAT3x2 LESS_THAN type_decl GREATER_THAN
  | MAT3x3 LESS_THAN type_decl GREATER_THAN
  | MAT3x4 LESS_THAN type_decl GREATER_THAN
  | MAT4x2 LESS_THAN type_decl GREATER_THAN
  | MAT4x3 LESS_THAN type_decl GREATER_THAN
  | MAT4x4 LESS_THAN type_decl GREATER_THAN
  | texture_sampler_types
</pre>
   <p>When the type declaration is an identifer, then the expression must be in scope of a
declaration of the identifier as a type alias or structure type.</p>
   <table class="data">
    <thead>
     <tr>
      <th>Array decoration keys
      <th>Valid values
      <th>Note 
    <tbody>
     <tr>
      <td><code>stride</code>
      <td>greater than zero i32 literal
      <td>
   </table>
   <div class="example no-marker" id="example-0317f222">
    <a class="self-link" href="#example-0317f222"></a>
    <div class="marker">EXAMPLE: Type Declarations</div>
<pre>identifier
  Allows to specify types created by the type command

bool
   %1 = OpTypeBool

f32
   %2 = OpTypeFloat 32

i32
   %3 = OpTypeInt 32 1

u32
   %4 = OpTypeInt 32 0

vec2&lt;f32>
    %7 = OpTypeVector %float 2

array&lt;f32, 4>
   %uint_4 = OpConstant %uint 4
        %9 = OpTypeArray %float %uint_4

[[stride(32)]] array&lt;f32, 4>
             OpDecorate %9 ArrayStride 32
   %uint_4 = OpConstant %uint 4
        %9 = OpTypeArray %float %uint_4

array&lt;f32>
   %rtarr = OpTypeRuntimeArray %float

mat2x3&lt;f32>
   %vec = OpTypeVector %float 3
     %6 = OpTypeMatrix %vec 2
</pre>
   </div>
   <div class="example no-marker" id="example-4a132261">
    <a class="self-link" href="#example-4a132261"></a>
    <div class="marker">EXAMPLE: Access qualifier</div>
<pre># Storage buffers
var&lt;storage> buf1 : [[access(read)]] Buffer;       # Can read, cannot write.
var&lt;storage> buf2 : [[access(read_write)]] Buffer; # Can both read and write

# Uniform buffer. Always read-only, and has more restrictive layout rules.
var&lt;uniform> params : ParamsTable;
</pre>
   </div>
   <h2 class="heading settled" data-level="4" id="variables"><span class="secno">4. </span><span class="content">Variable and const</span><a class="self-link" href="#variables"></a></h2>
   <p>TODO: <em>Stub</em> (describe what a constant is): A constant is a name for a value, declared via a <code>const</code> declaration.
What types are permitted?  Storable, plus pointer to store type.</p>
   <p>TODO(dneto): A const may not be of type pointer-to-handle. A function parameter may not have type pointer-to-handle.
Otherwise we’d have a need to make a pointer-to-handle type expression. But we’ve reserved the <a data-link-type="dfn" href="#storage-classes-handle" id="ref-for-storage-classes-handle①">handle</a> keyword.
When translating from SPIR-V, you must trace through
the OpCopyObject (or no-index OpAccessChain) instructions that might be between
the pointer-to-array and the pointer-to-struct.</p>
   <p>A <dfn data-dfn-type="dfn" data-noexport id="variable">variable<a class="self-link" href="#variable"></a></dfn> is a named reference to storage that can contain a value of a
particular storable type.</p>
   <p>Two types are associated with a variable: its <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="store-type">store type</dfn> (the type of value
that may be placed in the referenced storage) and its <dfn data-dfn-type="dfn" data-noexport id="reference-type">reference type<a class="self-link" href="#reference-type"></a></dfn> (the type
of the variable itself).  If a variable has store type <em>T</em> and <a data-link-type="dfn" href="#storage-classes" id="ref-for-storage-classes⑤">storage class</a> <em>S</em>,
then its reference type is pointer-to-<em>T</em>-in-<em>S</em>.</p>
   <p>A <dfn data-dfn-type="dfn" data-noexport id="variable-declaration">variable declaration<a class="self-link" href="#variable-declaration"></a></dfn>:</p>
   <ul>
    <li data-md>
     <p>Determines the variable’s name, storage class, and store type (and hence its reference type).</p>
    <li data-md>
     <p>Ensures the execution environment allocates storage for a value of the store type, for the lifetime of the variable.</p>
    <li data-md>
     <p>Optionally have an <em>initializer</em> expression, if the variable is in the <a data-link-type="dfn" href="#storage-classes-private" id="ref-for-storage-classes-private">private</a>, <a data-link-type="dfn" href="#storage-classes-function" id="ref-for-storage-classes-function">function</a>, or <a data-link-type="dfn" href="#storage-classes-out" id="ref-for-storage-classes-out">out</a> storage classes.
If present, the initializer’s type must match the store type of the variable.</p>
   </ul>
   <p>See <a href="#module-scope-variables">§ 4.1 Module Scope Variables</a> and <a href="#function-scope-variables">§ 4.3 Function Scope Variables and Constants</a> for rules about where
a variable in a particular storage class can be declared,
and when the storage class decoration is required, optional, or forbidden.</p>
<pre class="def">variable_statement
  : variable_decl
  | variable_decl EQUAL short_circuit_or_expression
  | CONST variable_ident_decl EQUAL short_circuit_or_expression

variable_decl
  : VAR variable_storage_decoration? variable_ident_decl

variable_ident_decl
  : IDENT COLON decoration_list* type_decl

variable_storage_decoration
  : LESS_THAN storage_class GREATER_THAN

</pre>
   <table class="data">
    <thead>
     <tr>
      <th>Variable declaration decoration keys
      <th>Valid values
      <th>Note 
    <tbody>
     <tr>
      <td><code>access</code>
      <td><code>read</code> or <code>read_write</code>
      <td>
   </table>
   <p>The access decoration must only appear on a type used as the store type for a
variable in the <a data-link-type="dfn" href="#storage-classes-storage" id="ref-for-storage-classes-storage①⑨">storage</a> storage class.
The access decoration must not appear
on a type of const declaration nor as the store type for variable with a
storage class other than <a data-link-type="dfn" href="#storage-classes-storage" id="ref-for-storage-classes-storage②⓪">storage</a>. The access decoration is required for
variables in the <a data-link-type="dfn" href="#storage-classes-storage" id="ref-for-storage-classes-storage②①">storage</a> storage class.</p>
   <p>Two variables with overlapping lifetimes will not have overlapping storage.</p>
   <p>When a variable is created, its storage contains an initial value as follows:</p>
   <ul>
    <li data-md>
     <p>For variables in the <a data-link-type="dfn" href="#storage-classes-private" id="ref-for-storage-classes-private①">private</a>, <a data-link-type="dfn" href="#storage-classes-function" id="ref-for-storage-classes-function①">function</a>, or <a data-link-type="dfn" href="#storage-classes-out" id="ref-for-storage-classes-out①">out</a> storage classes:</p>
     <ul>
      <li data-md>
       <p>The zero value for the store type, if the variable declaration has no initializer.</p>
      <li data-md>
       <p>Otherwise, it is the result of evaluating the initializer expression at that point in the program execution.</p>
     </ul>
    <li data-md>
     <p>For variables in other storage classes, the execution environment provides the initial value.</p>
   </ul>
   <div class="example" header="Variable initial values" id="example-542e1ebc">
    <a class="self-link" href="#example-542e1ebc"></a> Consider the following snippet of WGSL: 
<pre class="highlight"><c- n>var</c-> <c- n>i</c->: <c- b>i32</c-><c- p>;</c->         # <c- n>Initial</c-> <c- n>value</c-> <c- n>is</c-> <c- mf>0.</c->  <c- n>Not</c-> <c- n>recommended</c-> <c- n>style</c-><c- p>.</c->
<c- k>loop</c-> <c- p>{</c->
  <c- n>var</c-> <c- n>twice</c->: <c- b>i32</c-> <c- o>=</c-> <c- mi>2</c-> <c- o>*</c-> <c- n>i</c-><c- p>;</c->   # <c- n>Re</c-><c- o>-</c-><c- n>evaluated</c-> <c- n>each</c-> <c- n>iteration</c-><c- p>.</c->
  <c- n>i</c-> <c- o>=</c-> <c- n>i</c-> <c- o>+</c-> <c- mi>1</c-><c- p>;</c->
  <c- k>break</c-> <c- k>if</c-> <c- p>(</c-><c- n>i</c-> <c- o>==</c-> <c- mi>5</c-><c- p>);</c->
<c- p>}</c->
</pre>
    <p>The loop body will execute five times.
  Variable <code>i</code> will take on values 0, 1, 2, 3, 4, 5, and variable <code>twice</code> will take on values 0, 2, 4, 6, 8.</p>
   </div>
   <div class="example" id="example-0785a278">
    <a class="self-link" href="#example-0785a278"></a> Consider the following snippet of WGSL: 
<pre class="highlight"><c- n>var</c-> <c- n>x</c-> : <c- b>f32</c-> <c- o>=</c-> <c- mf>1.0</c-><c- p>;</c->
<c- k>const</c-> <c- n>y</c-> <c- o>=</c-> <c- n>x</c-> <c- o>*</c-> <c- n>x</c-> <c- o>+</c-> <c- n>x</c-> <c- o>+</c-> <c- mi>1</c-><c- p>;</c->
</pre>
    <p>Because <code>x</code> is a variable, all accesses to it turn into load and store operations.
  If this snippet was compiled to SPIR-V, it would be represented as</p>
<pre class="highlight">%<c- nf>temp_1</c-> = <c- no>OpLoad</c-> <c- g>%float</c-> <c- g>%x</c->
%<c- nf>temp_2</c-> = <c- no>OpLoad</c-> <c- g>%float</c-> <c- g>%x</c->
%<c- nf>temp_3</c-> = <c- no>OpFMul</c-> <c- g>%float</c-> <c- g>%temp_1</c-> <c- g>%temp_2</c->
%<c- nf>temp_4</c-> = <c- no>OpLoad</c-> <c- g>%float</c-> <c- g>%x</c->
%<c- nf>temp_5</c-> = <c- no>OpFAdd</c-> <c- g>%float</c-> <c- g>%temp_3</c-> <c- g>%temp_4</c->
%<c- nf>y</c->      = <c- no>OpFAdd</c-> <c- g>%float</c-> <c- g>%temp_5</c-> <c- g>%one</c->
</pre>
    <p>However, it is expected that either the browser or the driver optimizes this intermediate representation
  such that the redundant loads are eliminated.</p>
   </div>
   <h3 class="heading settled" data-level="4.1" id="module-scope-variables"><span class="secno">4.1. </span><span class="content">Module Scope Variables</span><a class="self-link" href="#module-scope-variables"></a></h3>
   <p>A variable or constant declared outside a function is at <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="module-scope">module scope</dfn>.
The name is available for use immediately after its declaration statement, until the end
of the program.</p>
   <p>Variables at module scope are restricted as follows:</p>
   <ul>
    <li data-md>
     <p>The variable must not be in the <a data-link-type="dfn" href="#storage-classes-function" id="ref-for-storage-classes-function②">function</a> storage class.</p>
    <li data-md>
     <p>A variable in the <a data-link-type="dfn" href="#storage-classes-in" id="ref-for-storage-classes-in">in</a>, <a data-link-type="dfn" href="#storage-classes-out" id="ref-for-storage-classes-out②">out</a>, <a data-link-type="dfn" href="#storage-classes-private" id="ref-for-storage-classes-private②">private</a>, <code>workgroup</code>, <a data-link-type="dfn" href="#storage-classes-uniform" id="ref-for-storage-classes-uniform⑦">uniform</a>, or <a data-link-type="dfn" href="#storage-classes-storage" id="ref-for-storage-classes-storage②②">storage</a> storage classes:</p>
     <ul>
      <li data-md>
       <p>Must be declared with an explicit storage class decoration.</p>
      <li data-md>
       <p>Must use a <a data-link-type="dfn" href="#store-type" id="ref-for-store-type⑤">store type</a> as described in <a href="#storage-class">§ 3.4.5 Storage Classes</a>.</p>
     </ul>
    <li data-md>
     <p>If the <a data-link-type="dfn" href="#store-type" id="ref-for-store-type⑥">store type</a> is a texture type or a sampler type, then the variable declaration must not
have a storage class decoration.  The storage class will always be <a data-link-type="dfn" href="#storage-classes-handle" id="ref-for-storage-classes-handle②">handle</a>.</p>
   </ul>
   <p>Variables in the <a data-link-type="dfn" href="#storage-classes-in" id="ref-for-storage-classes-in①">in</a> and <a data-link-type="dfn" href="#storage-classes-out" id="ref-for-storage-classes-out③">out</a> storage classes are pipeline inputs and outputs. See <a href="#pipeline-inputs-outputs">§ 8.3.1 Pipeline Input and Output Interface</a>.</p>
   <p>A variable in the <a data-link-type="dfn" href="#storage-classes-uniform" id="ref-for-storage-classes-uniform⑧">uniform</a> storage class is a <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="uniform-buffer">uniform buffer</dfn> variable.
Its <a data-link-type="dfn" href="#store-type" id="ref-for-store-type⑦">store type</a> must be a <a data-link-type="dfn" href="#host-shareable" id="ref-for-host-shareable④">host-shareable</a> structure type with <a data-link-type="dfn" href="#block" id="ref-for-block①">block</a> attribute,
satisfying the <a data-link-type="dfn" href="#uniform-buffer-layout" id="ref-for-uniform-buffer-layout②">uniform buffer layout</a> rules.</p>
   <p>A variable in the <a data-link-type="dfn" href="#storage-classes-storage" id="ref-for-storage-classes-storage②③">storage</a> storage class is a <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="storage-buffer">storage buffer</dfn> variable.
Its <a data-link-type="dfn" href="#store-type" id="ref-for-store-type⑧">store type</a> must be a <a data-link-type="dfn" href="#host-shareable" id="ref-for-host-shareable⑤">host-shareable</a> structure type with <a data-link-type="dfn" href="#block" id="ref-for-block②">block</a> attribute,
satisfying the <a data-link-type="dfn" href="#storage-buffer-layout" id="ref-for-storage-buffer-layout②">storage buffer layout</a> rules.</p>
   <p>As described in <a href="#resource-interface">§ 8.3.2 Resource interface</a>,
uniform buffers, storage buffers, textures, and samplers form the <a data-link-type="dfn" href="#resource-interface-of-a-shader" id="ref-for-resource-interface-of-a-shader①">resource interface of a shader</a>.
Such variables are declared with <a data-link-type="dfn" href="#group" id="ref-for-group">group</a> and <a data-link-type="dfn" href="#binding" id="ref-for-binding">binding</a> decorations.</p>
   <div class="example no-marker" id="example-4ad9f505">
    <a class="self-link" href="#example-4ad9f505"></a>
    <div class="marker">EXAMPLE: Module scope variable declarations</div>
<pre>var&lt;in> twist: f32;
var&lt;out> spin: f32;
var&lt;private> decibels: f32;
var&lt;workgroup> worklist: array&lt;i32,10>;

[[block]] struct Params {
  [[offset(0)]] specular: f32;
  [[offset(4)]] count: i32;
};
var&lt;uniform> param: Params;          # A uniform buffer

[[block]] struct PositionsBuffer {
  [[offset(0)]] pos: [[stride(8)]] array&lt;vec2&lt;f32>>;
};
[[group(0), binding(0)]]
var&lt;storage> pbuf: PositionsBuffer;  # A storage buffer

[[group(0), binding(1)]]
var filter_params: sampler;   # Textures and samplers are always in "handle" storage.
</pre>
   </div>
<pre class="def">global_variable_decl
  : decoration_list* variable_decl
  | decoration_list* variable_decl EQUAL const_expr

decoration_list
  : ATTR_LEFT (decoration COMMA)* decoration ATTR_RIGHT

decoration
  : IDENT PAREN_LEFT literal_or_ident PAREN_RIGHT
  | IDENT

literal_or_ident
  : FLOAT_LITERAL
  | INT_LITERAL
  | UINT_LITERAL
  | IDENT
</pre>
   <div class="example no-marker" id="example-606e52df">
    <a class="self-link" href="#example-606e52df"></a>
    <div class="marker">EXAMPLE: Variable Decorations</div>
<pre>[[location(2)]]
   OpDecorate %gl_FragColor Location 2

[[group(4), binding(3)]]
   OpDecorate %gl_FragColor DescriptorSet 4
   OpDecorate %gl_FragColor Binding 3
</pre>
   </div>
   <table class="data">
    <thead>
     <tr>
      <th>Global variable decoration keys
      <th>Valid values
      <th>Note 
    <tbody>
     <tr>
      <td><code>binding</code>
      <td>non-negative i32 literal
      <td>See <a href="#resource-interface">§ 8.3.2 Resource interface</a> 
     <tr>
      <td><code>builtin</code>
      <td>a builtin variable identifier
      <td>See <a href="#builtin-variables">§ 14 Built-in variables</a> 
     <tr>
      <td><code>group</code>
      <td>non-negative i32 literal
      <td>See <a href="#resource-interface">§ 8.3.2 Resource interface</a> 
     <tr>
      <td><code>location</code>
      <td>non-negative i32 literal
      <td>See TBD 
   </table>
   <h3 class="heading settled" data-level="4.2" id="module-constants"><span class="secno">4.2. </span><span class="content">Module Constants</span><a class="self-link" href="#module-constants"></a></h3>
   <p>A <em>module constant</em> declares a name for a value, outside of all function declarations.
The name is available for use after the end of the declaration,
until the end of the WGSL program.</p>
   <p>When the declaration has no attributes, an initializer expression must be present,
and the name denotes the value of that expression.</p>
   <div class="example no-marker" id="example-c8dd4ba5">
    <a class="self-link" href="#example-c8dd4ba5"></a>
    <div class="marker">EXAMPLE: Module constants</div>
<pre>const golden : f32 = 1.61803398875;       # The golden ratio
const e2 : vec3&lt;i32> = vec3&lt;i32>(0,1,0);  # The second unit vector for three dimensions.
</pre>
   </div>
   <p>When the declaration uses the <code>constant_id</code> attribute,
the constant is <em>pipeline-overridable</em>. In this case:</p>
   <ul>
    <li data-md>
     <p>The type must one of the <a data-link-type="dfn" href="#scalar" id="ref-for-scalar②">scalar</a> types.</p>
    <li data-md>
     <p>The initializer expression is optional.</p>
    <li data-md>
     <p>The attribute’s literal operand is known as the <em>pipeline constant ID</em>,
and must be a non-negative integer value representable in 32 bits.</p>
    <li data-md>
     <p>Pipeline constant IDs must be unique within the WGSL program: Two module constants
must not use the same pipeline constant ID.</p>
    <li data-md>
     <p>The application can specify its own value for the name at pipeline-creation time.
The pipeline creation API accepts a mapping from the pipeline constant ID
to a value of the constant’s type.
If the mapping has an entry for the ID, the value in the mapping is used.
Otherwise, the initializer expression must be present, and its value is used.</p>
   </ul>
   <p class="issue" id="issue-02d80003"><a class="self-link" href="#issue-02d80003"></a> What happens if the application supplies a constant ID that is not in the program?
Proposal: pipeline creation fails with an error.</p>
   <div class="example no-marker" id="example-95ef29f1">
    <a class="self-link" href="#example-95ef29f1"></a>
    <div class="marker">EXAMPLE: Module constants, pipeline-overrideable</div>
<pre>[[constant_id(0)]]    const has_point_light : bool = true;      # Algorithmic control
[[constant_id(1200)]] const specular_param : f32 = 2.3;         # Numeric control
[[constant_id(1300)]] const gain : f32;                         # Must be overridden
</pre>
   </div>
   <p>When a variable or feature is used within control flow that depends on the
value of a constant, then that variable or feature is considered to be used by the
program.
This is true regardless of the value of the constant, whether that value
is the one from the constant’s declaration or from a pipeline override.</p>
<pre class="def">global_constant_decl
  : decoration_list* CONST variable_ident_decl global_const_initializer?

global_const_initializer
  : EQUAL const_expr

const_expr
  : type_decl PAREN_LEFT (const_expr COMMA)* const_expr PAREN_RIGHT
  | const_literal
</pre>
   <table class="data">
    <thead>
     <tr>
      <th>Global const decoration keys
      <th>Valid values
      <th>Note 
    <tbody>
     <tr>
      <td><code>constant_id</code>
      <td>non-negative i32 literal
      <td>
   </table>
   <div class="example no-marker" id="example-82bd4ead">
    <a class="self-link" href="#example-82bd4ead"></a>
    <div class="marker">EXAMPLE: Constants</div>
<pre>-1
   %a = OpConstant %int -1

2
   %b = OpConstant %uint 2

3.2
   %c = OpConstant %float 3.2

true
    %d = OpConstantTrue

false
    %e = OpConstant False

vec4&lt;f32>(1.2, 2.3, 3.4, 2.3)
    %f0 = OpConstant %float 1.2
    %f1 = OpConstant %float 2.3
    %f2 = OpConstant %float 3.4
     %f = OpConstantComposite %v4float %f0 %f1 %f2 %f1
</pre>
   </div>
   <p class="issue" id="issue-d99564c7"><a class="self-link" href="#issue-d99564c7"></a> The WebGPU pipeline creation API must specify how API-supplied values are mapped to
shader scalar values.  For booleans, I suggest using a 32-bit integer, where only 0 maps to <code>false</code>.
If WGSL gains non-32-bit numeric scalars, I recommend overridable constants continue being 32-bit
numeric types.</p>
   <h3 class="heading settled" data-level="4.3" id="function-scope-variables"><span class="secno">4.3. </span><span class="content">Function Scope Variables and Constants</span><a class="self-link" href="#function-scope-variables"></a></h3>
   <p>A variable or constant declared in a declaration statement in a function body is in <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="function-scope">function scope</dfn>.
The name is available for use immediately after its declaration statement,
and until the end of the brace-delimited list of statements immediately enclosing the declaration.</p>
   <p>A variable declared in function scope is always in the <a data-link-type="dfn" href="#storage-classes-function" id="ref-for-storage-classes-function③">function</a> storage class.
The variable storage decoration is optional.
The variable’s <a data-link-type="dfn" href="#store-type" id="ref-for-store-type⑨">store type</a> must be <a data-link-type="dfn" href="#storable" id="ref-for-storable⑤">storable</a>.</p>
   <div class="example no-marker" id="example-34109609">
    <a class="self-link" href="#example-34109609"></a>
    <div class="marker">EXAMPLE: Function scope variables and constants</div>
<pre class="highlight"><c- k>fn</c-> <c- nf>f</c-><c- p>()</c-> -> <c- nc>void</c-> <c- p>{</c->
   <c- n>var</c-><c- o>&lt;</c-><c- n>function</c-><c- o>></c-> <c- n>count</c-> : <c- b>u32</c-><c- p>;</c->  # <c- n>A</c-> <c- n>variable</c-> <c- k>in</c-> <c- n>function</c-> <c- n>storage</c-> <c- n>class</c-><c- p>.</c->
   <c- n>var</c-> <c- n>delta</c-> : <c- b>i32</c-><c- p>;</c->            # <c- n>Another</c-> <c- n>variable</c-> <c- k>in</c-> <c- n>the</c-> <c- n>function</c-> <c- n>storage</c-> <c- n>class</c-><c- p>.</c->
   <c- n>var</c-> <c- n>sum</c-> : <c- b>f32</c-> <c- o>=</c-> <c- mf>0.0</c-><c- p>;</c->        # <c- n>A</c-> <c- n>function</c-> <c- n>storage</c-> <c- n>class</c-> <c- n>variable</c-> <c- n>with</c-> <c- n>initializer</c-><c- p>.</c->
   <c- k>const</c-> <c- n>unit</c-> : <c- b>i32</c-> <c- o>=</c-> <c- mi>1</c-><c- p>;</c->       # <c- n>A</c-> <c- n>constant</c-><c- p>.</c-> <c- n>Const</c-> <c- n>declarations</c-> <c- n>don</c->’<c- n>t</c-> <c- k>use</c-> <c- n>a</c-> <c- n>storage</c-> <c- n>class</c-><c- p>.</c->
<c- p>}</c->
</pre>
   </div>
   <p>A variable or constant declared in the first clause of a <code>for</code> statement is available for use in the second
and third clauses and in the body of the <code>for</code> statement.</p>
   <h3 class="heading settled" data-level="4.4" id="never-alias-assumption"><span class="secno">4.4. </span><span class="content">Never-alias assumption TODO</span><a class="self-link" href="#never-alias-assumption"></a></h3>
   <h2 class="heading settled" data-level="5" id="expressions"><span class="secno">5. </span><span class="content">Expressions TODO</span><a class="self-link" href="#expressions"></a></h2>
   <h3 class="heading settled" data-level="5.1" id="literal-expressions"><span class="secno">5.1. </span><span class="content">Literal Expressions TODO</span><a class="self-link" href="#literal-expressions"></a></h3>
   <table class="data">
    <caption>Scalar literal type rules</caption>
    <thead>
     <tr>
      <th>Precondition
      <th>Conclusion
      <th>Notes 
    <tbody>
     <tr>
      <td>
      <td><code>true</code> : bool
      <td>OpConstantTrue %bool 
     <tr>
      <td>
      <td><code>false</code> : bool
      <td>OpConstantFalse %bool 
     <tr>
      <td>
      <td><em>INT_LITERAL</em> : i32
      <td>OpConstant %int <em>literal</em> 
     <tr>
      <td>
      <td><em>UINT_LITERAL</em> : u32
      <td>OpConstant %uint <em>literal</em> 
     <tr>
      <td>
      <td><em>FLOAT_LITERAL</em> : f32
      <td>OpConstant %float <em>literal</em> 
   </table>
   <h3 class="heading settled" data-level="5.2" id="type-constructor-expr"><span class="secno">5.2. </span><span class="content">Type Constructor Expressions TODO</span><a class="self-link" href="#type-constructor-expr"></a></h3>
   <table class="data">
    <caption>Scalar constructor type rules</caption>
    <thead>
     <tr>
      <th>Precondition
      <th>Conclusion
      <th>Notes 
    <tbody>
     <tr>
      <td><em>e</em> : bool
      <td><code>bool(e)</code> : bool
      <td>Identity.<br>In the SPIR-V translation, the ID of this expression reuses the ID of the operand. 
     <tr>
      <td><em>e</em> : i32
      <td><code>i32(e)</code> : i32
      <td>Identity.<br>In the SPIR-V translation, the ID of this expression reuses the ID of the operand. 
     <tr>
      <td><em>e</em> : u32
      <td><code>u32(e)</code> : u32
      <td>Identity.<br>In the SPIR-V translation, the ID of this expression reuses the ID of the operand. 
     <tr>
      <td><em>e</em> : f32
      <td><code>f32(e)</code> : f32
      <td>Identity.<br>In the SPIR-V translation, the ID of this expression reuses the ID of the operand. 
   </table>
   <table class="data">
    <caption>Vector constructor type rules, where <em>T</em> is a scalar type</caption>
    <thead>
     <tr>
      <th>Precondition
      <th>Conclusion
      <th>Notes 
    <tbody>
     <tr>
      <td><em>e1</em> : <em>T</em><br> <em>e2</em> : <em>T</em> 
      <td><code>vec2&lt;T>(e1,e2)</code> : vec2&lt;<em>T</em>> 
      <td>OpCompositeConstruct 
     <tr>
      <td><em>e</em> : vec2&lt;T> 
      <td><code>vec2&lt;T>(e)</code> : vec2&lt;<em>T</em>> 
      <td>Identity. The result is <var>e</var>. 
     <tr>
      <td><em>e1</em> : <em>T</em><br> <em>e2</em> : <em>T</em><br> <em>e3</em> : <em>T</em> 
      <td><code>vec3&lt;T>(e1,e2,e3)</code> : vec3&lt;<em>T</em>> 
      <td>OpCompositeConstruct 
     <tr>
      <td><em>e1</em> : <em>T</em><br> <em>e2</em> : vec2&lt;<em>T</em>> 
      <td><code>vec3&lt;T>(e1,e2)</code> : vec3&lt;<em>T</em>><br> <code>vec3&lt;T>(e2,e1)</code> : vec3&lt;<em>T</em>> 
      <td>OpCompositeConstruct 
     <tr>
      <td><em>e</em> : vec3&lt;T> 
      <td><code>vec3&lt;T>(e)</code> : vec3&lt;<em>T</em>> 
      <td>Identity. The result is <var>e</var>. 
     <tr>
      <td><em>e1</em> : <em>T</em><br> <em>e2</em> : <em>T</em><br> <em>e3</em> : <em>T</em><br> <em>e4</em> : <em>T</em> 
      <td><code>vec4&lt;T>(e1,e2,e3,e4)</code> : vec4&lt;<em>T</em>> 
      <td>OpCompositeConstruct 
     <tr>
      <td><em>e1</em> : <em>T</em><br> <em>e2</em> : <em>T</em><br> <em>e3</em> : vec2&lt;<em>T</em>> 
      <td><code>vec4&lt;T>(e1,e2,e3)</code> : vec4&lt;<em>T</em>><br> <code>vec4&lt;T>(e1,e3,e2)</code> : vec4&lt;<em>T</em>><br> <code>vec4&lt;T>(e3,e1,e2)</code> : vec4&lt;<em>T</em>> 
      <td>OpCompositeConstruct 
     <tr>
      <td><em>e1</em> : vec2&lt;<em>T</em>><br> <em>e2</em> : vec2&lt;<em>T</em>> 
      <td><code>vec4&lt;T>(e1,e2)</code> : vec4&lt;<em>T</em>> 
      <td>OpCompositeConstruct 
     <tr>
      <td><em>e1</em> : <em>T</em><br> <em>e2</em> : vec3&lt;<em>T</em>> 
      <td><code>vec4&lt;T>(e1,e2)</code> : vec4&lt;<em>T</em>><br> <code>vec4&lt;T>(e2,e1)</code> : vec4&lt;<em>T</em>> 
      <td>OpCompositeConstruct 
     <tr>
      <td><em>e</em> : vec4&lt;T> 
      <td><code>vec4&lt;T>(e)</code> : vec4&lt;<em>T</em>> 
      <td>Identity. The result is <var>e</var>. 
   </table>
   <table class="data">
    <caption>Matrix constructor type rules</caption>
    <thead>
     <tr>
      <th>Precondition
      <th>Conclusion
      <th>Notes 
    <tbody>
     <tr>
      <td>
       <em>e1</em> : vec2
       <f32>
        <br> <em>e2</em> : vec2
        <f32>
         <br> <em>e3</em> : vec2
         <f32>
          <br> <em>e4</em> : vec2
          <f32></f32>
         </f32>
        </f32>
       </f32>
      <td>
       <code>mat2x2&lt;f32>(e1,e2)</code> : mat2x2
       <f32>
        <br> <code>mat3x2&lt;f32>(e1,e2,e3)</code> : mat3x2
        <f32>
         <br> <code>mat4x2&lt;f32>(e1,e2,e3,e4)</code> : mat4x2
         <f32></f32>
        </f32>
       </f32>
      <td>Column by column construction.<br> OpCompositeConstruct 
     <tr>
      <td>
       <em>e1</em> : vec3
       <f32>
        <br> <em>e2</em> : vec3
        <f32>
         <br> <em>e3</em> : vec3
         <f32>
          <br> <em>e4</em> : vec3
          <f32></f32>
         </f32>
        </f32>
       </f32>
      <td>
       <code>mat2x3&lt;f32>(e1,e2)</code> : mat2x3
       <f32>
        <br> <code>mat3x3&lt;f32>(e1,e2,e3)</code> : mat3x3
        <f32>
         <br> <code>mat4x3&lt;f32>(e1,e2,e3,e4)</code> : mat4x3
         <f32></f32>
        </f32>
       </f32>
      <td>Column by column construction.<br> OpCompositeConstruct 
     <tr>
      <td>
       <em>e1</em> : vec4
       <f32>
        <br> <em>e2</em> : vec4
        <f32>
         <br> <em>e3</em> : vec4
         <f32>
          <br> <em>e4</em> : vec4
          <f32></f32>
         </f32>
        </f32>
       </f32>
      <td>
       <code>mat2x4&lt;f32>(e1,e2)</code> : mat2x4
       <f32>
        <br> <code>mat3x4&lt;f32>(e1,e2,e3)</code> : mat3x4
        <f32>
         <br> <code>mat4x4&lt;f32>(e1,e2,e3,e4)</code> : mat4x4
         <f32></f32>
        </f32>
       </f32>
      <td>Column by column construction.<br> OpCompositeConstruct 
   </table>
   <table class="data">
    <caption>Array constructor type rules</caption>
    <thead>
     <tr>
      <th>Precondition
      <th>Conclusion
      <th>Notes 
    <tbody>
     <tr>
      <td><em>e1</em> : <em>T</em><br> ...<br> <em>eN</em> : <em>T</em><br> 
      <td><code>array&lt;</code><em>T</em>,<em>N</em><code>>(e1,...,eN)</code> : array&lt;<em>T</em>, <em>N</em>> 
      <td>Construction of an array from elements 
   </table>
    TODO: Should this only work for storable sized arrays?  https://github.com/gpuweb/gpuweb/issues/982 
   <table class="data">
    <caption>Structure constructor type rules</caption>
    <thead>
     <tr>
      <th>Precondition
      <th>Conclusion
      <th>Notes 
    <tbody>
     <tr>
      <td><em>e1</em> : <em>T1</em><br> ...<br> <em>eN</em> : <em>TN</em><br> <em>T1</em> is storable<br> ...<br> <em>TN</em> is storable<br> S is a structure type with members having types <em>T1</em> ... <em>TN</em>.<br> The expression is in the scope of declaration of S. 
      <td><code>S(e1,...,eN)</code> : S 
      <td>Construction of a structure from members 
     <tr>
   </table>
   <h3 class="heading settled" data-level="5.3" id="zero-value-expr"><span class="secno">5.3. </span><span class="content">Zero Value Expressions</span><a class="self-link" href="#zero-value-expr"></a></h3>
   <p>Each storable type <em>T</em> has a unique <em>zero value</em>, written in WGSL as the type followed by an empty pair of parentheses: <em>T</em> <code>()</code>.</p>
   <p class="issue" id="issue-70336811"><a class="self-link" href="#issue-70336811"></a> We should exclude being able to write the zero value for an <a data-link-type="dfn" href="#runtime-sized" id="ref-for-runtime-sized④">runtime-sized</a> array. https://github.com/gpuweb/gpuweb/issues/981</p>
   <p>The zero values are as follows:</p>
   <ul>
    <li data-md>
     <p><code>bool()</code> is <code>false</code></p>
    <li data-md>
     <p><code>i32()</code> is 0</p>
    <li data-md>
     <p><code>u32()</code> is 0</p>
    <li data-md>
     <p><code>f32()</code> is 0.0</p>
    <li data-md>
     <p>The zero value for an <em>N</em>-element vector of type <em>T</em> is the <em>N</em>-element vector of the zero value for <em>T</em>.</p>
    <li data-md>
     <p>The zero value for an <em>N</em>-column <em>M</em>-row matrix of <code>f32</code> is the matrix of those dimensions filled with 0.0 entries.</p>
    <li data-md>
     <p>The zero value for an <em>N</em>-element array with storable element type <em>E</em> is an array of <em>N</em> elements of the zero value for <em>E</em>.</p>
    <li data-md>
     <p>The zero value for a storable structure type <em>S</em> is the structure value <em>S</em> with zero-valued members.</p>
   </ul>
   <table class="data">
    <caption>Scalar zero value type rules</caption>
    <thead>
     <tr>
      <th>Precondition
      <th>Conclusion
      <th>Notes 
    <tbody>
     <tr>
      <td>
      <td><code>bool()</code> : bool
      <td>false<br>Zero value (OpConstantNull for bool) 
     <tr>
      <td>
      <td><code>i32()</code> : i32
      <td>0<br>Zero value (OpConstantNull for i32) 
     <tr>
      <td>
      <td><code>u32()</code> : u32
      <td>0u<br>Zero value (OpConstantNull for u32) 
     <tr>
      <td>
      <td><code>f32()</code> : f32
      <td>0.0<br>Zero value (OpConstantNull for f32) 
   </table>
   <table class="data">
    <caption>Vector zero type rules, where <em>T</em> is a scalar type</caption>
    <thead>
     <tr>
      <th>Precondition
      <th>Conclusion
      <th>Notes 
    <tbody>
     <tr>
      <td>
      <td><code>vec2&lt;T>()</code> : vec2&lt;<em>T</em>> 
      <td>Zero value (OpConstantNull) 
     <tr>
     <tr>
      <td>
      <td><code>vec3&lt;T>()</code> : vec3&lt;<em>T</em>> 
      <td>Zero value (OpConstantNull) 
     <tr>
     <tr>
      <td>
      <td><code>vec4&lt;T>()</code> : vec4&lt;<em>T</em>> 
      <td>Zero value (OpConstantNull) 
     <tr>
   </table>
   <div class="example no-marker" id="example-bacc44f0">
    <a class="self-link" href="#example-bacc44f0"></a>
    <div class="marker">EXAMPLE: Zero-valued vectors</div>
<pre class="highlight"><c- n>vec2</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c-><c- p>()</c->                 # <c- n>The</c-> <c- n>zero</c-><c- o>-</c-><c- n>valued</c-> <c- n>vector</c-> <c- n>of</c-> <c- n>two</c-> <c- b>f32</c-> <c- n>elements</c-><c- p>.</c->
<c- n>vec2</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c-><c- p>(</c-><c- mf>0.0</c-><c- p>,</c-> <c- mf>0.0</c-><c- p>)</c->         # <c- n>The</c-> <c- n>same</c-> <c- n>value</c-><c- p>,</c-> <c- n>written</c-> <c- n>explicitly</c-><c- p>.</c->

<c- n>vec3</c-><c- o>&lt;</c-><c- b>i32</c-><c- o>></c-><c- p>()</c->                 # <c- n>The</c-> <c- n>zero</c-><c- o>-</c-><c- n>valued</c-> <c- n>vector</c-> <c- n>of</c-> <c- n>four</c-> <c- b>i32</c-> <c- n>elements</c-><c- p>.</c->
<c- n>vec3</c-><c- o>&lt;</c-><c- b>i32</c-><c- o>></c-><c- p>(</c-><c- mi>0</c-><c- p>,</c-> <c- mi>0</c-><c- p>,</c-> <c- mi>0</c-><c- p>)</c->          # <c- n>The</c-> <c- n>same</c-> <c- n>value</c-><c- p>,</c-> <c- n>written</c-> <c- n>explicitly</c-><c- p>.</c->
</pre>
   </div>
   <table class="data">
    <caption>Matrix zero type rules</caption>
    <thead>
     <tr>
      <th>Precondition
      <th>Conclusion
      <th>Notes 
    <tbody>
     <tr>
      <td>
      <td>
       <code>mat2x2&lt;f32>()</code> : mat2x2
       <f32>
        <br> <code>mat3x2&lt;f32>()</code> : mat3x2
        <f32>
         <br> <code>mat4x2&lt;f32>()</code> : mat4x2
         <f32></f32>
        </f32>
       </f32>
      <td>Zero value (OpConstantNull) 
     <tr>
     <tr>
      <td>
      <td>
       <code>mat2x3&lt;f32>()</code> : mat2x3
       <f32>
        <br> <code>mat3x3&lt;f32>()</code> : mat3x3
        <f32>
         <br> <code>mat4x3&lt;f32>()</code> : mat4x3
         <f32></f32>
        </f32>
       </f32>
      <td>Zero value (OpConstantNull) 
     <tr>
     <tr>
      <td>
      <td>
       <code>mat2x4&lt;f32>()</code> : mat2x4
       <f32>
        <br> <code>mat3x4&lt;f32>()</code> : mat3x4
        <f32>
         <br> <code>mat4x4&lt;f32>()</code> : mat4x4
         <f32></f32>
        </f32>
       </f32>
      <td>Zero value (OpConstantNull) 
   </table>
   <table class="data">
    <caption>Array zero type rules</caption>
    <thead>
     <tr>
      <th>Precondition
      <th>Conclusion
      <th>Notes 
    <tbody>
     <tr>
      <td><em>T</em> is storable 
      <td><code>array&lt;</code><em>T</em>,<em>N</em><code>>()</code> : array&lt;<em>T</em>, <em>N</em>> 
      <td>Zero-valued array (OpConstantNull) 
   </table>
   <div class="example no-marker" id="example-11cf05a1">
    <a class="self-link" href="#example-11cf05a1"></a>
    <div class="marker">EXAMPLE: Zero-valued arrays</div>
<pre class="highlight"><c- n>array</c-><c- o>&lt;</c-><c- b>bool</c-><c- p>,</c-> <c- mi>2</c-><c- o>></c-><c- p>()</c->               # <c- n>The</c-> <c- n>zero</c-><c- o>-</c-><c- n>valued</c-> <c- n>array</c-> <c- n>of</c-> <c- n>two</c-> <c- n>booleans</c-><c- p>.</c->
<c- n>array</c-><c- o>&lt;</c-><c- b>bool</c-><c- p>,</c-> <c- mi>2</c-><c- o>></c-><c- p>(</c-><c- kc>false</c-><c- p>,</c-> <c- kc>false</c-><c- p>)</c->   # <c- n>The</c-> <c- n>same</c-> <c- n>value</c-><c- p>,</c-> <c- n>written</c-> <c- n>explicitly</c-><c- p>.</c->
</pre>
   </div>
   <table class="data">
    <caption>Structure zero type rules</caption>
    <thead>
     <tr>
      <th>Precondition
      <th>Conclusion
      <th>Notes 
    <tbody>
     <tr>
      <td><code>S</code> is a storable structure type.<br> The expression is in the scope of declaration of S. 
      <td><code>S()</code> : S 
      <td>Zero-valued structure: a structure of type S where each member is the zero value for its member type. <br> (OpConstantNull) 
     <tr>
   </table>
   <div class="example no-marker" id="example-5b8cf0f8">
    <a class="self-link" href="#example-5b8cf0f8"></a>
    <div class="marker">EXAMPLE: Zero-valued structures</div>
<pre class="highlight"><c- k>struct</c-> <c- nc>Student</c-> <c- p>{</c->
  <c- n>grade</c-> : <c- b>i32</c-><c- p>;</c->
  <c- n>GPA</c-> : <c- b>f32</c-><c- p>;</c->
  <c- n>attendance</c-> : <c- nc>array</c-><c- o>&lt;</c-><c- b>bool</c-><c- p>,</c-><c- mi>4</c-><c- o>></c-><c- p>;</c->
<c- p>};</c->

# <c- n>The</c-> <c- n>zero</c-> <c- n>value</c-> <c- k>for</c-> <c- n>Student</c->
<c- n>Student</c-><c- p>()</c->

# <c- n>The</c-> <c- n>same</c-> <c- n>value</c-><c- p>,</c-> <c- n>written</c-> <c- n>explicitly</c-><c- p>.</c->
<c- n>Student</c-><c- p>(</c-><c- mi>0</c-><c- p>,</c-> <c- mf>0.0</c-><c- p>,</c-> <c- n>array</c-><c- o>&lt;</c-><c- b>bool</c-><c- p>,</c-><c- mi>4</c-><c- o>></c-><c- p>(</c-><c- kc>false</c-><c- p>,</c-><c- kc>false</c-><c- p>,</c-><c- kc>false</c-><c- p>,</c-><c- kc>false</c-><c- p>))</c->

# <c- n>The</c-> <c- n>same</c-> <c- n>value</c-><c- p>,</c-> <c- n>written</c-> <c- n>with</c-> <c- n>zero</c-><c- o>-</c-><c- n>valued</c-> <c- n>members</c-><c- p>.</c->
<c- n>Student</c-><c- p>(</c-><c- b>i32</c-><c- p>(),</c-> <c- b>f32</c-><c- p>(),</c-> <c- n>array</c-><c- o>&lt;</c-><c- b>bool</c-><c- p>,</c-><c- mi>4</c-><c- o>></c-><c- p>())</c->
</pre>
   </div>
   <h3 class="heading settled" data-level="5.4" id="conversion-expr"><span class="secno">5.4. </span><span class="content">Conversion Expressions</span><a class="self-link" href="#conversion-expr"></a></h3>
   <table class="data">
    <caption>Scalar conversion type rules</caption>
    <thead>
     <tr>
      <th>Precondition
      <th>Conclusion
      <th>Notes 
    <tbody>
     <tr class="algorithm" data-algorithm="scalar reinterpretation from unsigned to signed">
      <td><var>e</var> : u32
      <td><code>i32(</code><var>e</var><code>)</code> : i32 
      <td>Reinterpretation of bits.<br> The result is the unique value in <a data-link-type="dfn" href="#i32" id="ref-for-i32①⓪">i32</a> that is equal to (<var>e</var> mod 2<sup>32</sup>).<br> (OpBitcast) 
     <tr class="algorithm" data-algorithm="scalar conversion from floating point to signed integer">
      <td><var>e</var> : f32
      <td><code>i32(</code><var>e</var><code>)</code> : i32
      <td>Value conversion, including invalid cases. (OpConvertFToS) 
     <tr class="algorithm" data-algorithm="scalar conversion from signed integer to unsigned integer">
      <td><var>e</var> : i32
      <td><code>u32(</code><var>e</var><code>)</code> : u32 
      <td>Reinterpretation of bits.<br> The result is the unique value in <a data-link-type="dfn" href="#u32" id="ref-for-u32⑨">u32</a> that is equal to (<var>e</var> mod 2<sup>32</sup>).<br> (OpBitcast) 
     <tr class="algorithm" data-algorithm="scalar conversion from floating point to unsigned integer">
      <td><var>e</var> : f32
      <td><code>u32(</code><var>e</var><code>)</code> : u32 
      <td>Value conversion, including invalid cases. (OpConvertFToU) 
     <tr class="algorithm" data-algorithm="scalar conversion from signed integer to floating point">
      <td><var>e</var> : i32
      <td><code>f32(</code><var>e</var><code>)</code> : f32
      <td>Value conversion, including invalid cases. (OpConvertSToF) 
     <tr class="algorithm" data-algorithm="scalar conversion from unsigned integer to floating point">
      <td><var>e</var> : u32
      <td><code>f32(</code><var>e</var><code>)</code> : f32
      <td>Value conversion, including invalid cases. (OpConvertUToF) 
   </table>
   <p>Details of conversion to and from floating point are explained in <a href="#floating-point-conversion">§ 10.5.1 Floating point conversion</a>.</p>
   <table class="data">
    <caption>Vector conversion type rules</caption>
    <thead>
     <tr>
      <th>Precondition
      <th>Conclusion
      <th>Notes 
    <tbody>
     <tr class="algorithm" data-algorithm="vector reinterpretation from unsigned to signed">
      <td><var>e</var> : vec<var>N</var>&lt;u32> 
      <td><code>vec</code><var>N</var>&lt;<code>i32</code>><code>(</code><var>e</var><code>)</code> : vec<var>N</var>&lt;i32> 
      <td>Component-wise reinterpretation of bits.<br> Component <var>i</var> of the result is <code>i32(</code><var>e</var><code>[</code><var>i</var><code>])</code><br> (OpBitcast) 
     <tr class="algorithm" data-algorithm="vector conversion from floating point to signed integer">
      <td><var>e</var> : vec<var>N</var>&lt;f32> 
      <td><code>vec</code><var>N</var>&lt;<code>i32</code>><code>(</code><var>e</var><code>)</code> : vec<var>N</var>&lt;i32> 
      <td>Component-wise value conversion to signed integer, including invalid cases.<br> Component <var>i</var> of the result is <code>i32(</code><var>e</var><code>[</code><var>i</var><code>])</code><br> (OpConvertFToS) 
     <tr class="algorithm" data-algorithm="vector reinterpretation from signed to unsigned">
      <td><var>e</var> : vec<var>N</var>&lt;i32> 
      <td><code>vec</code><var>N</var>&lt;<code>u32</code>><code>(</code><var>e</var><code>)</code> : vec<var>N</var>&lt;u32> 
      <td>Component-wise reinterpretation of bits.<br> Component <var>i</var> of the result is <code>u32(</code><var>e</var><code>[</code><var>i</var><code>])</code><br> (OpBitcast) 
     <tr class="algorithm" data-algorithm="vector conversion from floating point to unsigned integer">
      <td><var>e</var> : vec<var>N</var>&lt;f32> 
      <td><code>vec</code><var>N</var>&lt;<code>u32</code>><code>(</code><var>e</var><code>)</code> : vec<var>N</var>&lt;u32> 
      <td>Component-wise value conversion to unsigned integer, including invalid cases.<br> Component <var>i</var> of the result is <code>u32(</code><var>e</var><code>[</code><var>i</var><code>])</code><br> (OpConvertFToU) 
     <tr class="algorithm" data-algorithm="vector conversion from signed integer to floating point">
      <td><var>e</var> : vec<var>N</var>&lt;i32> 
      <td><code>vec</code><var>N</var>&lt;<code>f32</code>><code>(</code><var>e</var><code>)</code> : vec<var>N</var>&lt;f32> 
      <td>Component-wise value conversion to floating point, including invalid cases.<br> Component <var>i</var> of the result is <code>f32(</code><var>e</var><code>[</code><var>i</var><code>])</code><br> (OpConvertSToF) 
     <tr class="algorithm" data-algorithm="vector conversion from unsigned integer to floating point">
      <td><var>e</var> : vec<var>N</var>&lt;u32> 
      <td><code>vec</code><var>N</var>&lt;<code>f32</code>><code>(</code><var>e</var><code>)</code> : vec<var>N</var>&lt;f32> 
      <td>Component-wise value conversion to floating point, including invalid cases.<br> Component <var>i</var> of the result is <code>f32(</code><var>e</var><code>[</code><var>i</var><code>])</code><br> (ConvertUToF) 
   </table>
   <h3 class="heading settled" data-level="5.5" id="bitcast-expr"><span class="secno">5.5. </span><span class="content">Reinterpretation of Representation Expressions</span><a class="self-link" href="#bitcast-expr"></a></h3>
   <p>A <code>bitcast</code> expression is used to reinterpet the bit representation of a
value in one type as a value in another type.</p>
   <table class="data">
    <caption>Scalar bitcast type rules</caption>
    <thead>
     <tr>
      <th>Precondition
      <th>Conclusion
      <th>Notes 
    <tbody>
     <tr class="algorithm" data-algorithm="scalar identity reinterpretation">
      <td><var>e</var> : <var>T</var>,<br> <var>T</var> is one of i32, u32, f32 
      <td>bitcast&lt;<var>T</var>>(<var>e</var>) : <var>T</var> 
      <td>Identity transform.<br> The result is <var>e</var>. <br>In the SPIR-V translation, the ID of this expression reuses the ID of the operand. 
     <tr class="algorithm" data-algorithm="scalar reinterpretation as signed integer">
      <td><var>e</var> : <var>T</var>,<br> <var>T</var> is one of u32, f32 
      <td>bitcast&lt;i32>(<var>e</var>) : i32 
      <td>Reinterpretation of bits as a signed integer.<br> The result is the reinterpretation of the 32 bits in the representation of <var>e</var> as a <a data-link-type="dfn" href="#i32" id="ref-for-i32①①">i32</a> value.
          (OpBitcast) 
     <tr class="algorithm" data-algorithm="scalar reinterpretation as unsigned integer">
      <td><var>e</var> : <var>T</var>,<br> <var>T</var> is one of i32, f32 
      <td>bitcast&lt;u32>(<var>e</var>) : u32 
      <td>Reinterpretation of bits as an unsigned integer.<br> The result is the reinterpretation of the 32 bits in the representation of <var>e</var> as a <a data-link-type="dfn" href="#u32" id="ref-for-u32①⓪">u32</a> value.
          (OpBitcast) 
     <tr class="algorithm" data-algorithm="scalar reinterpretation as floating point">
      <td><var>e</var> : <var>T</var>,<br> <var>T</var> is one of i32, u32 
      <td>bitcast&lt;f32>(<var>e</var>) : f32 
      <td>Reinterpretation of bits as a floating point value.<br> The result is the reinterpretation of the 32 bits in the representation of <var>e</var> as a <a data-link-type="dfn" href="#f32" id="ref-for-f32⑨">f32</a> value.
          (OpBitcast) 
   </table>
   <table class="data">
    <caption>Vector bitcast type rules</caption>
    <thead>
     <tr>
      <th>Precondition
      <th>Conclusion
      <th>Notes 
    <tbody>
     <tr class="algorithm" data-algorithm="vector identity reinterpretation">
      <td><var>e</var> : vec&lt;<var>N</var>><var>T</var>>,<br> <var>T</var> is one of i32, u32, f32 
      <td>bitcast&lt;vec<var>N</var>&lt;<var>T</var>>>(<var>e</var>) : <var>T</var> 
      <td>Identity transform.<br> The result is <var>e</var>. <br>In the SPIR-V translation, the ID of this expression reuses the ID of the operand. 
     <tr class="algorithm" data-algorithm="vector reinterpretation as signed integer">
      <td><var>e</var> : vec&lt;<var>N</var>><var>T</var>>,<br> <var>T</var> is one of u32, f32 
      <td>bitcast&lt;vec<var>N</var>&lt;i32>>(<var>e</var>) : vec<var>N</var>&lt;i32> 
      <td>Component-wise reinterpretation of bits.<br> Component <var>i</var> of the result is <code>bitcast&lt;i32>(</code><var>e</var><code>[</code><var>i</var><code>])</code><br> (OpBitcast) 
     <tr class="algorithm" data-algorithm="vector reinterpretation as unsigned integer">
      <td><var>e</var> : vec&lt;<var>N</var>><var>T</var>>,<br> <var>T</var> is one of i32, f32 
      <td>bitcast&lt;vec<var>N</var>&lt;u32>>(<var>e</var>) : vec<var>N</var>&lt;u32> 
      <td>Component-wise reinterpretation of bits.<br> Component <var>i</var> of the result is <code>bitcast&lt;u32>(</code><var>e</var><code>[</code><var>i</var><code>])</code><br> (OpBitcast) 
     <tr class="algorithm" data-algorithm="vector reinterpretation as floating point">
      <td><var>e</var> : vec&lt;<var>N</var>><var>T</var>>,<br> <var>T</var> is one of i32, u32 
      <td>bitcast&lt;vec<var>N</var>&lt;f32>>(<var>e</var>) : vec<var>N</var>&lt;f32> 
      <td>Component-wise Reinterpretation of bits.<br> Component <var>i</var> of the result is <code>bitcast&lt;f32>(</code><var>e</var><code>[</code><var>i</var><code>])</code><br> (OpBitcast) 
   </table>
   <h3 class="heading settled" data-level="5.6" id="composite-value-expr"><span class="secno">5.6. </span><span class="content">Composite Value Expressions TODO</span><a class="self-link" href="#composite-value-expr"></a></h3>
   <h4 class="heading settled" data-level="5.6.1" id="vector-access-expr"><span class="secno">5.6.1. </span><span class="content">Vector Access Expression</span><a class="self-link" href="#vector-access-expr"></a></h4>
   <p>Accessing members of a vector can be done either using array subscripting (e.g. <code>a[2]</code>) or using a sequence of convenience names, each mapping to an element of the source vector.</p>
   <ul>
    <li>The colour set of convenience names: <code>r</code>, <code>g</code>, <code>b</code>, <code>a</code> for vector elements 0, 1, 2, and 3 respectively. 
    <li>The dimensional set of convenience names: <code>x</code>, <code>y</code>, <code>z</code>, <code>w</code> for vector elements 0, 1, 2, and 3, respectively. 
   </ul>
   <p>The convenience names are accessed using the <code>.</code> notation. (e.g. <code>color.bgra</code>).</p>
   <p class="note" role="note"><span>NOTE:</span> the convenience letterings can not be mixed. (i.e. you can not use <code>rybw</code>).</p>
   <p>Using a convenience letter, or array subscript, which accesses an element past the end of the vector is an error.</p>
   <p>The convenience letterings can be applied in any order, including duplicating letters as needed. You can provide 1 to 4 letters when extracting components from a vector. Providing more then 4 letters is an error.</p>
   <p>The result type depends on the number of letters provided. Assuming a <code>vec4&lt;f32></code></p>
   <table>
    <thead>
     <tr>
      <th>Accessor
      <th>Result type 
    <tbody>
     <tr>
      <td>r
      <td><code>f32</code> 
     <tr>
      <td>rg
      <td><code>vec2&lt;f32></code> 
     <tr>
      <td>rgb
      <td><code>vec3&lt;f32></code> 
     <tr>
      <td>rgba
      <td><code>vec4&lt;f32></code> 
   </table>
   <div class="example" id="example-9aa61883">
    <a class="self-link" href="#example-9aa61883"></a> 
<pre class="highlight"><c- n>var</c-> <c- n>a</c-> : <c- nc>vec3</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c-> <c- o>=</c-> <c- n>vec3</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c-><c- p>(</c-><c- mf>1.</c-><c- p>,</c-> <c- mf>2.</c-><c- p>,</c-> <c- mf>3.</c-><c- p>);</c->
<c- n>var</c-> <c- n>b</c-> : <c- b>f32</c-> <c- o>=</c-> <c- n>a</c-><c- p>.</c-><c- n>y</c-><c- p>;</c->          # <c- n>b</c-> <c- o>=</c-> <c- mf>2.0</c->
<c- n>var</c-> <c- n>c</c-> : <c- nc>vec2</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c-> <c- o>=</c-> <c- n>a</c-><c- p>.</c-><c- n>bb</c-><c- p>;</c->   # <c- n>c</c-> <c- o>=</c-> <c- p>(</c-><c- mf>3.0</c-><c- p>,</c-> <c- mf>3.0</c-><c- p>)</c->
<c- n>var</c-> <c- n>d</c-> : <c- nc>vec3</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c-> <c- o>=</c-> <c- n>a</c-><c- p>.</c-><c- n>zyx</c-><c- p>;</c->  # <c- n>d</c-> <c- o>=</c-> <c- p>(</c-><c- mf>3.0</c-><c- p>,</c-> <c- mf>2.0</c-><c- p>,</c-> <c- mf>1.0</c-><c- p>)</c->
<c- n>var</c-> <c- n>e</c-> : <c- b>f32</c-> <c- o>=</c-> <c- n>a</c-><c- p>[</c-><c- mi>1</c-><c- p>];</c->         # <c- n>e</c-> <c- o>=</c-> <c- mf>2.0</c->
</pre>
   </div>
   <p>TODO: Type rules for vector access</p>
   <h4 class="heading settled" data-level="5.6.2" id="matrix-access-expr"><span class="secno">5.6.2. </span><span class="content">Matrix Access Expression TODO</span><a class="self-link" href="#matrix-access-expr"></a></h4>
   <h4 class="heading settled" data-level="5.6.3" id="array-access-expr"><span class="secno">5.6.3. </span><span class="content">Array Access Expression TODO</span><a class="self-link" href="#array-access-expr"></a></h4>
   <h4 class="heading settled" data-level="5.6.4" id="struct-access-expr"><span class="secno">5.6.4. </span><span class="content">Structure Access Expression TODO</span><a class="self-link" href="#struct-access-expr"></a></h4>
   <h3 class="heading settled" data-level="5.7" id="logical-expr"><span class="secno">5.7. </span><span class="content">Logical Expressions TODO</span><a class="self-link" href="#logical-expr"></a></h3>
   <table class="data">
    <caption>Unary logical operations</caption>
    <thead>
     <tr>
      <th>Precondition
      <th>Conclusion
      <th>Notes 
    <tbody>
     <tr class="algorithm" data-algorithm="scalar boolean negation">
      <td><var>e</var> : bool
      <td><code>!</code><var>e</var> : <em>bool</em> 
      <td>Logical negation. Yields true when <var>e</var> is false, and false when <var>e</var> is true.<br>(OpLogicalNot) 
     <tr class="algorithm" data-algorithm="vector boolean negation">
      <td><var>e</var> : vec<var>N</var>&lt;bool>
      <td><code>!</code><var>e</var> : vec<var>N</var>&lt;bool> 
      <td>Component-wise logical negation. Component <var>i</var> of the result is <code>!(</code><var>e</var><code>[</code><var>i</var><code>])</code>.<br>(OpLogicalNot) 
   </table>
   <table class="data">
    <caption>Binary logical expressions</caption>
    <thead>
     <tr>
      <th>Precondition
      <th>Conclusion
      <th>Notes 
    <tbody>
     <tr>
      <td><em>e1</em> : bool<br><em>e2</em> : bool
      <td><code>e1 || e2</code> : bool
      <td> Short-circuiting "or". Yields <code>true</code> if either <code>e1</code> or <code>e2</code> are true; evaluates <code>e2</code> only if <code>e1</code> is false. 
     <tr>
      <td><em>e1</em> : bool<br><em>e2</em> : bool
      <td><code>e1 &amp;&amp; e2</code> : bool
      <td> Short-circuiting "and". Yields <code>true</code> if both <code>e1</code> and <code>e2</code> are true; evaluates <code>e2</code> only if <code>e1</code> is true. 
     <tr>
      <td><em>e1</em> : bool<br><em>e2</em> : bool
      <td><code>e1 | e2</code> : bool
      <td> Logical "or". Evaluates both <code>e1</code> and <code>e2</code>; yields <code>true</code> if either are <code>true</code>. 
     <tr>
      <td><em>e1</em> : bool<br><em>e2</em> : bool
      <td><code>e1 &amp; e2</code> : bool
      <td> Logical "and". Evaluates both <code>e1</code> and <code>e2</code>; yields <code>true</code> if both are <code>true</code>. 
     <tr>
      <td><em>e1</em> : <em>T</em><br><em>e2</em> : <em>T</em><br><em>T</em> is <em>BoolVec</em>
      <td><code>e1 | e2</code> : <em>T</em>
      <td>Component-wise logical "or" 
     <tr>
      <td><em>e1</em> : <em>T</em><br><em>e2</em> : <em>T</em><br><em>T</em> is <em>BoolVec</em>
      <td><code>e1 &amp; e2</code> : <em>T</em>
      <td>Component-wise logical "and" 
   </table>
   <h3 class="heading settled" data-level="5.8" id="arithmetic-expr"><span class="secno">5.8. </span><span class="content">Arithmetic Expressions TODO</span><a class="self-link" href="#arithmetic-expr"></a></h3>
   <table class="data">
    <caption>Unary arithmetic expressions</caption>
    <thead>
     <tr>
      <th>Precondition
      <th>Conclusion
      <th>Notes 
    <tbody>
     <tr>
      <td><em>e</em> : <em>T</em>, <em>T</em> is <em>SignedIntegral</em>
      <td><code>-e</code> : <em>T</em>
      <td>Signed integer negation. OpSNegate 
     <tr>
      <td><em>e</em> : <em>T</em>, <em>T</em> is <em>Floating</em>
      <td><code>-e</code> : <em>T</em>
      <td>Floating point negation. OpFNegate 
   </table>
   <table class="data">
    <caption>Binary arithmetic expressions over scalars</caption>
    <thead>
     <tr>
      <th>Precondition
      <th>Conclusion
      <th>Notes 
    <tbody>
     <tr>
      <td><em>e1</em> : u32<br> <em>e2</em> : u32
      <td class="nowrap"><code>e1 + e2</code> : u32
      <td>Integer addition, modulo 2<sup>32</sup> (OpIAdd) 
     <tr>
      <td><em>e1</em> : i32<br> <em>e2</em> : i32
      <td><code>e1 + e2</code> : i32
      <td>Integer addition, modulo 2<sup>32</sup> (OpIAdd) 
     <tr>
      <td><em>e1</em> : f32<br> <em>e2</em> : f32
      <td><code>e1 + e2</code> : f32
      <td>Floating point addition (OpFAdd) 
     <tr>
      <td><em>e1</em> : u32<br> <em>e2</em> : u32
      <td><code>e1 - e2</code> : u32
      <td>Integer subtraction, modulo 2<sup>32</sup> (OpISub) 
     <tr>
      <td><em>e1</em> : i32<br> <em>e2</em> : i32
      <td><code>e1 - e2</code> : i32
      <td>Integer subtraction, modulo 2<sup>32</sup> (OpISub) 
     <tr>
      <td><em>e1</em> : f32<br> <em>e2</em> : f32
      <td><code>e1 - e2</code> : f32
      <td>Floating point subtraction (OpFSub) 
     <tr>
      <td><em>e1</em> : u32<br> <em>e2</em> : u32
      <td><code>e1 * e2</code> : u32
      <td>Integer multiplication, modulo 2<sup>32</sup> (OpIMul) 
     <tr>
      <td><em>e1</em> : i32<br> <em>e2</em> : i32
      <td><code>e1 * e2</code> : i32
      <td>Integer multiplication, modulo 2<sup>32</sup> (OpIMul) 
     <tr>
      <td><em>e1</em> : f32<br> <em>e2</em> : f32
      <td><code>e1 * e2</code> : f32
      <td>Floating point multiplication (OpFMul) 
     <tr>
      <td><em>e1</em> : u32<br> <em>e2</em> : u32
      <td><code>e1 / e2</code> : u32
      <td>Unsigned integer division (OpUDiv) 
     <tr>
      <td><em>e1</em> : i32<br> <em>e2</em> : i32
      <td><code>e1 / e2</code> : i32
      <td>Signed integer division (OpSDiv) 
     <tr>
      <td><em>e1</em> : f32<br> <em>e2</em> : f32
      <td><code>e1 / e2</code> : f32
      <td>Floating point division (OpFAdd) 
     <tr>
      <td><em>e1</em> : u32<br> <em>e2</em> : u32
      <td><code>e1 % e2</code> : u32
      <td>Unsigned integer modulus (OpUMod) 
     <tr>
      <td><em>e1</em> : i32<br> <em>e2</em> : i32
      <td><code>e1 % e2</code> : i32
      <td>Signed integer remainder, where sign of non-zero result matches sign of <em>e2</em> (OpSMod) 
     <tr>
      <td><em>e1</em> : f32<br> <em>e2</em> : f32
      <td><code>e1 % e2</code> : f32
      <td>Floating point modulus, where sign of non-zero result matches sign of <em>e2</em> (OpFMod) 
   </table>
   <table class="data">
    <caption>Binary arithmetic expressions over vectors</caption>
    <thead>
     <tr>
      <th>Precondition
      <th>Conclusion
      <th>Notes 
    <tbody>
     <tr>
      <td><em>e1</em> : <em>T</em><br> <em>e2</em> : <em>T</em><br> <em>T</em> is <em>IntVec</em>
      <td class="nowrap"><code>e1 + e2</code> : <em>T</em>
      <td>Component-wise integer addition (OpIAdd) 
     <tr>
      <td><em>e1</em> : <em>T</em><br> <em>e2</em> : <em>T</em><br> <em>T</em> is <em>FloatVec</em>
      <td class="nowrap"><code>e1 + e2</code> : <em>T</em>
      <td>Component-wise floating point addition (OpIAdd) 
     <tr>
      <td><em>e1</em> : <em>T</em><br> <em>e2</em> : <em>T</em><br> <em>T</em> is <em>IntVec</em>
      <td class="nowrap"><code>e1 - e2</code> : <em>T</em>
      <td>Component-wise integer subtraction (OpISub) 
     <tr>
      <td><em>e1</em> : <em>T</em><br> <em>e2</em> : <em>T</em><br> <em>T</em> is <em>FloatVec</em>
      <td><code>e1 - e2</code> : <em>T</em>
      <td>Component-wise floating point subtraction (OpISub) 
     <tr>
      <td><em>e1</em> : <em>T</em><br> <em>e2</em> : <em>T</em><br> <em>T</em> is <em>IntVec</em>
      <td><code>e1 * e2</code> : <em>T</em>
      <td>Component-wise integer multiplication (OpIMul) 
     <tr>
      <td><em>e1</em> : <em>T</em><br> <em>e2</em> : <em>T</em><br> <em>T</em> is <em>FloatVec</em>
      <td><code>e1 * e2</code> : <em>T</em>
      <td>Component-wise floating point multiplication (OpIMul) 
     <tr>
      <td><em>e1</em> : <em>T</em><br> <em>e2</em> : <em>T</em><br> <em>T</em> is <em>IntVec</em> with unsigned component
      <td><code>e1 / e2</code> : <em>T</em>
      <td>Component-wise unsigned integer division (OpUDiv) 
     <tr>
      <td><em>e1</em> : <em>T</em><br> <em>e2</em> : <em>T</em><br> <em>T</em> is <em>IntVec</em> with signed component
      <td><code>e1 / e2</code> : <em>T</em>
      <td>Component-wise signed integer division (OpSDiv) 
     <tr>
      <td><em>e1</em> : <em>T</em><br> <em>e2</em> : <em>T</em><br> <em>T</em> is <em>FloatVec</em>
      <td><code>e1 / e2</code> : <em>T</em>
      <td>Component-wise floating point division (OpFDiv) 
     <tr>
      <td><em>e1</em> : <em>T</em><br> <em>e2</em> : <em>T</em><br> <em>T</em> is <em>IntVec</em> with unsigned component
      <td><code>e1 % e2</code> : <em>T</em>
      <td>Component-wise unsigned integer modulus (OpUMod) 
     <tr>
      <td><em>e1</em> : <em>T</em><br> <em>e2</em> : <em>T</em><br> <em>T</em> is <em>IntVec</em> with signed component
      <td><code>e1 % e2</code> : <em>T</em>
      <td>Component-wise signed integer remainder (OpSMod) 
     <tr>
      <td><em>e1</em> : <em>T</em><br> <em>e2</em> : <em>T</em><br> <em>T</em> is <em>FloatVec</em>
      <td><code>e1 % e2</code> : <em>T</em>
      <td>Component-wise floating point modulus (OpFMod) 
   </table>
   <table class="data">
    <caption>Binary arithmetic expressions with mixed scalar, vector, and matrix operands</caption>
    <thead>
     <tr>
      <th>Precondition
      <th>Conclusion
      <th>Notes 
    <tbody>
     <tr>
      <td><em>e1</em> : f32<br> <em>e2</em> : <em>T</em><br> <em>T</em> is <em>FloatVec</em> 
      <td><code>e1 * e2</code> : <em>T</em><br> <code>e2 * e1</code> : <em>T</em> 
      <td>Multiplication of a vector and a scalar (OpVectorTimesScalar) 
     <tr>
      <td><em>e1</em> : f32<br> <em>e2</em> : <em>T</em><br> <em>T</em> is mat<em>N</em>x<em>M</em>&lt;f32> 
      <td><code>e1 * e2</code> : <em>T</em><br> <code>e2 * e1</code> : <em>T</em> 
      <td>Multiplication of a matrix and a scalar (OpMatrixTimesScalar) 
     <tr>
      <td><em>e1</em> : vec<em>M</em>&lt;f32><br> <em>e2</em> : mat<em>N</em>x<em>M</em>&lt;f32> 
      <td><code>e1 * e2</code> : vec<em>N</em>&lt;f32><br> 
      <td>Vector times matrix (OpVectorTimesMatrix) 
     <tr>
      <td><em>e1</em> : mat<em>N</em>x<em>M</em>&lt;f32><br> <em>e2</em> : vec<em>N</em>&lt;f32> 
      <td><code>e1 * e2</code> : vec<em>M</em>&lt;f32><br> 
      <td>Matrix times vector (OpMatrixTimesVector) 
     <tr>
      <td><em>e1</em> : mat<em>K</em>x<em>N</em>&lt;f32><br> <em>e2</em> : mat<em>M</em>x<em>K</em>&lt;f32><br> 
      <td><code>e1 * e2</code> : mat<em>M</em>x<em>N</em>&lt;f32><br> 
      <td>Matrix times matrix (OpMatrixTimesMatrix) 
   </table>
   <h3 class="heading settled" data-level="5.9" id="comparison-expr"><span class="secno">5.9. </span><span class="content">Comparison Expressions TODO</span><a class="self-link" href="#comparison-expr"></a></h3>
   <table class="data">
    <caption>Comparisons over scalars</caption>
    <thead>
     <tr>
      <th>Precondition
      <th>Conclusion
      <th>Notes 
    <tbody>
     <tr>
      <td><em>e1</em> : bool<br> <em>e2</em> : bool<br> 
      <td class="nowrap"><code>e1 == e2</code> : bool 
      <td>Equality (OpLogicalEqual) 
     <tr>
      <td><em>e1</em> : bool<br> <em>e2</em> : bool<br> 
      <td class="nowrap"><code>e1 != e2</code> : bool 
      <td>Inequality (OpLogicalNotEqual) 
     <tr>
      <td><em>e1</em> : i32<br> <em>e2</em> : i32<br> 
      <td class="nowrap"><code>e1 == e2</code> : bool 
      <td>Equality (OpIEqual) 
     <tr>
      <td><em>e1</em> : i32<br> <em>e2</em> : i32<br> 
      <td class="nowrap"><code>e1 != e2</code> : bool 
      <td>Inequality (OpINotEqual) 
     <tr>
      <td><em>e1</em> : i32<br> <em>e2</em> : i32<br> 
      <td class="nowrap"><code>e1 &lt; e2</code> : bool 
      <td>Less than (OpSLessThan) 
     <tr>
      <td><em>e1</em> : i32<br> <em>e2</em> : i32<br> 
      <td class="nowrap"><code>e1 &lt;= e2</code> : bool 
      <td>Less than or equal (OpSLessThanEqual) 
     <tr>
      <td><em>e1</em> : i32<br> <em>e2</em> : i32<br> 
      <td class="nowrap"><code>e1 >= e2</code> : bool 
      <td>Greater than or equal (OpSGreaterThanEqual) 
     <tr>
      <td><em>e1</em> : i32<br> <em>e2</em> : i32<br> 
      <td class="nowrap"><code>e1 > e2</code> : bool 
      <td>Greater than or equal (OpSGreaterThan) 
     <tr>
      <td><em>e1</em> : u32<br> <em>e2</em> : u32<br> 
      <td class="nowrap"><code>e1 == e2</code> : bool 
      <td>Equality (OpIEqual) 
     <tr>
      <td><em>e1</em> : u32<br> <em>e2</em> : u32<br> 
      <td class="nowrap"><code>e1 != e2</code> : bool 
      <td>Inequality (OpINotEqual) 
     <tr>
      <td><em>e1</em> : u32<br> <em>e2</em> : u32<br> 
      <td class="nowrap"><code>e1 &lt; e2</code> : bool 
      <td>Less than (OpULessThan) 
     <tr>
      <td><em>e1</em> : u32<br> <em>e2</em> : u32<br> 
      <td class="nowrap"><code>e1 &lt;= e2</code> : bool 
      <td>Less than or equal (OpULessThanEqual) 
     <tr>
      <td><em>e1</em> : u32<br> <em>e2</em> : u32<br> 
      <td class="nowrap"><code>e1 >= e2</code> : bool 
      <td>Greater than or equal (OpUGreaterThanEqual) 
     <tr>
      <td><em>e1</em> : u32<br> <em>e2</em> : u32<br> 
      <td class="nowrap"><code>e1 > e2</code> : bool 
      <td>Greater than or equal (OpUGreaterThan) 
     <tr>
      <td><em>e1</em> : f32<br> <em>e2</em> : f32<br> 
      <td class="nowrap"><code>e1 == e2</code> : bool 
      <td>Equality (OpFOrdEqual) 
     <tr>
      <td><em>e1</em> : f32<br> <em>e2</em> : f32<br> 
      <td class="nowrap"><code>e1 != e2</code> : bool 
      <td>Equality (OpFOrdNotEqual) 
     <tr>
      <td><em>e1</em> : f32<br> <em>e2</em> : f32<br> 
      <td class="nowrap"><code>e1 &lt; e2</code> : bool 
      <td>Less than (OpFOrdLessThan) 
     <tr>
      <td><em>e1</em> : f32<br> <em>e2</em> : f32<br> 
      <td class="nowrap"><code>e1 &lt;= e2</code> : bool 
      <td>Less than or equal (OpFOrdLessThanEqual) 
     <tr>
      <td><em>e1</em> : f32<br> <em>e2</em> : f32<br> 
      <td class="nowrap"><code>e1 >= e2</code> : bool 
      <td>Greater than or equal (OpFOrdGreaterThanEqual) 
     <tr>
      <td><em>e1</em> : f32<br> <em>e2</em> : f32<br> 
      <td class="nowrap"><code>e1 > e2</code> : bool 
      <td>Greater than or equal (OpFOrdGreaterThan) 
   </table>
   <table class="data">
    <caption>Comparisons over vectors</caption>
    <thead>
     <tr>
      <th>Precondition
      <th>Conclusion
      <th>Notes 
    <tbody>
     <tr>
      <td><em>e1</em> : <em>T</em><br> <em>e2</em> : <em>T</em><br> <em>T</em> is vec<em>N</em>&lt;bool> 
      <td class="nowrap"><code>e1 == e2</code> : vec<em>N</em>&lt;bool> 
      <td>Component-wise equality<br> Component <var>i</var> of the result is <code>(</code><var>e1</var><code>[</code><var>i</var><code>] ==</code><var>e2</var><code>[</code><var>i</var><code>])</code><br> (OpLogicalEqual) 
     <tr>
      <td><em>e1</em> : <em>T</em><br> <em>e2</em> : <em>T</em><br> <em>T</em> is vec<em>N</em>&lt;bool> 
      <td class="nowrap"><code>e1 != e2</code> : vec<em>N</em>&lt;bool> 
      <td>Component-wise inequality<br> Component <var>i</var> of the result is <code>(</code><var>e1</var><code>[</code><var>i</var><code>] !=</code><var>e2</var><code>[</code><var>i</var><code>])</code><br> (OpLogicalNotEqual) 
     <tr>
      <td><em>e1</em> : <em>T</em><br> <em>e2</em> : <em>T</em><br> <em>T</em> is vec<em>N</em>&lt;i32> 
      <td class="nowrap"><code>e1 == e2</code> : vec<em>N</em>&lt;bool> 
      <td>Component-wise equality (OpIEqual) 
     <tr>
      <td><em>e1</em> : <em>T</em><br> <em>e2</em> : <em>T</em><br> <em>T</em> is vec<em>N</em>&lt;i32> 
      <td class="nowrap"><code>e1 != e2</code> : vec<em>N</em>&lt;bool> 
      <td>Component-wise inequality (OpINotEqual) 
     <tr>
      <td><em>e1</em> : <em>T</em><br> <em>e2</em> : <em>T</em><br> <em>T</em> is vec<em>N</em>&lt;i32> 
      <td class="nowrap"><code>e1 &lt; e2</code> : vec<em>N</em>&lt;bool> 
      <td>Component-wise less than (OpSLessThan) 
     <tr>
      <td><em>e1</em> : <em>T</em><br> <em>e2</em> : <em>T</em><br> <em>T</em> is vec<em>N</em>&lt;i32> 
      <td class="nowrap"><code>e1 &lt;= e2</code> : vec<em>N</em>&lt;bool> 
      <td>Component-wise less than or equal (OpSLessThanEqual) 
     <tr>
      <td><em>e1</em> : <em>T</em><br> <em>e2</em> : <em>T</em><br> <em>T</em> is vec<em>N</em>&lt;i32> 
      <td class="nowrap"><code>e1 >= e2</code> : vec<em>N</em>&lt;bool> 
      <td>Component-wise greater than or equal (OpSGreaterThanEqual) 
     <tr>
      <td><em>e1</em> : <em>T</em><br> <em>e2</em> : <em>T</em><br> <em>T</em> is vec<em>N</em>&lt;i32> 
      <td class="nowrap"><code>e1 > e2</code> : vec<em>N</em>&lt;bool> 
      <td>Component-wise greater than or equal (OpSGreaterThan) 
     <tr>
      <td><em>e1</em> : <em>T</em><br> <em>e2</em> : <em>T</em><br> <em>T</em> is vec<em>N</em>&lt;u32> 
      <td class="nowrap"><code>e1 == e2</code> : vec<em>N</em>&lt;bool> 
      <td>Component-wise equality (OpIEqual) 
     <tr>
      <td><em>e1</em> : <em>T</em><br> <em>e2</em> : <em>T</em><br> <em>T</em> is vec<em>N</em>&lt;u32> 
      <td class="nowrap"><code>e1 != e2</code> : vec<em>N</em>&lt;bool> 
      <td>Component-wise inequality (OpINotEqual) 
     <tr>
      <td><em>e1</em> : <em>T</em><br> <em>e2</em> : <em>T</em><br> <em>T</em> is vec<em>N</em>&lt;u32> 
      <td class="nowrap"><code>e1 &lt; e2</code> : vec<em>N</em>&lt;bool> 
      <td>Component-wise less than (OpULessThan) 
     <tr>
      <td><em>e1</em> : <em>T</em><br> <em>e2</em> : <em>T</em><br> <em>T</em> is vec<em>N</em>&lt;u32> 
      <td class="nowrap"><code>e1 &lt;= e2</code> : vec<em>N</em>&lt;bool> 
      <td>Component-wise less than or equal (OpULessThanEqual) 
     <tr>
      <td><em>e1</em> : <em>T</em><br> <em>e2</em> : <em>T</em><br> <em>T</em> is vec<em>N</em>&lt;u32> 
      <td class="nowrap"><code>e1 >= e2</code> : vec<em>N</em>&lt;bool> 
      <td>Component-wise greater than or equal (OpUGreaterThanEqual) 
     <tr>
      <td><em>e1</em> : <em>T</em><br> <em>e2</em> : <em>T</em><br> <em>T</em> is vec<em>N</em>&lt;u32> 
      <td class="nowrap"><code>e1 > e2</code> : vec<em>N</em>&lt;bool> 
      <td>Component-wise greater than or equal (OpUGreaterThan) <em>T</em> is vec<em>N</em>&lt;u32> 
     <tr>
      <td><em>e1</em> : <em>T</em><br> <em>e2</em> : <em>T</em><br> <em>T</em> is vec<em>N</em>&lt;f32> 
      <td class="nowrap"><code>e1 == e2</code> : vec<em>N</em>&lt;bool> 
      <td>Component-wise equality (OpFOrdEqual) 
     <tr>
      <td><em>e1</em> : <em>T</em><br> <em>e2</em> : <em>T</em><br> <em>T</em> is vec<em>N</em>&lt;f32> 
      <td class="nowrap"><code>e1 != e2</code> : vec<em>N</em>&lt;bool> 
      <td>Component-wise inequality (OpFOrdNotEqual) 
     <tr>
      <td><em>e1</em> : <em>T</em><br> <em>e2</em> : <em>T</em><br> <em>T</em> is vec<em>N</em>&lt;f32> 
      <td class="nowrap"><code>e1 &lt; e2</code> : vec<em>N</em>&lt;bool> 
      <td>Component-wise less than (OpFOrdLessThan) 
     <tr>
      <td><em>e1</em> : <em>T</em><br> <em>e2</em> : <em>T</em><br> <em>T</em> is vec<em>N</em>&lt;f32> 
      <td class="nowrap"><code>e1 &lt;= e2</code> : vec<em>N</em>&lt;bool> 
      <td>Component-wise less than or equal (OpFOrdLessThanEqual) 
     <tr>
      <td><em>e1</em> : <em>T</em><br> <em>e2</em> : <em>T</em><br> <em>T</em> is vec<em>N</em>&lt;f32> 
      <td class="nowrap"><code>e1 >= e2</code> : vec<em>N</em>&lt;bool> 
      <td>Component-wise greater than or equal (OpFOrdGreaterThanEqual) 
     <tr>
      <td><em>e1</em> : <em>T</em><br> <em>e2</em> : <em>T</em><br> <em>T</em> is vec<em>N</em>&lt;f32> 
      <td class="nowrap"><code>e1 > e2</code> : vec<em>N</em>&lt;bool> 
      <td>Component-wise greater than or equal (OpFOrdGreaterThan) 
   </table>
   <h3 class="heading settled" data-level="5.10" id="bit-expr"><span class="secno">5.10. </span><span class="content">Bit Expressions TODO</span><a class="self-link" href="#bit-expr"></a></h3>
   <table class="data">
    <caption>Unary bitwise operations</caption>
    <thead>
     <tr>
      <th>Precondition
      <th>Conclusion
      <th>Notes 
    <tbody>
     <tr class="algorithm" data-algorithm="scalar unsigned complement">
      <td><var>e</var> : u32<br> 
      <td class="nowrap"><code>~</code><var>e</var> : u32 
      <td>Bitwise complement on unsigned integers. Result is the mathematical value (2<sup>32</sup> - 1  - <var>e</var>). <br>OpNot 
     <tr class="algorithm" data-algorithm="vector unsigned complement">
      <td><var>e</var> : vec<var>N</var>&lt;u32> 
      <td><code>~</code><var>e</var> : vec<var>N</var>&lt;u32> 
      <td>Component-wise unsigned complement. Component <var>i</var> of the result is <code>~(</code><var>e</var><code>[</code><var>i</var><code>])</code>. <br>OpNot 
     <tr class="algorithm" data-algorithm="scalar signed complement">
      <td><var>e</var> : i32<br> 
      <td class="nowrap"><code>~</code><var>e</var> : i32 
      <td>Bitwise complement on signed integers. Result is i32(~u32(<var>e</var>)). <br>OpNot 
     <tr class="algorithm" data-algorithm="vector signed complement">
      <td><var>e</var> : vec<var>N</var>&lt;i32> 
      <td><code>~</code><var>e</var> : vec<var>N</var>&lt;i32> 
      <td>Component-wise signed complement. Component <var>i</var> of the result is <code>~(</code><var>e</var><code>[</code><var>i</var><code>])</code>. <br>OpNot 
   </table>
   <table class="data">
    <caption>Binary bitwise operations</caption>
    <thead>
     <tr>
      <th>Precondition
      <th>Conclusion
      <th>Notes 
    <tbody>
     <tr>
      <td><em>e1</em> : <em>T</em><br> <em>e2</em> : <em>T</em><br> <em>T</em> is <em>Integral</em> 
      <td class="nowrap"><code>e1 | e2</code> : <em>T</em> 
      <td>Bitwise-or 
     <tr>
      <td><em>e1</em> : <em>T</em><br> <em>e2</em> : <em>T</em><br> <em>T</em> is <em>Integral</em> 
      <td class="nowrap"><code>e1 &amp; e2</code> : <em>T</em> 
      <td>Bitwise-and 
     <tr>
      <td><em>e1</em> : <em>T</em><br> <em>e2</em> : <em>T</em><br> <em>T</em> is <em>Integral</em> 
      <td class="nowrap"><code>e1 ^ e2</code> : <em>T</em> 
      <td>Bitwise-exclusive-or 
   </table>
   <table class="data">
    <caption>Bit shift expressions</caption>
    <thead>
     <tr>
      <th>Precondition
      <th>Conclusion
      <th>Notes 
    <tbody>
     <tr class="algorithm" data-algorithm="scalar shift left">
      <td><var>e1</var> : <var>T</var><br> <var>e2</var> : u32<br> <var>T</var> is <em>Int</em> 
      <td class="nowrap"><var>e1</var> <code>&lt;&lt;</code> <var>e2</var> : <var>T</var> 
      <td>Shift left:<br> Shift <var>e1</var> left, inserting zero bits at the least significant positions,
           and discarding the most significant bits.
           The number of bits to shift is the value of <var>e2</var> modulo the bit width of <var>e1</var>.<br> (OpShiftLeftLogical) 
     <tr class="algorithm" data-algorithm="vector shift left">
      <td><var>e1</var> : vec<var>N</var>&lt;<var>T</var>><br> <var>e2</var> : vec<var>N</var>&lt;u32><br> <var>T</var> is <em>Int</em> 
      <td class="nowrap"><var>e1</var> <code>&lt;&lt;</code> <var>e2</var> : vec<var>N</var>&lt;<var>T</var>> 
      <td>Component-wise shift left:<br> Component <var>i</var> of the result is <code>(</code><var>e1</var><code>[</code><var>i</var><code>] &lt;&lt;</code><var>e2</var><code>[</code><var>i</var><code>])</code><br> (OpShiftLeftLogical) 
     <tr class="algorithm" data-algorithm="scalar logical shift right">
      <td><var>e1</var> : u32<br> <var>e2</var> : u32<br> 
      <td class="nowrap"><var>e1</var> <code>>></code> <var>e2</var> <code>: u32</code> 
      <td>Logical shift right:<br> Shift <var>e1</var> right, inserting zero bits at the most significant positions,
           and discarding the least significant bits.
           The number of bits to shift is the value of <var>e2</var> modulo the bit width of <var>e1</var>.
           (OpShiftRightLogical) 
     <tr class="algorithm" data-algorithm="vector logical shift right">
      <td><var>e1</var> : vec<var>N</var>&lt;u32><br> <var>e2</var> : u32<br> 
      <td class="nowrap"><var>e1</var> <code>>></code> <var>e2</var> : vec<var>N</var>&lt;u32> 
      <td>Component-wise logical shift right:<br> Component <var>i</var> of the result is <code>(</code><var>e1</var><code>[</code><var>i</var><code>] >></code><var>e2</var><code>[</code><var>i</var><code>])</code> (OpShiftRightLogical) 
     <tr class="algorithm" data-algorithm="scalar arithmetic shift right">
      <td><var>e1</var> : i32<br> <var>e2</var> : u32<br> 
      <td class="nowrap"><var>e1</var> <code>>></code> <var>e2</var> : i32 
      <td>Arithmetic shift right:<br> Shift <var>e1</var> right, copying the sign bit of <var>e1</var> into the most significant positions,
           and discarding the least significant bits.
           The number of bits to shift is the value of <var>e2</var> modulo the bit width of <var>e1</var>.
           (OpShiftRightArithmetic) 
     <tr class="algorithm" data-algorithm="vector arithmetic shift right">
      <td><var>e1</var> : vec<var>N</var>&lt;i32><br> <var>e2</var> : vec<var>N</var>&lt;u32><br> 
      <td class="nowrap"><var>e1</var> <code>>></code> <var>e2</var> : vec<var>N</var>&lt;i32> 
      <td>Component-wise arithmetic shift right:<br> Component <var>i</var> of the result is <code>(</code><var>e1</var><code>[</code><var>i</var><code>] >></code><var>e2</var><code>[</code><var>i</var><code>])</code> (OpShiftRightArithmetic) 
   </table>
   <h3 class="heading settled" data-level="5.11" id="function-call-expr"><span class="secno">5.11. </span><span class="content">Function Call Expression TODO</span><a class="self-link" href="#function-call-expr"></a></h3>
   <p>TODO: <em>Stub</em>. Call to function returning non-void, is an expression.</p>
   <h3 class="heading settled" data-level="5.12" id="var-const-ref-expr"><span class="secno">5.12. </span><span class="content">Variable or const reference TODO</span><a class="self-link" href="#var-const-ref-expr"></a></h3>
   <h3 class="heading settled" data-level="5.13" id="pointer-expr"><span class="secno">5.13. </span><span class="content">Pointer Expressions TODO</span><a class="self-link" href="#pointer-expr"></a></h3>
   <p>TODO: <em>Stub</em>: how to write each of the abstract pointer operations</p>
   <h3 class="heading settled" data-level="5.14" id="expression-grammar"><span class="secno">5.14. </span><span class="content">Expression Grammar Summary</span><a class="self-link" href="#expression-grammar"></a></h3>
<pre class="def">primary_expression
  : IDENT
  | type_decl argument_expression_list
  | const_literal
  | paren_rhs_statement
  | BITCAST LESS_THAN type_decl GREATER_THAN paren_rhs_statement
      OpBitcast

postfix_expression
  :
  | BRACKET_LEFT short_circuit_or_expression BRACKET_RIGHT postfix_expression
  | argument_expression_list postfix_expression
  | PERIOD IDENT postfix_expression

argument_expression_list
  : PAREN_LEFT ((short_circuit_or_expression COMMA)* short_circuit_or_expression)? PAREN_RIGHT

unary_expression
  : singular_expression
  | MINUS unary_expression
      OpSNegate
      OpFNegate
  | BANG unary_expression
      OpLogicalNot
  | TILDE unary_expression
      OpNot

singular_expression
  : primary_expression postfix_expression

multiplicative_expression
  : unary_expression
  | multiplicative_expression STAR unary_expression
      OpVectorTimesScalar
      OpMatrixTimesScalar
      OpVectorTimesMatrix
      OpMatrixTimesVector
      OpMatrixTimesMatrix
      OpIMul
      OpFMul
  | multiplicative_expression FORWARD_SLASH unary_expression
      OpUDiv
      OpSDiv
      OpFDiv
  | multiplicative_expression MODULO unary_expression
      OpUMOd
      OpSMod
      OpFMod

additive_expression
  : multiplicative_expression
  | additive_expression PLUS multiplicative_expression
      OpIAdd
      OpFAdd
  | additive_expression MINUS multiplicative_expression
      OpFSub
      OpISub

shift_expression
  : additive_expression
  | shift_expression SHIFT_LEFT additive_expression
        OpShiftLeftLogical
  | shift_expression SHIFT_RIGHT additive_expression
        OpShiftRightLogical or OpShiftRightArithmetic

relational_expression
  : shift_expression
  | relational_expression LESS_THAN shift_expression
        OpULessThan
        OpFOrdLessThan
  | relational_expression GREATER_THAN shift_expression
        OpUGreaterThan
        OpFOrdGreaterThan
  | relational_expression LESS_THAN_EQUAL shift_expression
        OpULessThanEqual
        OpFOrdLessThanEqual
  | relational_expression GREATER_THAN_EQUAL shift_expression
        OpUGreaterThanEqual
        OpFOrdGreaterThanEqual

equality_expression
  : relational_expression
  | relational_expression EQUAL_EQUAL relational_expression
        OpIEqual
        OpFOrdEqual
  | relational_expression NOT_EQUAL relational_expression
        OpINotEqual
        OpFOrdNotEqual

and_expression
  : equality_expression
  | and_expression AND equality_expression

exclusive_or_expression
  : and_expression
  | exclusive_or_expression XOR and_expression

inclusive_or_expression
  : exclusive_or_expression
  | inclusive_or_expression OR exclusive_or_expression

short_circuit_and_expression
  : inclusive_or_expression
  | short_circuit_and_expression AND_AND inclusive_or_expression

short_circuit_or_expression
  : short_circuit_and_expression
  | short_circuit_or_expression OR_OR short_circuit_and_expression
</pre>
   <h2 class="heading settled" data-level="6" id="statements"><span class="secno">6. </span><span class="content">Statements TODO</span><a class="self-link" href="#statements"></a></h2>
   <h3 class="heading settled" data-level="6.1" id="assignment"><span class="secno">6.1. </span><span class="content">Assignment TODO</span><a class="self-link" href="#assignment"></a></h3>
<pre class="def">assignment_statement
  : singular_expression EQUAL short_circuit_or_expression
      If singular_expression is a variable, this maps to OpStore to the variable.
      Otherwise, singular expression is a pointer expression in an Assigning (L-value) context
      which maps to OpAccessChain followed by OpStore
</pre>
   <h4 class="heading settled" data-level="6.1.1" id="writing-to-var"><span class="secno">6.1.1. </span><span class="content">Writing to a variable TODO</span><a class="self-link" href="#writing-to-var"></a></h4>
   <h4 class="heading settled" data-level="6.1.2" id="writing-to-part-of-composite"><span class="secno">6.1.2. </span><span class="content">Writing to a part of a composite variable TODO</span><a class="self-link" href="#writing-to-part-of-composite"></a></h4>
   <h3 class="heading settled" data-level="6.2" id="control-flow"><span class="secno">6.2. </span><span class="content">Control flow TODO</span><a class="self-link" href="#control-flow"></a></h3>
   <h4 class="heading settled" data-level="6.2.1" id="sequence-statement"><span class="secno">6.2.1. </span><span class="content">Sequence TODO</span><a class="self-link" href="#sequence-statement"></a></h4>
   <h4 class="heading settled" data-level="6.2.2" id="if-statement"><span class="secno">6.2.2. </span><span class="content">If/elseif/else Statement TODO</span><a class="self-link" href="#if-statement"></a></h4>
<pre class="def">if_statement
  : IF paren_rhs_statement body_statement elseif_statement? else_statement?

elseif_statement
  : ELSE_IF paren_rhs_statement body_statement elseif_statement?

else_statement
  : ELSE body_statement
</pre>
   <h4 class="heading settled" data-level="6.2.3" id="switch-statement"><span class="secno">6.2.3. </span><span class="content">Switch Statement</span><a class="self-link" href="#switch-statement"></a></h4>
<pre class="def">switch_statement
  : SWITCH paren_rhs_statement BRACE_LEFT switch_body+ BRACE_RIGHT

switch_body
  : CASE case_selectors COLON BRACE_LEFT case_body BRACE_RIGHT
  | DEFAULT COLON BRACE_LEFT case_body BRACE_RIGHT

case_selectors
  : const_literal (COMMA const_literal)*

case_body
  :
  | statement case_body
  | FALLTHROUGH SEMICOLON
</pre>
   <p>A switch statement transfers control to one of a set of case clauses, or to the <code>default</code> clause,
depending on the evaluation of a selector expression.</p>
   <p>The selector expression must be of a scalar integer type.
If the selector value equals a value in a case selector list, then control is transferred to
the body of that case clause.
If the selector value does not equal any of the case selector values, then control is
transferred to the <code>default</code> clause.</p>
   <p>Each switch statement must have exactly one default clause.</p>
   <p>The case selector values must have the same type as the selector expression.</p>
   <p>A literal value must not appear more than once in the case selectors for a switch statement.</p>
   <p class="note" role="note"><span>Note:</span> The value of the literal is what matters, not the spelling.
For example <code>0</code>, <code>00</code>, and <code>0x0000</code> all denote the zero value.</p>
   <p>When control reaches the end of a case body, control normally transfers to the first statement
after the switch statement.
Alternately, executing a <code>fallthrough</code> statement transfers control to the body of the next case clause or
default clause, whichever appears next in the switch body.
A <code>fallthrough</code> statement must not appear as the last statement in the last clause of a switch.</p>
   <h4 class="heading settled" data-level="6.2.4" id="loop-statement"><span class="secno">6.2.4. </span><span class="content">Loop Statement</span><a class="self-link" href="#loop-statement"></a></h4>
<pre class="def">loop_statement
  : LOOP BRACE_LEFT statements continuing_statement? BRACE_RIGHT
</pre>
   <p>The loop construct causes a block of statements, the <em>loop body</em>, to execute repeatedly.</p>
   <p>This repetition can be interrupted by a <a href="#break-statement">§ 6.2.6 Break</a>, <code>return</code>, or <code>discard</code>.</p>
   <p>Optionally, the last statement in the loop body may be a <a href="#continuing-statement">§ 6.2.8 Continuing Statement</a>.</p>
   <p class="note" role="note"><span>Note:</span> The loop statement is one of the biggest differences from other shader
languages.</p>
   <p>This design directly expresses loop idioms commonly found in compiled code.
In particular, placing the loop update statements at the end of the loop body
allows them to naturally use values defined in the loop body.</p>
   <div class="example no-marker" id="example-3440ef35">
    <a class="self-link" href="#example-3440ef35"></a>
    <div class="marker">EXAMPLE: GLSL Loop</div>
<pre>int a = 2;
for (int i = 0; i &lt; 4; i++) {
  a *= 2;
}
</pre>
   </div>
   <div class="example no-marker" id="example-35f92149">
    <a class="self-link" href="#example-35f92149"></a>
    <div class="marker">EXAMPLE: WGSL Loop</div>
<pre>const a : i32 = 2;
var i : i32 = 0;      // &lt;1>
loop {
  if (i >= 4) { break; }

  a = a * 2;

  i = i + 1;
}
</pre>
   </div>
   <ul>
    <li data-md>&lt;1> The initialization is listed before the loop. 
   </ul>
   <div class="example no-marker" id="example-3c2cd68f">
    <a class="self-link" href="#example-3c2cd68f"></a>
    <div class="marker">EXAMPLE: GLSL Loop with continue</div>
<pre>int a = 2;
const int step = 1;
for (int i = 0; i &lt; 4; i += step) {
  if (i % 2 == 0) continue;
  a *= 2;
}
</pre>
   </div>
   <div class="example no-marker" id="example-91ba139e">
    <a class="self-link" href="#example-91ba139e"></a>
    <div class="marker">EXAMPLE: WGSL Loop with continue</div>
<pre>const a : i32 = 2;
var i : i32 = 0;
loop {
  if (i >= 4) { break; }

  const step : i32 = 1;

  i = i + 1;
  if (i % 2 == 0) { continue; }

  a = a * 2;
}
</pre>
   </div>
   <div class="example no-marker" id="example-25da7104">
    <a class="self-link" href="#example-25da7104"></a>
    <div class="marker">EXAMPLE: WGSL Loop with continue and continuing</div>
<pre>const a : i32 = 2;
var i : i32 = 0;
loop {
  if (i >= 4) { break; }

  const step : i32 = 1;

  if (i % 2 == 0) { continue; }

  a = a * 2;

  continuing {   // &lt;2>
    i = i + step;
  }
}
</pre>
   </div>
   <ul>
    <li data-md>&lt;2> The continue construct is placed at the end of the <code>loop</code> 
   </ul>
   <h4 class="heading settled" data-level="6.2.5" id="for-statement"><span class="secno">6.2.5. </span><span class="content">For Statement</span><a class="self-link" href="#for-statement"></a></h4>
<pre class="def">for_statement
  : FOR PAREN_LEFT for_header PAREN_RIGHT body_statement

for_header
  : (variable_statement | assignment_statement | func_call_statement)? SEMICOLON
     short_circuit_or_expression? SEMICOLON
     (assignment_statement | func_call_statement)?
</pre>
   <p>The <code>for(initializer; condition; continuing) { body }</code> statement is syntactic sugar on top of a <a href="#loop-statement">§ 6.2.4 Loop Statement</a> with the same <code>body</code>. Additionally:</p>
   <ul>
    <li data-md>
     <p>If <code>initializer</code> is non-empty, it is executed inside an additional scope before the first iteration.</p>
    <li data-md>
     <p>If <code>condition</code> is non-empty, it is checked at the beginning of the loop body and if unsatisfied then a <a href="#break-statement">§ 6.2.6 Break</a> is executed.</p>
    <li data-md>
     <p>If <code>continuing</code> is non-empty, it becomes a <a href="#continuing-statement">§ 6.2.8 Continuing Statement</a> at the end of the loop body.</p>
   </ul>
   <div class="example no-marker" id="example-68116be1">
    <a class="self-link" href="#example-68116be1"></a>
    <div class="marker">EXAMPLE: For to Loop transformation</div>
<pre>for(var i : i32 = 0; i &lt; 4; i = i + 1) {
  if (a == 0) {
    continue;
  }
  a = a + 2;
}

Converts to:

{ # Introduce new scope for loop variable i
  var i : i32 = 0;
  loop {
    if (!(i &lt; 4)) {
      break;
    }

    if (a == 0) {
      continue;
    }
    a = a + 2;

    continuing {
      i = i + 1;
    }
  }
}
</pre>
   </div>
   <h4 class="heading settled" data-level="6.2.6" id="break-statement"><span class="secno">6.2.6. </span><span class="content">Break</span><a class="self-link" href="#break-statement"></a></h4>
<pre class="def">break_statement
  : BREAK
</pre>
   <p>Use a <code>break</code> statement to transfer control to the first statement
after the body of the nearest-enclosing <a href="#loop-statement">§ 6.2.4 Loop Statement</a> or <a href="#switch-statement">§ 6.2.3 Switch Statement</a>.</p>
   <p>When a <code>break</code> statement is placed such that it would exit from a loop’s <a href="#continuing-statement">§ 6.2.8 Continuing Statement</a>,
then:</p>
   <ul>
    <li data-md>
     <p>The <code>break</code> statement must appear as either:</p>
     <ul>
      <li data-md>
       <p>The only statement in the true-branch clause of an <code>if</code> that has:</p>
       <ul>
        <li data-md>
         <p>no <code>else</code> clause or an empty <code>else</code> clause</p>
        <li data-md>
         <p>no <code>elseif</code> clauses</p>
       </ul>
      <li data-md>
       <p>The only statement in the <code>else</code> clause of an <code>if</code> that has an empty true-branch clause and no <code>elseif</code> clauses.</p>
     </ul>
    <li data-md>
     <p>That <code>if</code> statement must appear last in the <code>continuing</code> clause.</p>
   </ul>
   <div class="example no-marker" id="example-9266bf62">
    <a class="self-link" href="#example-9266bf62"></a>
    <div class="marker">EXAMPLE: WGSL Valid loop if-break from a continuing clause</div>
<pre>const a : i32 = 2;
var i : i32 = 0;
loop {
  const step : i32 = 1;

  if (i % 2 == 0) { continue; }

  a = a * 2;

  continuing {
    i = i + step;
    if (i >= 4) { break; }
  }
}
</pre>
   </div>
   <div class="example no-marker" id="example-aefc7445">
    <a class="self-link" href="#example-aefc7445"></a>
    <div class="marker">EXAMPLE: WGSL Valid loop if-else-break from a continuing clause</div>
<pre>const a : i32 = 2;
var i : i32 = 0;
loop {
  const step : i32 = 1;

  if (i % 2 == 0) { continue; }

  a = a * 2;

  continuing {
    i = i + step;
    if (i &lt; 4) {} else { break; }
  }
}
</pre>
   </div>
   <div class="example no-marker" id="example-5ca594cf">
    <a class="self-link" href="#example-5ca594cf"></a>
    <div class="marker">EXAMPLE: WGSL Invalid breaks from a continuing clause</div>
<pre>const a : i32 = 2;
var i : i32 = 0;
loop {
  const step : i32 = 1;

  if (i % 2 == 0) { continue; }

  a = a * 2;

  continuing {
    i = i + step;
    break;                                     // Invalid: too early
    if (i &lt; 4) { i = i + 1; } else { break; }  // Invalid: if is too complex, and too early
    if (i >= 4) { break; } else { i = i + 1; } // Invalid: if is too complex
  }
}
</pre>
   </div>
   <h4 class="heading settled" data-level="6.2.7" id="continue-statement"><span class="secno">6.2.7. </span><span class="content">Continue</span><a class="self-link" href="#continue-statement"></a></h4>
<pre class="def">continue_statement
  : CONTINUE
</pre>
   <p>Use a <code>continue</code> statement to transfer control in the nearest-enclosing <a href="#loop-statement">§ 6.2.4 Loop Statement</a>:</p>
   <ul>
    <li data-md>
     <p>forward to the <a href="#continuing-statement">§ 6.2.8 Continuing Statement</a> at the end of the body of that loop, if it exists.</p>
    <li data-md>
     <p>otherwise backward to the first statement in the loop body, starting the next iteration</p>
   </ul>
   <p>A <code>continue</code> statement must not be placed such that it would transfer
control to an enclosing <a href="#continuing-statement">§ 6.2.8 Continuing Statement</a>.
(It is a <em>forward</em> branch when branching to a <code>continuing</code> statement.)</p>
   <p>A <code>continue</code> statement must not be placed such that it would transfer
control past a declaration used in the targeted continuing construct.</p>
   <div class="example no-marker" id="example-58834923">
    <a class="self-link" href="#example-58834923"></a>
    <div class="marker">EXAMPLE: Invalid continue bypasses declaration</div>
<pre>var i : i32 = 0;
loop {
  if (i >= 4) { break; }
  if (i % 2 == 0) { continue; } // &lt;3>

  const step : i32 = 2;

  continuing {
    i = i + step;
  }
}
</pre>
   </div>
   <ul>
    <li data-md>&lt;3> The <code>continue</code> is invalid because it bypasses the declaration of <code>step</code> used in the <code>continuing</code> construct 
   </ul>
   <h4 class="heading settled" data-level="6.2.8" id="continuing-statement"><span class="secno">6.2.8. </span><span class="content">Continuing Statement</span><a class="self-link" href="#continuing-statement"></a></h4>
<pre class="def">continuing_statement
  : CONTINUING body_statement
</pre>
   <p>A <em>continuing</em> construct is a block of statements to be executed at the end of a loop iteration.
The construct is optional.</p>
   <p>The block of statements must not contain a return or discard statement.</p>
   <h4 class="heading settled" data-level="6.2.9" id="return-statement"><span class="secno">6.2.9. </span><span class="content">Return</span><a class="self-link" href="#return-statement"></a></h4>
<pre class="def">return_statement
  : RETURN short_circuit_or_expression?
</pre>
   <p>A <code>return</code> statement ends execution of the current function.
If the function is an entry point, then the current shader invocation
is terminated.
Otherwise, evaluation continues with the next expression or statement after
the evaluation of the call site of the current function invocation.</p>
   <p>If the return type of the function is the void type, then the return statement is
optional. If the return statement is provided for a void function it must not have an expression.
Otherwise the expression must be present, and is called the <em>return value</em>.
In this case the call site of this function invocation evaluates to the return value.
The type of the return value must match the return type of the function.</p>
   <h4 class="heading settled" data-level="6.2.10" id="discard-statement"><span class="secno">6.2.10. </span><span class="content">Discard TODO</span><a class="self-link" href="#discard-statement"></a></h4>
   <p>The <code>discard</code> statement must only be used in a <a data-link-type="dfn" href="#fragment" id="ref-for-fragment">fragment</a> shader stage.</p>
   <h3 class="heading settled" data-level="6.3" id="function-call-statement"><span class="secno">6.3. </span><span class="content">Function Call Statement TODO</span><a class="self-link" href="#function-call-statement"></a></h3>
<pre class="def">func_call_statement
  : IDENT argument_expression_list
</pre>
   <h3 class="heading settled" data-level="6.4" id="statements-summary"><span class="secno">6.4. </span><span class="content">Statements Grammar Summary</span><a class="self-link" href="#statements-summary"></a></h3>
<pre class="def">body_statement
  : BRACE_LEFT statements BRACE_RIGHT

paren_rhs_statement
  : PAREN_LEFT short_circuit_or_expression PAREN_RIGHT

statements
  : statement*

statement
  : SEMICOLON
  | return_statement SEMICOLON
  | if_statement
  | switch_statement
  | loop_statement
  | for_statement
  | func_call_statement SEMICOLON
  | variable_statement SEMICOLON
  | break_statement SEMICOLON
  | continue_statement SEMICOLON
  | DISCARD SEMICOLON
  | assignment_statement SEMICOLON
  | body_statement
</pre>
   <h2 class="heading settled" data-level="7" id="functions"><span class="secno">7. </span><span class="content">Functions TODO</span><a class="self-link" href="#functions"></a></h2>
   <p>A function declaration may only occur at module scope.
The function name is available for use after its declaration, until the end of the program.</p>
   <p>If the return type of the function is not the void type, then the last statement
in the function body must be a return statement.</p>
   <p>Function names must be unique over all functions and all variables in the
module.</p>
<pre class="def">function_decl
  : decoration_list* function_header body_statement

function_type_decl
  : type_decl
  | VOID

function_header
  : FN IDENT PAREN_LEFT param_list PAREN_RIGHT ARROW function_type_decl

param_list
  :
  | (variable_ident_decl COMMA)* variable_ident_decl
</pre>
   <table class="data">
    <thead>
     <tr>
      <th>Function decoration keys
      <th>Valid values
      <th>Note 
    <tbody>
     <tr>
      <td><code>stage</code>
      <td><code>compute</code> or <code>vertex</code> or <code>fragment</code>
      <td>
     <tr>
      <td><code>workgroup_size</code>
      <td>non-negative i32 literals
      <td>The workgroup_size accepts
    a comma separated list of up to 3 values. The values provide the x, y and z
    dimensions. 
   </table>
   <div class="example no-marker" id="example-ee87436c">
    <a class="self-link" href="#example-ee87436c"></a>
    <div class="marker">EXAMPLE: Function</div>
<pre>void
    %6 = OpTypeVoid

fn my_func(i : i32, b : f32) -> i32 {
  return 2;
}

           OpName %my_func "my_func"
           OpName %a "a"
           OpName %b "b"
%my_func = OpFunction %int None %10
      %a = OpFunctionParameter %_ptr_Function_int
      %b = OpFunctionParameter %_ptr_Function_float
     %14 = OpLabel
           OpReturnValue %int_2
           OpFunctionEnd
</pre>
   </div>
   <h3 class="heading settled" data-level="7.1" id="function-declaration"><span class="secno">7.1. </span><span class="content">Function declaration TODO</span><a class="self-link" href="#function-declaration"></a></h3>
   <p>TODO: <em>Stub</em></p>
   <p>The names in the parameter list of a function definition are available for use in the body
of the function.
During a particular function evaluation,
the parameter names denote the values specified to the function call expression or statement
which initiated the function evaluation;
the names and values are associated by position.</p>
   <h3 class="heading settled" data-level="7.2" id="func-call-semantics"><span class="secno">7.2. </span><span class="content">Function calls TODO</span><a class="self-link" href="#func-call-semantics"></a></h3>
   <h3 class="heading settled" data-level="7.3" id="function-restriction"><span class="secno">7.3. </span><span class="content">Restrictions TODO</span><a class="self-link" href="#function-restriction"></a></h3>
    TODO: <em>This is a stub</em> 
   <ul>
    <li data-md>
     <p>Recursion is not permitted. (No cycle in the call graph.)</p>
    <li data-md>
     <p>Function call parameters</p>
    <li data-md>
     <p>Match type and number</p>
    <li data-md>
     <p>Restrictions on pointers</p>
    <li data-md>
     <p>Aliasing (?)</p>
   </ul>
   <h2 class="heading settled" data-level="8" id="entry-points"><span class="secno">8. </span><span class="content">Entry Points TODO</span><a class="self-link" href="#entry-points"></a></h2>
   <h3 class="heading settled" data-level="8.1" id="shader-stages-sec"><span class="secno">8.1. </span><span class="content">Shader Stages</span><a class="self-link" href="#shader-stages-sec"></a></h3>
   <p>In WebGPU, a <dfn data-dfn-type="dfn" data-noexport id="pipeline">pipeline<a class="self-link" href="#pipeline"></a></dfn> is a unit of work executed on the GPU.
There are two kinds of pipelines: GPUComputePipeline, and GPURenderPipeline.</p>
   <p>A <dfn data-dfn-type="dfn" data-noexport id="gpucomputepipeline">GPUComputePipeline<a class="self-link" href="#gpucomputepipeline"></a></dfn> runs a <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="compute-shader-stage">compute shader stage</dfn> over a logical
grid of points with a controllable amount of parallelism,
while reading and possibly updating buffer and image resources.</p>
   <p>A <dfn data-dfn-type="dfn" data-noexport id="gpurenderpipeline">GPURenderPipeline<a class="self-link" href="#gpurenderpipeline"></a></dfn> is a multi-stage process with
two programmable stages among other fixed-function stages:</p>
   <ul>
    <li data-md>
     <p>A <dfn data-dfn-type="dfn" data-noexport id="vertex-shader-stage">vertex shader stage<a class="self-link" href="#vertex-shader-stage"></a></dfn> maps input attributes for a single vertex into
output attributes for the vertex.</p>
    <li data-md>
     <p>Fixed-function stages map vertices into graphic primitives (such as triangles)
which are then rasterized to produce fragments.</p>
    <li data-md>
     <p>A <dfn data-dfn-type="dfn" data-noexport id="fragment-shader-stage">fragment shader stage<a class="self-link" href="#fragment-shader-stage"></a></dfn> processes each fragment,
possibly producing a fragment output.</p>
    <li data-md>
     <p>Fixed-function stages consume a fragment output, possibly updating external state
such as color attachments and depth and stencil buffers.</p>
   </ul>
   <p>The WebGPU specification describes pipelines in greater detail.</p>
   <p>WGSL defines three <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="shader-stages">shader stages</dfn>, corresponding to the
programmable parts of pipelines:</p>
   <ul>
    <li data-md>
     <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="compute">compute</dfn></p>
    <li data-md>
     <p><dfn data-dfn-type="dfn" data-noexport id="vertex">vertex<a class="self-link" href="#vertex"></a></dfn></p>
    <li data-md>
     <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="fragment">fragment</dfn></p>
   </ul>
   <p>Each shader stage has its own set of features and constraints, described elsewhere.</p>
   <h3 class="heading settled" data-level="8.2" id="entry-point-decl"><span class="secno">8.2. </span><span class="content">Entry point declaration</span><a class="self-link" href="#entry-point-decl"></a></h3>
   <p>An <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="entry-point">entry point</dfn> is a function that is invoked to perform
the work for a particular <a data-link-type="dfn" href="#shader-stages" id="ref-for-shader-stages②">shader stage</a>.</p>
   <p>Specify a <code>stage</code> attribute on a function declaration to declare that function
as an entry point.</p>
   <p>When configuring the stage in the pipeline, the entry point is specified by providing
the WGSL module and the entry point’s function name.</p>
   <p>An entry point function must have no parameters,
and its return type must be <a data-link-type="dfn" href="#void" id="ref-for-void">void</a>.</p>
   <div class="example no-marker" id="example-dc53b3dc">
    <a class="self-link" href="#example-dc53b3dc"></a>
    <div class="marker">EXAMPLE: Entry Point</div>
<pre>[[stage(vertex)]]
fn vtx_main() -> void { gl_Position = vec4&lt;f32>(); }
   # OpEntryPoint Vertex %vtx_main "vtx_main" %gl_Position

[[stage(fragment)]]
fn frag_main -> void { gl_FragColor = vec4&lt;f32>(); }
   # OpEntryPoint Fragment %frag_main "frag_main" %gl_FragColor

[[stage(compute)]]
fn main() -> void { }
   # OpEntryPoint GLCompute %main "main"
</pre>
   </div>
   <p>The set of <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="functions-in-a-shader-stage">functions in a shader stage</dfn> is the union of:</p>
   <ul>
    <li data-md>
     <p>The entry point function for the stage.</p>
    <li data-md>
     <p>The targets of function calls from within the body of a function
in the shader stage, whether or not that call is executed.</p>
   </ul>
   <p>The union is applied repeatedly until it stabilizes.
It will stabilize in a finite number of steps.</p>
   <h4 class="heading settled" data-level="8.2.1" id="entry-point-attributes"><span class="secno">8.2.1. </span><span class="content">Function attributes for entry points</span><a class="self-link" href="#entry-point-attributes"></a></h4>
   <dl>
    <dt data-md><dfn data-dfn-type="dfn" data-noexport id="stage">stage<a class="self-link" href="#stage"></a></dfn>
    <dd data-md>
     <p>The <code>stage</code> attribute declares that a function is an entry point for particular pipeline stage.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="workgroup_size">workgroup_size</dfn>
    <dd data-md>
     <p>The <code>workgroup_size</code> attribute specifies the x, y, and z dimensions of the <a data-link-type="dfn" href="#workgroup-grid" id="ref-for-workgroup-grid">workgroup grid</a> for a <a data-link-type="dfn" href="#compute" id="ref-for-compute">compute</a> shader.
The size in the x dimension is provided by the first literal.
The size in the y dimension is provided by the second literal, when present, and otherwise
is assumed to be 1.
The size in the z dimension is provided by the third literal, when present, and otherwise
is assumed to be 1.
Each dimension size must be at least 1 and at most an upper bound specified by the WebGPU API.
This attribute must only be used with a <a data-link-type="dfn" href="#compute-shader-stage" id="ref-for-compute-shader-stage①">compute shader stage</a> entry point.</p>
   </dl>
   <p class="issue" id="issue-1bad4e2b"><a class="self-link" href="#issue-1bad4e2b"></a> Can we query upper bounds on workgroup size dimensions?  Is it independent of the shader, or
  a property to be queried after creating the shader module?</p>
   <div class="example no-marker" id="example-082a23ad">
    <a class="self-link" href="#example-082a23ad"></a>
    <div class="marker">EXAMPLE: workgroup_size Attribute</div>
<pre>[[ stage(compute), workgroup_size(8,1,1) ]]
fn sorter() -> void { }
   # OpEntryPoint GLCompute %sorter "sorter"
   # OpExecutionMode %sorter LocalSize 8 1 1

[[ stage(compute), workgroup_size(8) ]]
fn reverser() -> void { }
   # OpEntryPoint GLCompute %reverser "reverser"
   # OpExecutionMode %reverser LocalSize 8 1 1

[[ stage(compute) ]]
fn do_nothing() -> void { }
   # OpEntryPoint GLCompute %do_nothing "do_nothing"
   # OpExecutionMode %do_nothing LocalSize 1 1 1
</pre>
   </div>
   <h3 class="heading settled" data-level="8.3" id="shader-interface"><span class="secno">8.3. </span><span class="content">Shader Interface</span><a class="self-link" href="#shader-interface"></a></h3>
   <p>The shader interface is the set of objects
through which the shader accesses data external to the <a data-link-type="dfn" href="#shader-stages" id="ref-for-shader-stages③">shader stage</a>,
either for reading or writing.
The interface includes:</p>
   <ul>
    <li data-md>
     <p>Pipeline inputs and outputs</p>
    <li data-md>
     <p>Buffer resources</p>
    <li data-md>
     <p>Texture resources</p>
   </ul>
   <p>These objects are represented by module-scope variables in certain <a data-link-type="dfn" href="#storage-classes" id="ref-for-storage-classes⑥">storage classes</a>.</p>
   <p>We say a variable is <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="statically-accessed">statically accessed</dfn> by a function if any subexpression
in the body of the function uses the variable’s identifier,
and that subexpression is <a data-link-type="dfn" href="#in-scope" id="ref-for-in-scope">in scope</a> of the variable’s declaration.
Note that being statically accessed is independent of whether an execution of the shader
will actually evaluate the subexpression, or even execute the enclosing statement.</p>
   <p>More precisely, the <dfn data-dfn-type="dfn" data-noexport id="interface-of-a-shader-stage">interface of a shader stage<a class="self-link" href="#interface-of-a-shader-stage"></a></dfn> is the set of module-scope variables <a data-link-type="dfn" href="#statically-accessed" id="ref-for-statically-accessed">statically accessed</a> by <a data-link-type="dfn" href="#functions-in-a-shader-stage" id="ref-for-functions-in-a-shader-stage">functions in the shader stage</a>,
and which are in storage classes <a data-link-type="dfn" href="#storage-classes-in" id="ref-for-storage-classes-in②">in</a>, <a data-link-type="dfn" href="#storage-classes-out" id="ref-for-storage-classes-out④">out</a>, <a data-link-type="dfn" href="#storage-classes-uniform" id="ref-for-storage-classes-uniform⑨">uniform</a>, <a data-link-type="dfn" href="#storage-classes-storage" id="ref-for-storage-classes-storage②④">storage</a>, or <a data-link-type="dfn" href="#storage-classes-handle" id="ref-for-storage-classes-handle③">handle</a>.</p>
   <h4 class="heading settled" data-level="8.3.1" id="pipeline-inputs-outputs"><span class="secno">8.3.1. </span><span class="content">Pipeline Input and Output Interface</span><a class="self-link" href="#pipeline-inputs-outputs"></a></h4>
   <p>A <dfn data-dfn-type="dfn" data-noexport id="pipeline-input">pipeline input<a class="self-link" href="#pipeline-input"></a></dfn> is data provided to the shader stage from upstream in the pipeline.
A pipeline input is denoted by a module-scope variable in the <a data-link-type="dfn" href="#storage-classes-in" id="ref-for-storage-classes-in③">in</a> storage class.
The store type must be <a data-link-type="dfn" href="#io-shareable" id="ref-for-io-shareable③">IO-shareable</a>.</p>
   <p>A <dfn data-dfn-type="dfn" data-noexport id="pipeline-output">pipeline output<a class="self-link" href="#pipeline-output"></a></dfn> is data the shader provides for further processing downstream in the pipeline.
A pipeline output is denoted by a module-scope variable in the <a data-link-type="dfn" href="#storage-classes-out" id="ref-for-storage-classes-out⑤">out</a> storage class.
The store type must be <a data-link-type="dfn" href="#io-shareable" id="ref-for-io-shareable④">IO-shareable</a>.</p>
   <p>Each pipeline input or output is one of:</p>
   <ul>
    <li data-md>
     <p>A built-in variable. See <a href="#builtin-inputs-outputs">§ 8.3.1.1 Built-in inputs and outputs</a>.</p>
    <li data-md>
     <p>A user data attribute. See <a href="#user-data-attributes">§ 8.3.1.2 User Data Attribute TODO</a>.</p>
   </ul>
   <h5 class="heading settled" data-level="8.3.1.1" id="builtin-inputs-outputs"><span class="secno">8.3.1.1. </span><span class="content">Built-in inputs and outputs</span><a class="self-link" href="#builtin-inputs-outputs"></a></h5>
   <p>A <dfn data-dfn-type="dfn" data-noexport id="built-in-input-variable">built-in input variable<a class="self-link" href="#built-in-input-variable"></a></dfn> provides access to system-generated control information.
The set of built-in inputs are listed in <a href="#builtin-variables">§ 14 Built-in variables</a>.</p>
   <p>To declare a variable for accessing a particular input built-in <em>X</em>:</p>
   <ul>
    <li data-md>
     <p>Declare a module-scope variable in the <a data-link-type="dfn" href="#storage-classes-in" id="ref-for-storage-classes-in④">in</a> storage class,
where the <a data-link-type="dfn" href="#store-type" id="ref-for-store-type①⓪">store type</a> is the listed store type for <em>X</em>.</p>
    <li data-md>
     <p>Apply a <code>builtin(</code><em>X</em><code>)</code> attribute to the variable.</p>
    <li data-md>
     <p>The variable must not have an initializer. The system provides the value.</p>
   </ul>
   <p>A <dfn data-dfn-type="dfn" data-noexport id="built-in-output-variable">built-in output variable<a class="self-link" href="#built-in-output-variable"></a></dfn> is used by the shader to convey
control information to later processing steps in the pipeline.
The set of built-in outputs are listed in <a href="#builtin-variables">§ 14 Built-in variables</a>.</p>
   <p>To declare a variable for accessing a particular output built-in <em>Y</em>:</p>
   <ul>
    <li data-md>
     <p>Declare a module-scope variable in the <a data-link-type="dfn" href="#storage-classes-out" id="ref-for-storage-classes-out⑥">out</a> storage class,
where the <a data-link-type="dfn" href="#store-type" id="ref-for-store-type①①">store type</a> is the listed store type for <em>Y</em>.</p>
    <li data-md>
     <p>Apply a <code>builtin(</code><em>Y</em><code>)</code> attribute to the variable.</p>
    <li data-md>
     <p>The variable may have an initializer, or not, as described in <a href="#variables">§ 4 Variable and const</a>.</p>
   </ul>
   <div class="example no-marker" id="example-f20f8760">
    <a class="self-link" href="#example-f20f8760"></a>
    <div class="marker">EXAMPLE: Declaring built-in variables</div>
<pre># vertex shader output builtin
[[builtin(position)]] var&lt;out> my_position : vec4&lt;f32>;

# fragment shader input builtin
[[builtin(frag_coord)]] var&lt;in> coord : vec4&lt;f32>;

# compute shader builtin
[[builtin(global_invocation_id)]] var&lt;in> global_id : vec3&lt;u32>;
</pre>
   </div>
   <p>The <code>builtin</code> attribute must not be applied to a variable in a storage class other than <a data-link-type="dfn" href="#storage-classes-in" id="ref-for-storage-classes-in⑤">in</a> or <a data-link-type="dfn" href="#storage-classes-out" id="ref-for-storage-classes-out⑦">out</a>.</p>
   <p>An input built-in must only be applied to a variable in the <a data-link-type="dfn" href="#storage-classes-in" id="ref-for-storage-classes-in⑥">in</a> storage class.</p>
   <p>An output built-in must only be applied to a variable in the <a data-link-type="dfn" href="#storage-classes-out" id="ref-for-storage-classes-out⑧">out</a> storage class.</p>
   <p>A variable must not have more than one <code>builtin</code> attribute.</p>
   <p>Each built-in variable has an associated shader stage, as described in <a href="#builtin-variables">§ 14 Built-in variables</a>.
If a built-in variable has stage <em>S</em> and is <a data-link-type="dfn" href="#statically-accessed" id="ref-for-statically-accessed①">statically accessed</a> by a function <em>F</em>,
then <em>F</em> must be a <a data-link-type="dfn" href="#functions-in-a-shader-stage" id="ref-for-functions-in-a-shader-stage①">function in a shader</a> for stage <em>S</em>.</p>
   <p class="issue" id="issue-d41d8cd9"><a class="self-link" href="#issue-d41d8cd9"></a></p>
   <ol>
    <li data-md>
     <p>The statement makes it clear that in/out storage classes for builtins are redundant.</p>
    <li data-md>
     <p>On the other hand, in Vulkan, builtin variables occoupy I/O location slots (counting toward limits),</p>
   </ol>
   <h5 class="heading settled" data-level="8.3.1.2" id="user-data-attributes"><span class="secno">8.3.1.2. </span><span class="content">User Data Attribute TODO</span><a class="self-link" href="#user-data-attributes"></a></h5>
   <h5 class="heading settled" data-level="8.3.1.3" id="input-output-locations"><span class="secno">8.3.1.3. </span><span class="content">Input-output Locations TODO</span><a class="self-link" href="#input-output-locations"></a></h5>
    TODO: <em>Stub</em>. Location-sizing of types, non-overlap among variables referenced within an entry point static call tree. 
   <h4 class="heading settled" data-level="8.3.2" id="resource-interface"><span class="secno">8.3.2. </span><span class="content">Resource interface</span><a class="self-link" href="#resource-interface"></a></h4>
   <p>A <dfn data-dfn-type="dfn" data-noexport id="resource">resource<a class="self-link" href="#resource"></a></dfn> is an object,
other than a <a href="#pipeline-inputs-outputs">pipeline input or output</a>,
which provides access to data external to a <a data-link-type="dfn" href="#shader-stages" id="ref-for-shader-stages④">shader stage</a>.
Resources are shared by all invocations of the shader.</p>
   <p>There are four kinds of resources:</p>
   <ul>
    <li data-md>
     <p><a data-link-type="dfn" href="#uniform-buffer" id="ref-for-uniform-buffer⑤">uniform buffers</a></p>
    <li data-md>
     <p><a data-link-type="dfn" href="#storage-buffer" id="ref-for-storage-buffer⑤">storage buffers</a></p>
    <li data-md>
     <p>textures</p>
    <li data-md>
     <p>samplers</p>
   </ul>
   <p>The <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="resource-interface-of-a-shader">resource interface of a shader</dfn> is the set of module-scope
resource variables <a data-link-type="dfn" href="#statically-accessed" id="ref-for-statically-accessed②">statically accessed</a> by <a data-link-type="dfn" href="#functions-in-a-shader-stage" id="ref-for-functions-in-a-shader-stage②">functions in the shader stage</a>.</p>
   <p>Each resource variable must be declared with both <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="group"><code>group</code></dfn> and <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="binding"><code>binding</code></dfn> attributes.
Together with the shader’s stage, these identify the binding address
of the resource on the shader’s pipeline.
See <a href="https://gpuweb.github.io/gpuweb/#pipeline-layout">WebGPU § GPUPipelineLayout</a>.</p>
   <p>Bindings must not alias within a shader stage:
two different variables in the resource interface of a given
shader must not have the same group and binding values, when considered as a pair of values.</p>
   <table class="data">
    <caption>Resource variable attributes</caption>
    <thead>
     <tr>
      <th>Decoraton
      <th>Operand
      <th>Description 
    <tbody>
     <tr>
      <td><code>group</code> 
      <td>non-negative i32 literal 
      <td>Bind group index 
     <tr>
      <td><code>binding</code> 
      <td>non-negative i32 literal 
      <td>Binding number index 
   </table>
   <h4 class="heading settled" data-level="8.3.3" id="resource-layout-compatibility"><span class="secno">8.3.3. </span><span class="content">Resource layout compatibility</span><a class="self-link" href="#resource-layout-compatibility"></a></h4>
   <p>WebGPU requires that a shader’s resource interface match the <a href="https://gpuweb.github.io/gpuweb/#pipeline-layout">layout of the pipeline</a> using the shader.</p>
   <p>Each WGSL variable in a resource interface must be bound to a WebGPU resource with
a compatible <a href="https://gpuweb.github.io/gpuweb/#enumdef-gpubindingtype">GPUBindingType</a>,
where compatibility is defined by the following table.</p>
   <table class="data">
    <caption>WebGPU binding type compatibility</caption>
    <thead>
     <tr>
      <th>WGSL resource 
      <th>WebGPU <a href="https://gpuweb.github.io/gpuweb/#enumdef-gpubindingtype">GPUBindingType</a> 
    <tbody>
     <tr>
      <td><a data-link-type="dfn" href="#uniform-buffer" id="ref-for-uniform-buffer⑥">uniform buffer</a> 
      <td><a href="https://gpuweb.github.io/gpuweb/#dom-gpubindingtype-uniform-buffer">uniform-buffer</a> 
     <tr>
      <td>read-write <a data-link-type="dfn" href="#storage-buffer" id="ref-for-storage-buffer⑥">storage buffer</a> 
      <td><a href="https://gpuweb.github.io/gpuweb/#dom-gpubindingtype-storage-buffer">storage-buffer</a> 
     <tr>
      <td>read-only <a data-link-type="dfn" href="#storage-buffer" id="ref-for-storage-buffer⑦">storage buffer</a> 
      <td><a href="https://gpuweb.github.io/gpuweb/#dom-gpubindingtype-readonly-storage-buffer">readonly-storage-buffer</a> 
     <tr>
      <td>sampler 
      <td><a href="https://gpuweb.github.io/gpuweb/#dom-gpubindingtype-sampler">sampler</a> 
     <tr>
      <td>sampler_comparison 
      <td><a href="https://gpuweb.github.io/gpuweb/#dom-gpubindingtype-comparison-sampler">comparison-sampler</a> 
     <tr>
      <td>sampled texture 
      <td><a href="https://gpuweb.github.io/gpuweb/#dom-gpubindingtype-sampled-texture">sampled-texture</a> or <a href="https://gpuweb.github.io/gpuweb/#dom-gpubindingtype-multisampled-texture">multisampled-texture</a> 
     <tr>
      <td><a data-link-type="dfn" href="#read-only-storage-texture" id="ref-for-read-only-storage-texture">read-only storage texture</a> 
      <td><a href="https://gpuweb.github.io/gpuweb/#dom-gpubindingtype-readonly-storage-texture">readonly-storage-texture</a> 
     <tr>
      <td><a data-link-type="dfn" href="#write-only-storage-texture" id="ref-for-write-only-storage-texture">write-only storage texture</a> 
      <td><a href="https://gpuweb.github.io/gpuweb/#dom-gpubindingtype-writeonly-storage-texture">writeonly-storage-texture</a> 
   </table>
   <p>TODO: Rewrite the phrases 'read-only storage buffer' and 'read-write storage buffer' after
we settle on how to express those concepts.
See https://github.com/gpuweb/gpuweb/pull/1183</p>
   <p>If <var>B</var> is a <a data-link-type="dfn" href="#uniform-buffer" id="ref-for-uniform-buffer⑦">uniform buffer</a> variable in a resource interface,
and <var>WB</var> is the <a href="https://gpuweb.github.io/gpuweb/#buffer-interface">WebGPU GPUBuffer</a> bound to <var>B</var>, then:</p>
   <ul>
    <li data-md>
     <p>The size of <var>WB</var> must be at least as large
as the <a data-link-type="dfn" href="#allocation-extent" id="ref-for-allocation-extent">allocation extent</a> of the <a data-link-type="dfn" href="#store-type" id="ref-for-store-type①②">store type</a> of <var>B</var> in the <a data-link-type="dfn" href="#storage-classes-storage" id="ref-for-storage-classes-storage②⑤">storage</a> storage class.</p>
   </ul>
   <p>If <var>B</var> is a <a data-link-type="dfn" href="#storage-buffer" id="ref-for-storage-buffer⑧">storage buffer</a> variable in a resource interface,
and <var>WB</var> is the <a href="https://gpuweb.github.io/gpuweb/#buffer-interface">WebGPU GPUBuffer</a> bound to <var>B</var>, then:</p>
   <ul>
    <li data-md>
     <p>If the <a data-link-type="dfn" href="#store-type" id="ref-for-store-type①③">store type</a> <var>S</var> of <var>B</var> does not contain a <a data-link-type="dfn" href="#runtime-sized" id="ref-for-runtime-sized⑤">runtime-sized</a> array, then
the size of <var>WB</var> must be at least as large as the <a data-link-type="dfn" href="#allocation-extent" id="ref-for-allocation-extent①">allocation extent</a> of <var>S</var> in the <a data-link-type="dfn" href="#storage-classes-storage" id="ref-for-storage-classes-storage②⑥">storage</a> storage class.</p>
    <li data-md>
     <p>If the <a data-link-type="dfn" href="#store-type" id="ref-for-store-type①④">store type</a> <var>S</var> of <var>B</var> contains a <a data-link-type="dfn" href="#runtime-sized" id="ref-for-runtime-sized⑥">runtime-sized</a> array as its last member,
then:</p>
     <ul>
      <li data-md>
       <p>The runtime-determined array length of that member must be at least 1.</p>
      <li data-md>
       <p>The size of <var>WB</var> must be at least as large as the <a data-link-type="dfn" href="#allocation-extent" id="ref-for-allocation-extent②">allocation extent</a> in
storage class <a data-link-type="dfn" href="#storage-classes-storage" id="ref-for-storage-classes-storage②⑦">storage</a> of the value stored in <var>B</var>.</p>
     </ul>
   </ul>
   <p class="note" role="note"><span>Note:</span> Recall that a <a data-link-type="dfn" href="#runtime-sized" id="ref-for-runtime-sized⑦">runtime-sized</a> array may only appear as the last element in the structure
type that is the store type of a storage buffer variable.</p>
   <p>TODO: Describe other interface matching requirements, e.g. for images?</p>
   <h3 class="heading settled" data-level="8.4" id="pipeline-compatibility"><span class="secno">8.4. </span><span class="content">Pipeline compatibility TODO</span><a class="self-link" href="#pipeline-compatibility"></a></h3>
   <p>TODO: match flat attribute</p>
   <p>TODO: user data inputs of fragment stage must be subset of user data outputs of vertex stage</p>
   <h4 class="heading settled" data-level="8.4.1" id="input-output-matching"><span class="secno">8.4.1. </span><span class="content">Input-output matching rules TODO</span><a class="self-link" href="#input-output-matching"></a></h4>
   <h2 class="heading settled" data-level="9" id="wgsl-module"><span class="secno">9. </span><span class="content">WGSL program TODO</span><a class="self-link" href="#wgsl-module"></a></h2>
   <p>TODO: <em>Stub</em> A WGSL program is a sequence of module-scope declarations.</p>
<pre class="def">translation_unit
  : global_decl* EOF
</pre>
<pre class="def">global_decl
  : SEMICOLON
  | global_variable_decl SEMICOLON
  | global_constant_decl SEMICOLON
  | type_alias SEMICOLON
  | struct_decl SEMICOLON
  | function_decl
</pre>
   <h2 class="heading settled" data-level="10" id="execution"><span class="secno">10. </span><span class="content">Execution TODO</span><a class="self-link" href="#execution"></a></h2>
   <h3 class="heading settled" data-level="10.1" id="invocation-of-an-entry-point"><span class="secno">10.1. </span><span class="content">Invocation of an entry point TODO</span><a class="self-link" href="#invocation-of-an-entry-point"></a></h3>
   <h4 class="heading settled" data-level="10.1.1" id="before-entry-point-begins"><span class="secno">10.1.1. </span><span class="content">Before an entry point begins TODO</span><a class="self-link" href="#before-entry-point-begins"></a></h4>
   <p>TODO: <em>Stub</em></p>
   <ul>
    <li data-md>
     <p>Setting values of builtin variables</p>
    <li data-md>
     <p>External-interface variables have initialized backing storage</p>
    <li data-md>
     <p>Internal module-scope variables have backing storage</p>
    <li data-md>
     <p>Initializers evaluated in textual order</p>
    <li data-md>
     <p>No two variables have overlapping storage (might already be covered earlier?)</p>
   </ul>
   <h4 class="heading settled" data-level="10.1.2" id="program-order"><span class="secno">10.1.2. </span><span class="content">Program order (within an invocation) TODO</span><a class="self-link" href="#program-order"></a></h4>
   <h5 class="heading settled" data-level="10.1.2.1" id="function-scope-variable-lifetime"><span class="secno">10.1.2.1. </span><span class="content">Function-scope variable lifetime and initialization TODO</span><a class="self-link" href="#function-scope-variable-lifetime"></a></h5>
   <h5 class="heading settled" data-level="10.1.2.2" id="statement-order"><span class="secno">10.1.2.2. </span><span class="content">Statement order TODO</span><a class="self-link" href="#statement-order"></a></h5>
   <h5 class="heading settled" data-level="10.1.2.3" id="intra-statement-order"><span class="secno">10.1.2.3. </span><span class="content">Intra-statement order (or lack) TODO</span><a class="self-link" href="#intra-statement-order"></a></h5>
   <p>TODO: <em>Stub</em>: Expression evaluation</p>
   <h3 class="heading settled" data-level="10.2" id="uniformity"><span class="secno">10.2. </span><span class="content">Uniformity TODO</span><a class="self-link" href="#uniformity"></a></h3>
   <h4 class="heading settled" data-level="10.2.1" id="uniform-control-flow"><span class="secno">10.2.1. </span><span class="content">Uniform control flow TODO</span><a class="self-link" href="#uniform-control-flow"></a></h4>
   <h4 class="heading settled" data-level="10.2.2" id="divergence-reconvergence"><span class="secno">10.2.2. </span><span class="content">Divergence and reconvergence TODO</span><a class="self-link" href="#divergence-reconvergence"></a></h4>
   <h4 class="heading settled" data-level="10.2.3" id="uniformity-restrictions"><span class="secno">10.2.3. </span><span class="content">Uniformity restrictions TODO</span><a class="self-link" href="#uniformity-restrictions"></a></h4>
   <h3 class="heading settled" data-level="10.3" id="compute-shader-workgroups"><span class="secno">10.3. </span><span class="content">Compute Shaders and Workgroups</span><a class="self-link" href="#compute-shader-workgroups"></a></h3>
   <p>A <dfn class="dfn-paneled" data-dfn-for="compute shader stage" data-dfn-type="dfn" data-noexport id="compute-shader-stage-workgroup">workgroup</dfn> is a set of invocations which
concurrently execute a <a data-link-type="dfn" href="#compute-shader-stage" id="ref-for-compute-shader-stage②">compute shader stage</a> <a data-link-type="dfn" href="#entry-point" id="ref-for-entry-point">entry point</a>,
and share access to shader variables in the <a data-link-type="dfn" href="#storage-classes-workgroup" id="ref-for-storage-classes-workgroup">workgroup</a> storage class.</p>
   <p>The <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="workgroup-grid">workgroup grid</dfn> for a compute shader is the set of points
with integer coordinates <em>(i,j,k)</em> with:</p>
   <ul>
    <li data-md>
     <p>0 ≤ i &lt; workgroup_size_x</p>
    <li data-md>
     <p>0 ≤ j &lt; workgroup_size_y</p>
    <li data-md>
     <p>0 ≤ k &lt; workgroup_size_z</p>
   </ul>
   <p>where <em>(workgroup_size_x, workgroup_size_y, workgroup_size_z)</em> is
the value specified for the <a data-link-type="dfn" href="#workgroup_size" id="ref-for-workgroup_size">workgroup_size</a> attribute of the
entry point, or (1,1,1) if the entry point has no such attribute.</p>
   <p>There is exactly one invocation in a workgroup for each point in the workgroup grid.</p>
   <p>An invocation’s <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="local-invocation-id">local invocation ID</dfn> is the coordinate
triple for the invocation’s corresponding workgroup grid point.</p>
   <p>When an invocation has <a data-link-type="dfn" href="#local-invocation-id" id="ref-for-local-invocation-id">local invocation ID</a> (i,j,k), then its <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="local-invocation-index">local invocation index</dfn> is</p>
   <p>i +
  (j * workgroup_size_x) +
  (k * workgroup_size_x * workgroup_size_y)</p>
   <p class="algorithm" data-algorithm="local index range">Note that if a workgroup has <var>W</var> invocations,
then each invocation <var>I</var> the workgroup has a unique local invocation index <var>L</var>(<var>I</var>)
such that 0 ≤ <var>L</var>(<var>I</var>) &lt; <var>W</var>,
and that entire range is covered.</p>
   <p>A compute shader begins execution when a WebGPU implementation
removes a dispatch command from a queue and begins the specified work on the GPU.
The dispatch command specifies a <dfn data-dfn-type="dfn" data-noexport id="dispatch-size">dispatch size<a class="self-link" href="#dispatch-size"></a></dfn>,
which is an integer triple <em>(group_count_x, group_count_y, group_count_z)</em> indicating the number of workgroups to be executed, as described in the following.</p>
   <p>The <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="compute-shader-grid">compute shader grid</dfn> for a particular dispatch
is the set of points with integer coordinates <em>(CSi,CSj,CSk)</em> with:</p>
   <ul>
    <li data-md>
     <p>0 ≤ CSi ≤ workgroup_size_x × group_count_x</p>
    <li data-md>
     <p>0 ≤ CSj ≤ workgroup_size_y × group_count_y</p>
    <li data-md>
     <p>0 ≤ CSk ≤ workgroup_size_z × group_count_z</p>
   </ul>
   <p>where <em>workgroup_size_x</em>, <em>workgroup_size_y</em>, and <em>workgroup_size_z</em> are as above for the compute shader entry point.</p>
   <p>The work to be performed by a compute shader dispatch is to execute exactly one
invocation of the entry point for each point in the compute shader grid.</p>
   <p>An invocation’s <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="global-invocation-id">global invocation ID</dfn> is the coordinate
triple for the invocation’s corresponding compute shader grid point.</p>
   <p>The invocations are organized into workgroups, so that each invocation <em>(CSi, CSj, CSk)</em> is identified with the workgroup grid point</p>
   <p>( <em>CSi</em> mod workgroup_size_x , <em>CSj</em> mod workgroup_size_y , <em>CSk</em> mod workgroup_size_z )</p>
   <p>in workgroup instance</p>
   <p>( ⌊ <em>CSi</em> ÷ workgroup_size_x ⌋,
     ⌊ <em>CSj</em> ÷ workgroup_size_y ⌋,
     ⌊ <em>CSk</em> ÷ workgroup_size_z ⌋).</p>
   <p>WebGPU provides no guarantees about:</p>
   <ul>
    <li data-md>
     <p>Whether invocations from different workgroups execute concurrently.
That is, you cannot assume more than one workgroup executes at a time.</p>
    <li data-md>
     <p>Whether, once invocations from a workgroup begin executing, that other workgroups
are blocked from execution.
That is, you cannot assume that only one workgroup executes at a time.
While a workgroup is executing, the implementation may choose to
concurrently execute other workgroups as well, or other queued but unblocked work.</p>
    <li data-md>
     <p>Whether invocations from one particular workgroup begin executing before
the invocations of another workgroup.
That is, you cannot assume that workgroups are launched in a particular order.</p>
   </ul>
   <p class="issue" id="issue-04b819b3"><a class="self-link" href="#issue-04b819b3"></a> <a href="https://github.com/gpuweb/gpuweb/issues/1045">WebGPU issue 1045</a>:
Dispatch group counts must be positive.
However, how do we handle an indirect dispatch that specifies a group count of zero.</p>
   <h3 class="heading settled" data-level="10.4" id="collective-operations"><span class="secno">10.4. </span><span class="content">Collective operations TODO</span><a class="self-link" href="#collective-operations"></a></h3>
   <h4 class="heading settled" data-level="10.4.1" id="barrier"><span class="secno">10.4.1. </span><span class="content">Barrier TODO</span><a class="self-link" href="#barrier"></a></h4>
   <h4 class="heading settled" data-level="10.4.2" id="image-operations-requiring-uniformity"><span class="secno">10.4.2. </span><span class="content">Image Operations Requiring Uniformity TODO</span><a class="self-link" href="#image-operations-requiring-uniformity"></a></h4>
   <h4 class="heading settled" data-level="10.4.3" id="derivatives"><span class="secno">10.4.3. </span><span class="content">Derivatives TODO</span><a class="self-link" href="#derivatives"></a></h4>
   <h4 class="heading settled" data-level="10.4.4" id="arrayed-resource-access"><span class="secno">10.4.4. </span><span class="content">Arrayed resource access TODO</span><a class="self-link" href="#arrayed-resource-access"></a></h4>
   <h3 class="heading settled" data-level="10.5" id="floating-point-evaluation"><span class="secno">10.5. </span><span class="content">Floating Point Evaluation TODO</span><a class="self-link" href="#floating-point-evaluation"></a></h3>
   <p>TODO: <em>Stub</em></p>
   <ul>
    <li data-md>
     <p>Infinities, NaNs, negative zeros</p>
    <li data-md>
     <p>Denorms, flushing</p>
    <li data-md>
     <p>fast-math rules: e.g. reassociation, fusing</p>
    <li data-md>
     <p>Invariance (or is this more general than floating point)</p>
    <li data-md>
     <p>Rounding</p>
    <li data-md>
     <p>Error bounds on basic operations</p>
   </ul>
   <h4 class="heading settled" data-level="10.5.1" id="floating-point-conversion"><span class="secno">10.5.1. </span><span class="content">Floating point conversion</span><a class="self-link" href="#floating-point-conversion"></a></h4>
   <p>When converting a floating point scalar value to an integral type:</p>
   <ul>
    <li data-md>
     <p>If the original value is exactly representable in the destination type, then the result is that value.</p>
    <li data-md>
     <p>If the original value has a fractional component, then it cannot be represented exactly in the destination type, and the result is TODO</p>
    <li data-md>
     <p>If the original value is out of range of the destination type, then TODO.</p>
   </ul>
   <p>When converting a value to a floating point type:</p>
   <ul>
    <li data-md>
     <p>If the original value is exactly representable in the destination type, then the result is that value.</p>
     <ul>
      <li data-md>
       <p>If the original value is zero and of integral type, then the resulting value has a zero sign bit.</p>
     </ul>
    <li data-md>
     <p>Otherwise, the original value is not exactly representable.</p>
     <ul>
      <li data-md>
       <p>If the original value is different from but lies between two adjacent values representable in the destination type,
 then the result is one of those two values.
 WGSL does not specify whether the larger or smaller representable
 value is chosen, and different instances of such a conversion may choose differently.</p>
      <li data-md>
       <p>Otherwise, if the original value lies outside the range of the destination type.</p>
       <ul>
        <li data-md>
         <p>This does not occur when the original types is one of <a data-link-type="dfn" href="#i32" id="ref-for-i32①②">i32</a> or <a data-link-type="dfn" href="#u32" id="ref-for-u32①①">u32</a> and the destination type is <a data-link-type="dfn" href="#f32" id="ref-for-f32①⓪">f32</a>.</p>
        <li data-md>
         <p>This does not occur when the source type is a floating point type with fewer exponent and mantissa bits.</p>
        <li data-md>
         <p>If the source type is a floating point type with more mantissa bits than the destination type, then:</p>
         <ul>
          <li data-md>
           <p>The extra mantissa bits of the source value may be discarded (treated as if they are 0).</p>
           <ul>
            <li data-md>
             <p>If the resulting value is the maximum normal value of the destination type, then that is the result.</p>
           </ul>
          <li data-md>
           <p>Otherwise the result is the infinity value with the same sign as the source value.</p>
         </ul>
       </ul>
      <li data-md>
       <p>Otherwise, if the original value is a NaN for the source type, then the result is a NaN in the destination type.</p>
     </ul>
   </ul>
   <p class="note" role="note"><span>NOTE:</span> An integer value may lie between two adjacent representable floating point values.
In particular, the <a data-link-type="dfn" href="#f32" id="ref-for-f32①①">f32</a> type uses 23 explicit fractional bits.
Additionally, when the floating point value is in the normal range (the exponent is neither extreme value), then the mantissa is
the set of fractional bits together with an extra 1-bit at the most significant position at bit position 23.
Then, for example, integers 2<sup>28</sup> and 1+2<sup>28</sup> both map to the same floating point value: the difference in the
least significant 1 bit is not representable by the floating point format.
This kind of collision occurs for pairs of adjacent integers with a magnitude of at least 2<sup>25</sup>.</p>
   <p class="issue" id="issue-5abef8be"><a class="self-link" href="#issue-5abef8be"></a> (dneto) Default rounding mode is an implementation choice.  Is that what we want?</p>
   <p class="issue" id="issue-d2d1e989"><a class="self-link" href="#issue-d2d1e989"></a> Check behaviour of the f32 to f16 conversion for numbers just beyond the max normal f16 values.
I’ve written what an NVIDIA GPU does.  See https://github.com/google/amber/pull/918 for an executable test case.</p>
   <h2 class="heading settled" data-level="11" id="memory-model"><span class="secno">11. </span><span class="content">Memory Model TODO</span><a class="self-link" href="#memory-model"></a></h2>
   <h2 class="heading settled" data-level="12" id="grammar"><span class="secno">12. </span><span class="content">Keyword and Token Summary</span><a class="self-link" href="#grammar"></a></h2>
   <h3 class="heading settled" data-level="12.1" id="keyword-summary"><span class="secno">12.1. </span><span class="content">Keyword Summary</span><a class="self-link" href="#keyword-summary"></a></h3>
   <table class="data">
    <caption>Type-defining keywords</caption>
    <thead>
     <tr>
      <th>Token
      <th>Definition 
    <tbody>
     <tr>
      <td><code>ARRAY</code>
      <td>array 
     <tr>
      <td><code>BOOL</code>
      <td>bool 
     <tr>
      <td><code>FLOAT32</code>
      <td>f32 
     <tr>
      <td><code>INT32</code>
      <td>i32 
     <tr>
      <td><code>MAT2x2</code>
      <td>mat2x2  # 2 column x 2 row 
     <tr>
      <td><code>MAT2x3</code>
      <td>mat2x3  # 2 column x 3 row 
     <tr>
      <td><code>MAT2x4</code>
      <td>mat2x4  # 2 column x 4 row 
     <tr>
      <td><code>MAT3x2</code>
      <td>mat3x2  # 3 column x 2 row 
     <tr>
      <td><code>MAT3x3</code>
      <td>mat3x3  # 3 column x 3 row 
     <tr>
      <td><code>MAT3x4</code>
      <td>mat3x4  # 3 column x 4 row 
     <tr>
      <td><code>MAT4x2</code>
      <td>mat4x2  # 4 column x 2 row 
     <tr>
      <td><code>MAT4x3</code>
      <td>mat4x3  # 4 column x 3 row 
     <tr>
      <td><code>MAT4x4</code>
      <td>mat4x4  # 4 column x 4 row 
     <tr>
      <td><code>POINTER</code>
      <td>ptr 
     <tr>
      <td><code>SAMPLER</code>
      <td>sampler 
     <tr>
      <td><code>SAMPLER_COMPARISON</code>
      <td>sampler_comparison 
     <tr>
      <td><code>STRUCT</code>
      <td>struct 
     <tr>
      <td><code>TEXTURE_1D</code>
      <td>texture_1d 
     <tr>
      <td><code>TEXTURE_1D_ARRAY</code>
      <td>texture_1d_array 
     <tr>
      <td><code>TEXTURE_2D</code>
      <td>texture_2d 
     <tr>
      <td><code>TEXTURE_2D_ARRAY</code>
      <td>texture_2d_array 
     <tr>
      <td><code>TEXTURE_3D</code>
      <td>texture_3d 
     <tr>
      <td><code>TEXTURE_CUBE</code>
      <td>texture_cube 
     <tr>
      <td><code>TEXTURE_CUBE_ARRAY</code>
      <td>texture_cube_array 
     <tr>
      <td><code>TEXTURE_MULTISAMPLED_2D</code>
      <td>texture_multisampled_2d 
     <tr>
      <td><code>TEXTURE_STORAGE_RO_1D</code>
      <td>texture_storage_ro_1d 
     <tr>
      <td><code>TEXTURE_STORAGE_RO_1D_ARRAY</code>
      <td>texture_storage_ro_1d_array 
     <tr>
      <td><code>TEXTURE_STORAGE_RO_2D</code>
      <td>texture_storage_ro_2d 
     <tr>
      <td><code>TEXTURE_STORAGE_RO_2D_ARRAY</code>
      <td>texture_storage_ro_2d_array 
     <tr>
      <td><code>TEXTURE_STORAGE_RO_3D</code>
      <td>texture_storage_ro_3d 
     <tr>
      <td><code>TEXTURE_STORAGE_WO_1D</code>
      <td>texture_storage_wo_1d 
     <tr>
      <td><code>TEXTURE_STORAGE_WO_1D_ARRAY</code>
      <td>texture_storage_wo_1d_array 
     <tr>
      <td><code>TEXTURE_STORAGE_WO_2D</code>
      <td>texture_storage_wo_2d 
     <tr>
      <td><code>TEXTURE_STORAGE_WO_2D_ARRAY</code>
      <td>texture_storage_wo_2d_array 
     <tr>
      <td><code>TEXTURE_STORAGE_WO_3D</code>
      <td>texture_storage_wo_3d 
     <tr>
      <td><code>TEXTURE_DEPTH_2D</code>
      <td>texture_depth_2d 
     <tr>
      <td><code>TEXTURE_DEPTH_2D_ARRAY</code>
      <td>texture_depth_2d_array 
     <tr>
      <td><code>TEXTURE_DEPTH_CUBE</code>
      <td>texture_depth_cube 
     <tr>
      <td><code>TEXTURE_DEPTH_CUBE_ARRAY</code>
      <td>texture_depth_cube_array 
     <tr>
      <td><code>UINT32</code>
      <td>u32 
     <tr>
      <td><code>VEC2</code>
      <td>vec2 
     <tr>
      <td><code>VEC3</code>
      <td>vec3 
     <tr>
      <td><code>VEC4</code>
      <td>vec4 
     <tr>
      <td><code>VOID</code>
      <td>void 
   </table>
   <table class="data">
    <caption>Other keywords</caption>
    <thead>
     <tr>
      <td>Token
      <td>Definition 
    <tbody>
     <tr>
      <td><code>BITCAST</code>
      <td>bitcast 
     <tr>
      <td><code>BLOCK</code>
      <td>block 
     <tr>
      <td><code>BREAK</code>
      <td>break 
     <tr>
      <td><code>CASE</code>
      <td>case 
     <tr>
      <td><code>CONST</code>
      <td>const 
     <tr>
      <td><code>CONTINUE</code>
      <td>continue 
     <tr>
      <td><code>CONTINUING</code>
      <td>continuing 
     <tr>
      <td><code>DEFAULT</code>
      <td>default 
     <tr>
      <td><code>DISCARD</code>
      <td>discard 
     <tr>
      <td><code>ELSE</code>
      <td>else 
     <tr>
      <td><code>ELSE_IF</code>
      <td>elseif 
     <tr>
      <td><code>FALLTHROUGH</code>
      <td>fallthrough 
     <tr>
      <td><code>FALSE</code>
      <td>false 
     <tr>
      <td><code>FN</code>
      <td>fn 
     <tr>
      <td><code>FOR</code>
      <td>for 
     <tr>
      <td><code>FUNCTION</code>
      <td>function 
     <tr>
      <td><code>IF</code>
      <td>if 
     <tr>
      <td><code>IN</code>
      <td>in 
     <tr>
      <td><code>LOOP</code>
      <td>loop 
     <tr>
      <td><code>OUT</code>
      <td>out 
     <tr>
      <td><code>PRIVATE</code>
      <td>private 
     <tr>
      <td><code>RETURN</code>
      <td>return 
     <tr>
      <td><code>STORAGE</code>
      <td>storage 
     <tr>
      <td><code>SWITCH</code>
      <td>switch 
     <tr>
      <td><code>TRUE</code>
      <td>true 
     <tr>
      <td><code>TYPE</code>
      <td>type 
     <tr>
      <td><code>UNIFORM</code>
      <td>uniform 
     <tr>
      <td><code>VAR</code>
      <td>var 
     <tr>
      <td><code>WORKGROUP</code>
      <td>workgroup 
   </table>
   <table class="data">
    <caption>Image format keywords</caption>
    <thead>
     <tr>
      <td>Token
      <td>Definition 
    <tbody>
     <tr>
      <td><code>R8UNORM</code>
      <td>r8unorm 
     <tr>
      <td><code>R8SNORM</code>
      <td>r8snorm 
     <tr>
      <td><code>R8UINT</code>
      <td>r8uint 
     <tr>
      <td><code>R8SINT</code>
      <td>r8sint 
     <tr>
      <td><code>R16UINT</code>
      <td>r16uint 
     <tr>
      <td><code>R16SINT</code>
      <td>r16sint 
     <tr>
      <td><code>R16FLOAT</code>
      <td>r16float 
     <tr>
      <td><code>RG8UNORM</code>
      <td>rg8unorm 
     <tr>
      <td><code>RG8SNORM</code>
      <td>rg8snorm 
     <tr>
      <td><code>RG8UINT</code>
      <td>rg8uint 
     <tr>
      <td><code>RG8SINT</code>
      <td>rg8sint 
     <tr>
      <td><code>R32UINT</code>
      <td>r32uint 
     <tr>
      <td><code>R32SINT</code>
      <td>r32sint 
     <tr>
      <td><code>R32FLOAT</code>
      <td>r32float 
     <tr>
      <td><code>RG16UINT</code>
      <td>rg16uint 
     <tr>
      <td><code>RG16SINT</code>
      <td>rg16sint 
     <tr>
      <td><code>RG16FLOAT</code>
      <td>rg16float 
     <tr>
      <td><code>RGBA8UNORM</code>
      <td>rgba8unorm 
     <tr>
      <td><code>RGBA8UNORM-SRGB</code>
      <td>rgba8unorm_srgb 
     <tr>
      <td><code>RGBA8SNORM</code>
      <td>rgba8snorm 
     <tr>
      <td><code>RGBA8UINT</code>
      <td>rgba8uint 
     <tr>
      <td><code>RGBA8SINT</code>
      <td>rgba8sint 
     <tr>
      <td><code>BGRA8UNORM</code>
      <td>bgra8unorm 
     <tr>
      <td><code>BGRA8UNORM-SRGB</code>
      <td>bgra8unorm_srgb 
     <tr>
      <td><code>RGB10A2UNORM</code>
      <td>rgb10a2unorm 
     <tr>
      <td><code>RG11B10FLOAT</code>
      <td>rg11b10float 
     <tr>
      <td><code>RG32UINT</code>
      <td>rg32uint 
     <tr>
      <td><code>RG32SINT</code>
      <td>rg32sint 
     <tr>
      <td><code>RG32FLOAT</code>
      <td>rg32float 
     <tr>
      <td><code>RGBA16UINT</code>
      <td>rgba16uint 
     <tr>
      <td><code>RGBA16SINT</code>
      <td>rgba16sint 
     <tr>
      <td><code>RGBA16FLOAT</code>
      <td>rgba16float 
     <tr>
      <td><code>RGBA32UINT</code>
      <td>rgba32uint 
     <tr>
      <td><code>RGBA32SINT</code>
      <td>rgba32sint 
     <tr>
      <td><code>RGBA32FLOAT</code>
      <td>rgba32float 
   </table>
   <p>TODO(dneto): Eliminate the image formats that are not used in storage images.
For example SRGB formats (bgra8unorm_srgb), mixed channel widths (rg11b10float), out-of-order channels (bgra8unorm)</p>
   <h3 class="heading settled" data-level="12.2" id="reserved-keywords"><span class="secno">12.2. </span><span class="content">Reserved Keywords</span><a class="self-link" href="#reserved-keywords"></a></h3>
    The following is a list of keywords which are reserved for future expansion. 
   <table class="data">
    <tbody>
     <tr>
      <td>asm 
      <td>bf16 
      <td>do 
      <td>enum 
      <td>f16 
     <tr>
      <td>f64 
      <td>i8 
      <td>i16 
      <td>i64 
      <td>let 
     <tr>
      <td>typedef 
      <td>u8 
      <td>u16 
      <td>u64 
      <td>unless 
     <tr>
      <td>using 
      <td>while 
      <td>regardless 
      <td>premerge 
      <td>handle 
   </table>
   <h3 class="heading settled" data-level="12.3" id="syntactic-tokens"><span class="secno">12.3. </span><span class="content">Syntactic Tokens</span><a class="self-link" href="#syntactic-tokens"></a></h3>
   <table class="data">
    <tbody>
     <tr>
      <td><code>AND</code>
      <td><code>&amp;</code> 
     <tr>
      <td><code>AND_AND</code>
      <td><code>&amp;&amp;</code> 
     <tr>
      <td><code>ARROW</code>
      <td><code>-></code> 
     <tr>
      <td><code>ATTR_LEFT</code>
      <td><code>[[</code> 
     <tr>
      <td><code>ATTR_RIGHT</code>
      <td><code>]]</code> 
     <tr>
      <td><code>FORWARD_SLASH</code>
      <td><code>/</code> 
     <tr>
      <td><code>BANG</code>
      <td><code>!</code> 
     <tr>
      <td><code>BRACKET_LEFT</code>
      <td><code>[</code> 
     <tr>
      <td><code>BRACKET_RIGHT</code>
      <td><code>]</code> 
     <tr>
      <td><code>BRACE_LEFT</code>
      <td><code>{</code> 
     <tr>
      <td><code>BRACE_RIGHT</code>
      <td><code>}</code> 
     <tr>
      <td><code>COLON</code>
      <td><code>:</code> 
     <tr>
      <td><code>COMMA</code>
      <td><code>,</code> 
     <tr>
      <td><code>EQUAL</code>
      <td><code>=</code> 
     <tr>
      <td><code>EQUAL_EQUAL</code>
      <td><code>==</code> 
     <tr>
      <td><code>NOT_EQUAL</code>
      <td><code>!=</code> 
     <tr>
      <td><code>GREATER_THAN</code>
      <td><code>></code> 
     <tr>
      <td><code>GREATER_THAN_EQUAL</code>
      <td><code>>=</code> 
     <tr>
      <td><code>SHIFT_RIGHT</code>
      <td><code>>></code> 
     <tr>
      <td><code>LESS_THAN</code>
      <td><code>&lt;</code> 
     <tr>
      <td><code>LESS_THAN_EQUAL</code>
      <td><code>&lt;=</code> 
     <tr>
      <td><code>SHIFT_LEFT</code>
      <td><code>&lt;&lt;</code> 
     <tr>
      <td><code>MODULO</code>
      <td><code>%</code> 
     <tr>
      <td><code>MINUS</code>
      <td><code>-</code> 
     <tr>
      <td><code>PERIOD</code>
      <td><code>.</code> 
     <tr>
      <td><code>PLUS</code>
      <td><code>+</code> 
     <tr>
      <td><code>OR</code>
      <td><code>|</code> 
     <tr>
      <td><code>OR_OR</code>
      <td><code>||</code> 
     <tr>
      <td><code>PAREN_LEFT</code>
      <td><code>(</code> 
     <tr>
      <td><code>PAREN_RIGHT</code>
      <td><code>)</code> 
     <tr>
      <td><code>SEMICOLON</code>
      <td><code>;</code> 
     <tr>
      <td><code>STAR</code>
      <td><code>*</code> 
     <tr>
      <td><code>TILDE</code>
      <td><code>~</code> 
     <tr>
      <td><code>XOR</code>
      <td><code>^</code> 
   </table>
   <h2 class="heading settled" data-level="13" id="validation"><span class="secno">13. </span><span class="content">Validation</span><a class="self-link" href="#validation"></a></h2>
   <p>TODO: Move these to the subject-matter sections.</p>
   <p>Each validation item will be given a unique ID and a test must be provided
when the validation is added. The tests will reference the validation ID in
the test name.</p>
   <ul>
    <li data-md>
     <p>v-0001: A declaration must not introduce a name when that name is already in scope at the start
      of the declaration.</p>
    <li data-md>
     <p>v-0002: Non-void functions must end with a return statement.</p>
    <li data-md>
     <p>v-0003: At least one of vertex, fragment or compute shader must be present.</p>
    <li data-md>
     <p>v-0004: Recursion is not allowed.</p>
    <li data-md>
     <p>v-0007: Structures must be defined before use.</p>
    <li data-md>
     <p>v-0008: switch statements must have exactly one default clause.</p>
    <li data-md>
     <p>v-0009: Break is only permitted in loop and switch constructs.</p>
    <li data-md>
     <p>v-0010: continue is only permitted in loop.</p>
    <li data-md>
     <p>v-0015: The last member of the structure type defining the "store type" for variable in the
      storage storage class may be a runtime-sized array.</p>
    <li data-md>
     <p>v-0017: Builtin decorations must have the correct types.</p>
    <li data-md>
     <p>v-0018: Builtin decorations must be used with the correct shader type and
      storage class.</p>
    <li data-md>
     <p>v-0020: The pair of <code>&lt;entry point name, pipeline stage></code> must be unique in the
      module.</p>
    <li data-md>
     <p>v-0021: Cannot re-assign a constant.</p>
    <li data-md>
     <p>v-0022: Global variables must have a storage class.</p>
    <li data-md>
     <p>v-0023: Entry point functions accept no parameters.</p>
    <li data-md>
     <p>v-0024: Entry point functions return void.</p>
    <li data-md>
     <p>v-0025: Switch statement selector expression must be of a scalar integer type.</p>
    <li data-md>
     <p>v-0026: The case selector values must have the same type as the selector expression.</p>
    <li data-md>
     <p>v-0027: A literal value must not appear more than once in the case selectors for a switch statement.</p>
    <li data-md>
     <p>v-0028: A fallthrough statement must not appear as the last statement in last clause of a switch.</p>
    <li data-md>
     <p>v-0029: Return must come last in its block.</p>
    <li data-md>
     <p>v-0030: A runtime-sized array must not be used as the store type or contained within a store type
      except as allowed by v-0015.</p>
    <li data-md>
     <p>v-0031: The type of an expression must not be a runtime-sized array type.</p>
    <li data-md>
     <p>v-0032: A runtime-sized array must have a stride attribute.</p>
   </ul>
   <h2 class="heading settled" data-level="14" id="builtin-variables"><span class="secno">14. </span><span class="content">Built-in variables</span><a class="self-link" href="#builtin-variables"></a></h2>
   <p>See <a href="#builtin-inputs-outputs">§ 8.3.1.1 Built-in inputs and outputs</a> for how to declare a built-in variable.</p>
   <table class="data">
    <thead>
     <tr>
      <th>Built-in
      <th>Stage
      <th>Input or Output
      <th>Store type
      <th>Description 
    <tbody>
     <tr>
      <td><code>vertex_index</code> 
      <td>vertex 
      <td>in 
      <td>u32 
      <td width="50%">
       Index of the current vertex within the current API-level draw command,
         independent of draw instancing. 
       <p>For a non-indexed draw, the first vertex has an index equal to the <code>firstIndex</code> argument
         of the draw, whether provided directly or indirectly.
         The index is incremented by one for each additional vertex in the draw instance.</p>
       <p>For an indexed draw, the index is equal to the index buffer entry for
         vertex, plus the <code>baseVertex</code> argument of the draw, whether provided directly or indirectly.</p>
     <tr>
      <td><code>instance_index</code> 
      <td>vertex 
      <td>in 
      <td>u32 
      <td width="50%">
       Instance index of the current vertex within the current API-level draw command. 
       <p>The first instance has an index equal to the <code>firstInstance</code> argument of the draw,
         whether provided directly or indirectly.
         The index is incremented by one for each additional instance in the draw.</p>
     <tr>
      <td><code>position</code> 
      <td>vertex 
      <td>out 
      <td>vec4&lt;f32> 
      <td width="50%">Output position of the current vertex, using homogeneous coordinates.
      After homogeneous normalization (where each of the <em>x</em>, <em>y</em>, and <em>z</em> components
      are divided by the <em>w</em> component), the position is in the WebGPU normalized device
      coordinate space.
      See <a href="https://gpuweb.github.io/gpuweb/#coordinate-systems">WebGPU § Coordinate Systems</a>. 
     <tr>
      <td><code>frag_coord</code> 
      <td>fragment 
      <td>in 
      <td>vec4&lt;f32> 
      <td width="50%">Framebuffer position of the current fragment, using normalized homogeneous
      coordinates.
      (The <em>x</em>, <em>y</em>, and <em>z</em> components have already been scaled such that <em>w</em> is now 1.)
      See <a href="https://gpuweb.github.io/gpuweb/#coordinate-systems">WebGPU § Coordinate Systems</a>. 
     <tr>
      <td><code>front_facing</code> 
      <td>fragment 
      <td>in 
      <td>bool 
      <td width="50%">True when the current fragment is on a front-facing primitive.
         False otherwise.
         See <a href="https://gpuweb.github.io/gpuweb/#dom-gpurasterizationstatedescriptor-frontface">WebGPU § Rasterization State</a>. 
     <tr>
      <td><code>frag_depth</code> 
      <td>fragment 
      <td>out 
      <td>f32 
      <td width="50%">Updated depth of the fragment, in the viewport depth range.
      See <a href="https://gpuweb.github.io/gpuweb/#coordinate-systems">WebGPU § Coordinate Systems</a>. 
     <tr>
      <td><code>local_invocation_id</code> 
      <td>compute 
      <td>in 
      <td>vec3&lt;u32> 
      <td width="50%">The current invocation’s <a data-link-type="dfn" href="#local-invocation-id" id="ref-for-local-invocation-id①">local invocation ID</a>,
            i.e. its position in the <a data-link-type="dfn" href="#workgroup-grid" id="ref-for-workgroup-grid①">workgroup grid</a>. 
     <tr>
      <td><code>local_invocation_index</code> 
      <td>compute 
      <td>in 
      <td>u32 
      <td width="50%">The current invocation’s <a data-link-type="dfn" href="#local-invocation-index" id="ref-for-local-invocation-index">local invocation index</a>, a linearized index of
          the invocation’s position within the <a data-link-type="dfn" href="#workgroup-grid" id="ref-for-workgroup-grid②">workgroup grid</a>. 
     <tr>
      <td><code>global_invocation_id</code> 
      <td>compute 
      <td>in 
      <td>vec3&lt;u32> 
      <td width="50%">The current invocation’s <a data-link-type="dfn" href="#global-invocation-id" id="ref-for-global-invocation-id">global invocation ID</a>,
            i.e. its position in the <a data-link-type="dfn" href="#compute-shader-grid" id="ref-for-compute-shader-grid">compute shader grid</a>. 
   </table>
   <div class="example no-marker" id="example-d24cd858">
    <a class="self-link" href="#example-d24cd858"></a>
    <div class="marker">EXAMPLE: Declaring built-in variable: position</div>
<pre>[[builtin(position)]] var&lt;out> my_position : vec4&lt;f32>;

#   OpDecorate %my_pos BuiltIn Position
#   %float = OpTypeFloat 32
#   %v4float = OpTypeVector %float 4
#   %ptr = OpTypePointer Output %v4float
#   %my_pos = OpVariable %ptr Output

</pre>
   </div>
   <div class="example no-marker" id="example-cd169355">
    <a class="self-link" href="#example-cd169355"></a>
    <div class="marker">EXAMPLE: Example built-in variable: vertex_index</div>
<pre>[[builtin(vertex_index)]] var&lt;in> my_index : u32;

#   OpDecorate %my_index BuiltIn VertexIndex
#   %uint = OpTypeInt 32 0
#   %ptr = OpTypePointer Input %uint
#   %my_index = OpVariable %ptr Input

</pre>
   </div>
   <div class="example no-marker" id="example-aa537df4">
    <a class="self-link" href="#example-aa537df4"></a>
    <div class="marker">EXAMPLE: Declaring other built-in variables</div>
<pre>[[builtin(instance_index)]] var&lt;in> my_inst_index : u32;
#    OpDecorate %gl_InstanceId BuiltIn InstanceIndex

[[builtin(front_facing)]] var&lt;in> is_front : u32;
#     OpDecorate %gl_FrontFacing BuiltIn FrontFacing

[[builtin(frag_coord)]] var&lt;in> coord : vec4&lt;f32>;
#     OpDecorate %gl_FragCoord BuiltIn FragCoord

[[builtin(frag_depth)]] var&lt;out> depth : f32;
#     OpDecorate %gl_FragDepth BuiltIn FragDepth

[[builtin(local_invocation_id)]] var&lt;in> local_id : vec3&lt;u32>;
#     OpDecorate %gl_LocalInvocationID BuiltIn LocalInvocationId

[[builtin(local_invocation_index)]] var&lt;in> local_index : u32;
#     OpDecorate %gl_LocalInvocationIndex BuiltIn LocalInvocationIndex

[[builtin(global_invocation_id)]] var&lt;in> global_id : vec3&lt;u32>;
#      OpDecorate %gl_GlobalInvocationID BuiltIn GlobalInvocationId
</pre>
   </div>
   <h2 class="heading settled" data-level="15" id="builtin-functions"><span class="secno">15. </span><span class="content">Built-in functions</span><a class="self-link" href="#builtin-functions"></a></h2>
   <p>Certain functions are always available in a WGSL program,
and are provided by the implementation.
These are called <em>built-in functions</em>.</p>
   <p>Since a built-in function is always in scope, it is an error to attempt to redefine
one or to use the name of a built-in function as an identifier for any other
kind of declaration.</p>
   <p>Unlike ordinary functions defined in a WGSL program,
a built-in function may use the same function name with different
sets of parameters.
In other words, a built-in function may have more than one <em>overload</em>,
but ordinary function definitions in WGSL may not.</p>
   <p>When calling a built-in function, all arguments to the function are evaluated
before function evaulation begins.</p>
   <p>TODO(dneto): Elaborate the descriptions of the built-in functions.  So far I’ve only reorganized
the contents of the existing table.</p>
   <h3 class="heading settled" data-level="15.1" id="logical-builtin-functions"><span class="secno">15.1. </span><span class="content">Logical built-in functions</span><a class="self-link" href="#logical-builtin-functions"></a></h3>
   <table class="data">
    <thead>
     <tr>
      <th>Logical built-in functions
      <td>SPIR-V 
    <tbody>
     <tr>
      <td>all(BoolVec) -> bool
      <td>OpAll 
     <tr>
      <td>any(BoolVec) -> bool
      <td>OpAny 
     <tr>
      <td>select(<em>T</em>,<em>T</em>,bool) -> <em>T</em>
      <td> For scalar or vector type <em>T</em>. <code>select(a,b,c)</code> evaluates to <em>a</em> when <em>c</em> is true, and <em>b</em> otherwise.<br> OpSelect 
     <tr>
      <td>select(vec<em>N</em>&lt;<em>T</em>>,vec<em>N</em>&lt;<em>T</em>>,vec<em>N</em>&lt;bool>) -> vec<em>N</em>&lt;<em>T</em>>
      <td> For scalar type <em>T</em>. <code>select(a,b,c)</code> evaluates to a vector with component <em>i</em> being <code>select(a[i], b[i], c[i])</code>.<br> OpSelect 
   </table>
   <h3 class="heading settled" data-level="15.2" id="value-testing-builtin-functions"><span class="secno">15.2. </span><span class="content">Value-testing built-in functions</span><a class="self-link" href="#value-testing-builtin-functions"></a></h3>
   <table class="data">
    <thead>
     <tr>
      <th>Value-testing built-in functions
      <th>SPIR-V 
    <tbody>
     <tr>
      <td>isFinite(float) -> bool
      <td>OpIsFinite 
     <tr>
      <td>isInf(float) -> bool
      <td>OpIsInf 
     <tr>
      <td>isNan(float) -> bool
      <td>OpIsNan 
     <tr>
      <td>isNormal(float) -> bool
      <td>OpIsNormal 
   </table>
   <p>TODO: deduplicate these tables</p>
   <table class="data">
    <caption>Unary operators</caption>
    <thead>
     <tr>
      <th>Precondition
      <th>Conclusion
      <th>Notes 
    <tbody>
     <tr>
      <td><em>e</em> : f32
      <td><code>isNan(e)</code> : bool
      <td>OpIsNan 
     <tr>
      <td><em>e</em> : <em>T</em>, <em>T</em> is <em>FloatVec</em>
      <td><code>isNan(e)</code> : bool&lt;<em>N</em>>, where <em>N = Arity(T)</em>
      <td>OpIsNan 
     <tr>
      <td><em>e</em> : f32
      <td><code>isInf(e)</code> : bool
      <td>OpIsInf 
     <tr>
      <td><em>e</em> : <em>T</em>, <em>T</em> is <em>FloatVec</em>
      <td><code>isInf(e)</code> : bool&lt;<em>N</em>>, where <em>N = Arity(T)</em>
      <td>OpIsInf 
     <tr>
      <td><em>e</em> : f32
      <td><code>isFinite(e)</code> : bool
      <td>OpIsFinite 
     <tr>
      <td><em>e</em> : <em>T</em>, <em>T</em> is <em>FloatVec</em>
      <td><code>isFinite(e)</code> : bool&lt;<em>N</em>>, where <em>N = Arity(T)</em>
      <td>OpIsFinite, or emulate 
     <tr>
      <td><em>e</em> : f32
      <td><code>isNormal(e)</code> : bool
      <td>OpIsNormal 
     <tr>
      <td><em>e</em> : <em>T</em>, <em>T</em> is <em>FloatVec</em>
      <td><code>isNormal(e)</code> : bool&lt;<em>N</em>>, where <em>N = Arity(T)</em>
      <td>OpIsNormal, or emulate 
     <tr>
      <td><em>e</em> : array&lt;<em>E</em>>
      <td><code>arrayLength(e)</code> : u32
      <td>OpArrayLength 
   </table>
   <h3 class="heading settled" data-level="15.3" id="float-builtin-functions"><span class="secno">15.3. </span><span class="content">Float built-in functions</span><a class="self-link" href="#float-builtin-functions"></a></h3>
   <table class="data">
    <thead>
     <tr>
      <th>Precondition
      <th>Built-in
      <th>Description 
    <tbody>
     <tr class="algorithm" data-algorithm="scalar case, float abs">
      <td><var>T</var> is f32 
      <td class="nowrap"><code>abs(</code><var>e</var><code>:</code> <var>T</var> <code>) -></code> <var>T</var> 
      <td>(GLSLstd450FAbs) 
     <tr class="algorithm" data-algorithm="vector case, float abs">
      <td><var>T</var> is f32 
      <td class="nowrap"><code>abs(</code><var>e</var><code>:</code> vec<var>N</var>&lt;<var>T</var>> <code>) -></code> vec<var>N</var>&lt;<var>T</var>> 
      <td>(GLSLstd450FAbs) 
     <tr class="algorithm" data-algorithm="scalar case, acos">
      <td><var>T</var> is f32 
      <td class="nowrap"><code>acos(</code><var>e</var><code>:</code> <var>T</var> <code>) -></code> <var>T</var> 
      <td>(GLSLstd450Acos) 
     <tr class="algorithm" data-algorithm="vector case, acos">
      <td><var>T</var> is f32 
      <td class="nowrap"><code>acos(</code><var>e</var><code>:</code> vec<var>N</var>&lt;<var>T</var>> <code>) -></code> vec<var>N</var>&lt;<var>T</var>> 
      <td>(GLSLstd450Acos) 
     <tr class="algorithm" data-algorithm="scalar case, asin">
      <td><var>T</var> is f32 
      <td class="nowrap"><code>asin(</code><var>e</var><code>:</code> <var>T</var> <code>) -></code> <var>T</var> 
      <td>(GLSLstd450Asin) 
     <tr class="algorithm" data-algorithm="vector case, asin">
      <td><var>T</var> is f32 
      <td class="nowrap"><code>asin(</code><var>e</var><code>:</code> vec<var>N</var>&lt;<var>T</var>> <code>) -></code> vec<var>N</var>&lt;<var>T</var>> 
      <td>(GLSLstd450Asin) 
     <tr class="algorithm" data-algorithm="scalar case, atan">
      <td><var>T</var> is f32 
      <td class="nowrap"><code>atan(</code><var>e</var><code>:</code> <var>T</var> <code>) -></code> <var>T</var> 
      <td>(GLSLstd450Atan) 
     <tr class="algorithm" data-algorithm="vector case, atan">
      <td><var>T</var> is f32 
      <td class="nowrap"><code>atan(</code><var>e</var><code>:</code> vec<var>N</var>&lt;<var>T</var>> <code>) -></code> vec<var>N</var>&lt;<var>T</var>> 
      <td>(GLSLstd450Atan) 
     <tr class="algorithm" data-algorithm="scalar case, atan2">
      <td><var>T</var> is f32 
      <td class="nowrap"><code>atan2(</code><var>e1</var><code>:</code> <var>T</var> <code>,</code><var>e2</var><code>:</code> <var>T</var> <code>) -></code> <var>T</var> 
      <td>(GLSLstd450Atan2) 
     <tr class="algorithm" data-algorithm="vector case, atan2">
      <td><var>T</var> is f32 
      <td class="nowrap"><code>atan2(</code><var>e1</var><code>:</code> vec<var>N</var>&lt;<var>T</var>> <code>,</code><var>e2</var><code>:</code> vec<var>N</var>&lt;<var>T</var>> <code>) -></code> vec<var>N</var>&lt;<var>T</var>> 
      <td>(GLSLstd450Atan2) 
     <tr class="algorithm" data-algorithm="scalar case, ceil">
      <td><var>T</var> is f32 
      <td class="nowrap"><code>ceil(</code><var>e</var><code>:</code> <var>T</var> <code>) -></code> <var>T</var> 
      <td>(GLSLstd450Ceil) 
     <tr class="algorithm" data-algorithm="vector case, ceil">
      <td><var>T</var> is f32 
      <td class="nowrap"><code>ceil(</code><var>e</var><code>:</code> vec<var>N</var>&lt;<var>T</var>> <code>) -></code> vec<var>N</var>&lt;<var>T</var>> 
      <td>(GLSLstd450Ceil) 
     <tr class="algorithm" data-algorithm="scalar case, clamp">
      <td><var>T</var> is f32 
      <td class="nowrap"><code>clamp(</code><var>e1</var><code>:</code> <var>T</var> <code>,</code><var>e2</var><code>:</code> <var>T</var> <code>,</code><var>e3</var><code>:</code> <var>T</var><code>) -></code> <var>T</var> 
      <td>(GLSLstd450NClamp) 
     <tr class="algorithm" data-algorithm="vector case, clamp">
      <td><var>T</var> is f32 
      <td class="nowrap"><code>clamp(</code><var>e1</var><code>:</code> vec<var>N</var>&lt;<var>T</var>> <code>,</code><var>e2</var><code>:</code> vec<var>N</var>&lt;<var>T</var>><code>,</code><var>e3</var><code>:</code> vec<var>N</var>&lt;<var>T</var>><code>) -></code> vec<var>N</var>&lt;<var>T</var>> 
      <td>(GLSLstd450NClamp) 
     <tr class="algorithm" data-algorithm="scalar case, cos">
      <td><var>T</var> is f32 
      <td class="nowrap"><code>cos(</code><var>e</var><code>:</code> <var>T</var> <code>) -></code> <var>T</var> 
      <td>(GLSLstd450Cos) 
     <tr class="algorithm" data-algorithm="vector case, cos">
      <td><var>T</var> is f32 
      <td class="nowrap"><code>cos(</code><var>e</var><code>:</code> vec<var>N</var>&lt;<var>T</var>> <code>) -></code> vec<var>N</var>&lt;<var>T</var>> 
      <td>(GLSLstd450Cos) 
     <tr class="algorithm" data-algorithm="scalar case, cosh">
      <td><var>T</var> is f32 
      <td class="nowrap"><code>cosh(</code><var>e</var><code>:</code> <var>T</var> <code>) -></code> <var>T</var> 
      <td>(GLSLstd450Cosh) 
     <tr class="algorithm" data-algorithm="vector case, cosh">
      <td><var>T</var> is f32 
      <td class="nowrap"><code>cosh(</code><var>e</var><code>:</code> vec<var>N</var>&lt;<var>T</var>> <code>) -></code> vec<var>N</var>&lt;<var>T</var>> 
      <td>(GLSLstd450Cosh) 
     <tr class="algorithm" data-algorithm="vector case, cross">
      <td><var>T</var> is f32 
      <td class="nowrap"><code>cross(</code><var>e1</var><code>:</code> vec3&lt;<var>T</var>> <code>,</code><var>e2</var><code>:</code> vec3&lt;<var>T</var>><code>) -></code> vec3&lt;<var>T</var>> 
      <td>(GLSLstd450Cross) 
     <tr class="algorithm" data-algorithm="scalar case, distance">
      <td><var>T</var> is f32 
      <td class="nowrap"><code>distance(</code><var>e1</var><code>:</code> <var>T</var> <code>,</code><var>e2</var><code>:</code> <var>T</var> <code>) -></code> <var>T</var> 
      <td>(GLSLstd450Distance) 
     <tr class="algorithm" data-algorithm="vector case, distance">
      <td><var>T</var> is f32 
      <td class="nowrap"><code>distance(</code><var>e1</var><code>:</code> vec<var>N</var>&lt;<var>T</var>> <code>,</code><var>e2</var><code>:</code> vec<var>N</var>&lt;<var>T</var>><code>) -></code> <var>T</var> 
      <td>(GLSLstd450Distance) 
     <tr class="algorithm" data-algorithm="scalar case, exp">
      <td><var>T</var> is f32 
      <td class="nowrap"><code>exp(</code><var>e</var><code>:</code> <var>T</var> <code>) -></code> <var>T</var> 
      <td>(GLSLstd450Exp) 
     <tr class="algorithm" data-algorithm="vector case, exp">
      <td><var>T</var> is f32 
      <td class="nowrap"><code>exp(</code><var>e</var><code>:</code> vec<var>N</var>&lt;<var>T</var>> <code>) -></code> vec<var>N</var>&lt;<var>T</var>> 
      <td>(GLSLstd450Exp) 
     <tr class="algorithm" data-algorithm="scalar case, exp2">
      <td><var>T</var> is f32 
      <td class="nowrap"><code>exp2(</code><var>e</var><code>:</code> <var>T</var> <code>) -></code> <var>T</var> 
      <td>(GLSLstd450Exp2) 
     <tr class="algorithm" data-algorithm="vector case, exp2">
      <td><var>T</var> is f32 
      <td class="nowrap"><code>exp2(</code><var>e</var><code>:</code> vec<var>N</var>&lt;<var>T</var>> <code>) -></code> vec<var>N</var>&lt;<var>T</var>> 
      <td>(GLSLstd450Exp2) 
     <tr class="algorithm" data-algorithm="scalar case, faceForward">
      <td><var>T</var> is f32 
      <td class="nowrap"><code>faceForward(</code><var>e1</var><code>:</code> <var>T</var> <code>,</code><var>e2</var><code>:</code> <var>T</var> <code>,</code><var>e3</var><code>:</code> <var>T</var> <code>) -></code> <var>T</var> 
      <td>(GLSLstd450FaceForward) 
     <tr class="algorithm" data-algorithm="vector case, faceForward">
      <td><var>T</var> is f32 
      <td class="nowrap"><code>faceForward(</code><var>e1</var><code>:</code> vec<var>N</var>&lt;<var>T</var>> <code>,</code><var>e2</var><code>:</code> vec<var>N</var>&lt;<var>T</var>><code>,</code><var>e3</var><code>:</code> vec<var>N</var>&lt;<var>T</var>><code>) -></code> vec<var>N</var>&lt;<var>T</var>> 
      <td>(GLSLstd450FaceForward) 
     <tr class="algorithm" data-algorithm="scalar case, floor">
      <td><var>T</var> is f32 
      <td class="nowrap"><code>floor(</code><var>e</var><code>:</code> <var>T</var> <code>) -></code> <var>T</var> 
      <td>(GLSLstd450Floor) 
     <tr class="algorithm" data-algorithm="vector case, floor">
      <td><var>T</var> is f32 
      <td class="nowrap"><code>floor(</code><var>e</var><code>:</code> vec<var>N</var>&lt;<var>T</var>> <code>) -></code> vec<var>N</var>&lt;<var>T</var>> 
      <td>(GLSLstd450Floor) 
     <tr class="algorithm" data-algorithm="scalar case, fma">
      <td><var>T</var> is f32 
      <td class="nowrap"><code>fma(</code><var>e1</var><code>:</code> <var>T</var> <code>,</code><var>e2</var><code>:</code> <var>T</var> <code>,</code><var>e3</var><code>:</code> <var>T</var> <code>) -></code> <var>T</var> 
      <td>(GLSLstd450Fma) 
     <tr class="algorithm" data-algorithm="vector case, fma">
      <td><var>T</var> is f32 
      <td class="nowrap"><code>fma(</code><var>e1</var><code>:</code> vec<var>N</var>&lt;<var>T</var>> <code>,</code><var>e2</var><code>:</code> vec<var>N</var>&lt;<var>T</var>><code>,</code><var>e3</var><code>:</code> vec<var>N</var>&lt;<var>T</var>><code>) -></code> vec<var>N</var>&lt;<var>T</var>> 
      <td>(GLSLstd450Fma) 
     <tr class="algorithm" data-algorithm="scalar case, fract">
      <td><var>T</var> is f32 
      <td class="nowrap"><code>fract(</code><var>e</var><code>:</code> <var>T</var> <code>) -></code> <var>T</var> 
      <td>(GLSLstd450Fract) 
     <tr class="algorithm" data-algorithm="vector case, fract">
      <td><var>T</var> is f32 
      <td class="nowrap"><code>fract(</code><var>e</var><code>:</code> vec<var>N</var>&lt;<var>T</var>> <code>) -></code> vec<var>N</var>&lt;<var>T</var>> 
      <td>(GLSLstd450Fract) 
     <tr class="algorithm" data-algorithm="scalar case, frexp">
      <td><var>T</var> is f32<br> <var>I</var> is i32 or u32 
      <td class="nowrap"><code>frexp(</code><var>e1</var><code>:</code> <var>T</var> <code>,</code><var>e2</var><code>:</code> ptr&lt;<var>I</var>> <code>) -></code> <var>T</var> 
      <td>(GLSLstd450Frexp) 
     <tr class="algorithm" data-algorithm="vector case, frexp">
      <td><var>T</var> is f32<br> <var>I</var> is i32 or u32 
      <td class="nowrap"><code>frexp(</code><var>e1</var><code>:</code> vec<var>N</var>&lt;<var>T</var>> <code>,</code><var>e2</var><code>:</code> ptr&lt;vec<var>N</var>&lt;<var>I</var>>><code>) -></code> vec<var>N</var>&lt;<var>T</var>> 
      <td>(GLSLstd450Frexp) 
     <tr class="algorithm" data-algorithm="scalar case, inverseSqrt">
      <td><var>T</var> is f32 
      <td class="nowrap"><code>inverseSqrt(</code><var>e</var><code>:</code> <var>T</var> <code>) -></code> <var>T</var> 
      <td>(GLSLstd450InverseSqrt) 
     <tr class="algorithm" data-algorithm="vector case, inverseSqrt">
      <td><var>T</var> is f32 
      <td class="nowrap"><code>inverseSqrt(</code><var>e</var><code>:</code> vec<var>N</var>&lt;<var>T</var>> <code>) -></code> vec<var>N</var>&lt;<var>T</var>> 
      <td>(GLSLstd450InverseSqrt) 
     <tr class="algorithm" data-algorithm="scalar case, ldexp">
      <td><var>T</var> is f32<br> <var>I</var> is i32 or u32 
      <td class="nowrap"><code>ldexp(</code><var>e1</var><code>:</code> <var>T</var> <code>,</code><var>e2</var><code>:</code> <var>I</var> <code>) -></code> <var>T</var> 
      <td>(GLSLstd450Ldexp) 
     <tr class="algorithm" data-algorithm="vector case, ldexp">
      <td><var>T</var> is f32<br> <var>I</var> is i32 or u32 
      <td class="nowrap"><code>ldexp(</code><var>e1</var><code>:</code> vec<var>N</var>&lt;<var>T</var>> <code>,</code><var>e2</var><code>:</code> vec<var>N</var>&lt;<var>I</var>><code>) -></code> vec<var>N</var>&lt;<var>T</var>> 
      <td>(GLSLstd450Ldexp) 
     <tr class="algorithm" data-algorithm="scalar case, length">
      <td><var>T</var> is f32 
      <td class="nowrap"><code>length(</code><var>e</var><code>:</code> <var>T</var> <code>) -></code> <var>T</var> 
      <td>(GLSLstd450Length) 
     <tr class="algorithm" data-algorithm="vector case, length">
      <td><var>T</var> is f32 
      <td class="nowrap"><code>length(</code><var>e</var><code>:</code> vec<var>N</var>&lt;<var>T</var>> <code>) -></code> <var>T</var> 
      <td>(GLSLstd450Length) 
     <tr class="algorithm" data-algorithm="scalar case, log">
      <td><var>T</var> is f32 
      <td class="nowrap"><code>log(</code><var>e</var><code>:</code> <var>T</var> <code>) -></code> <var>T</var> 
      <td>(GLSLstd450Log) 
     <tr class="algorithm" data-algorithm="vector case, log">
      <td><var>T</var> is f32 
      <td class="nowrap"><code>log(</code><var>e</var><code>:</code> vec<var>N</var>&lt;<var>T</var>> <code>) -></code> vec<var>N</var>&lt;<var>T</var>> 
      <td>(GLSLstd450Log) 
     <tr class="algorithm" data-algorithm="scalar case, log2">
      <td><var>T</var> is f32 
      <td class="nowrap"><code>log2(</code><var>e</var><code>:</code> <var>T</var> <code>) -></code> <var>T</var> 
      <td>(GLSLstd450Log2) 
     <tr class="algorithm" data-algorithm="vector case, log2">
      <td><var>T</var> is f32 
      <td class="nowrap"><code>log2(</code><var>e</var><code>:</code> vec<var>N</var>&lt;<var>T</var>> <code>) -></code> vec<var>N</var>&lt;<var>T</var>> 
      <td>(GLSLstd450Log2) 
     <tr class="algorithm" data-algorithm="scalar case, max">
      <td><var>T</var> is f32 
      <td class="nowrap"><code>max(</code><var>e1</var><code>:</code> <var>T</var> <code>,</code><var>e2</var><code>:</code> <var>T</var> <code>) -></code> <var>T</var> 
      <td>(GLSLstd450NMax) 
     <tr class="algorithm" data-algorithm="vector case, max">
      <td><var>T</var> is f32 
      <td class="nowrap"><code>max(</code><var>e1</var><code>:</code> vec<var>N</var>&lt;<var>T</var>> <code>,</code><var>e2</var><code>:</code> vec<var>N</var>&lt;<var>T</var>><code>) -></code> vec<var>N</var>&lt;<var>T</var>> 
      <td>(GLSLstd450NMax) 
     <tr class="algorithm" data-algorithm="scalar case, min">
      <td><var>T</var> is f32 
      <td class="nowrap"><code>min(</code><var>e1</var><code>:</code> <var>T</var> <code>,</code><var>e2</var><code>:</code> <var>T</var> <code>) -></code> <var>T</var> 
      <td>(GLSLstd450NMin) 
     <tr class="algorithm" data-algorithm="vector case, min">
      <td><var>T</var> is f32 
      <td class="nowrap"><code>min(</code><var>e1</var><code>:</code> vec<var>N</var>&lt;<var>T</var>> <code>,</code><var>e2</var><code>:</code> vec<var>N</var>&lt;<var>T</var>><code>) -></code> vec<var>N</var>&lt;<var>T</var>> 
      <td>(GLSLstd450NMin) 
     <tr class="algorithm" data-algorithm="scalar case, mix">
      <td><var>T</var> is f32 
      <td class="nowrap"><code>mix(</code><var>e1</var><code>:</code> <var>T</var> <code>,</code><var>e2</var><code>:</code> <var>T</var> <code>,</code><var>e3</var><code>:</code> <var>T</var><code>) -></code> <var>T</var> 
      <td>(GLSLstd450FMix) 
     <tr class="algorithm" data-algorithm="vector case, mix">
      <td><var>T</var> is f32 
      <td class="nowrap"><code>mix(</code><var>e1</var><code>:</code> vec<var>N</var>&lt;<var>T</var>> <code>,</code><var>e2</var><code>:</code> vec<var>N</var>&lt;<var>T</var>><code>,</code><var>e3</var><code>:</code> vec<var>N</var>&lt;<var>T</var>><code>) -></code> vec<var>N</var>&lt;<var>T</var>> 
      <td>(GLSLstd450Modf) 
     <tr class="algorithm" data-algorithm="scalar case, modf">
      <td><var>T</var> is f32<br> 
      <td class="nowrap"><code>modf(</code><var>e1</var><code>:</code> <var>T</var> <code>,</code><var>e2</var><code>:</code> ptr&lt;<var>T</var>> <code>) -></code> <var>T</var> 
      <td>(GLSLstd450Modf) 
     <tr class="algorithm" data-algorithm="vector case, modf">
      <td><var>T</var> is f32 
      <td class="nowrap"><code>modf(</code><var>e1</var><code>:</code> vec<var>N</var>&lt;<var>T</var>> <code>,</code><var>e2</var><code>:</code> ptr&lt;vec<var>N</var>&lt;<var>T</var>>><code>) -></code> vec<var>N</var>&lt;<var>T</var>> 
      <td>(GLSLstd450Modf) 
     <tr class="algorithm" data-algorithm="vector case, normalize">
      <td><var>T</var> is f32 
      <td class="nowrap"><code>normalize(</code><var>e</var><code>:</code> vec<var>N</var>&lt;<var>T</var>> <code>) -></code> vec<var>N</var>&lt;<var>T</var>> 
      <td>(GLSLstd450Normalize) 
     <tr class="algorithm" data-algorithm="scalar case, pow">
      <td><var>T</var> is f32 
      <td class="nowrap"><code>pow(</code><var>e1</var><code>:</code> <var>T</var> <code>,</code><var>e2</var><code>:</code> <var>T</var> <code>) -></code> <var>T</var> 
      <td>(GLSLstd450Pow) 
     <tr class="algorithm" data-algorithm="vector case, pow">
      <td><var>T</var> is f32 
      <td class="nowrap"><code>pow(</code><var>e1</var><code>:</code> vec<var>N</var>&lt;<var>T</var>> <code>,</code><var>e2</var><code>:</code> vec<var>N</var>&lt;<var>T</var>> <code>) -></code> vec<var>N</var>&lt;<var>T</var>> 
      <td>(GLSLstd450Pow) 
     <tr class="algorithm" data-algorithm="scalar case, reflect">
      <td><var>T</var> is f32 
      <td class="nowrap"><code>reflect(</code><var>e1</var><code>:</code> <var>T</var> <code>,</code><var>e2</var><code>:</code> <var>T</var> <code>) -></code> <var>T</var> 
      <td>(GLSLstd450Reflect) 
     <tr class="algorithm" data-algorithm="vector case, reflect">
      <td><var>T</var> is f32 
      <td class="nowrap"><code>reflect(</code><var>e1</var><code>:</code> vec<var>N</var>&lt;<var>T</var>> <code>,</code><var>e2</var><code>:</code> vec<var>N</var>&lt;<var>T</var>><code>) -></code> vec<var>N</var>&lt;<var>T</var>> 
      <td>(GLSLstd450Reflect) 
     <tr class="algorithm" data-algorithm="scalar case, round">
      <td><var>T</var> is f32 
      <td class="nowrap"><code>round(</code><var>e</var><code>:</code> <var>T</var> <code>) -></code> <var>T</var> 
      <td>(GLSLstd450Round) 
     <tr class="algorithm" data-algorithm="vector case, round">
      <td><var>T</var> is f32 
      <td class="nowrap"><code>round(</code><var>e</var><code>:</code> vec<var>N</var>&lt;<var>T</var>> <code>) -></code> vec<var>N</var>&lt;<var>T</var>> 
      <td>(GLSLstd450Round) 
     <tr class="algorithm" data-algorithm="scalar case, float sign">
      <td><var>T</var> is f32 
      <td class="nowrap"><code>sign(</code><var>e</var><code>:</code> <var>T</var> <code>) -></code> <var>T</var> 
      <td>(GLSLstd450FSign) 
     <tr class="algorithm" data-algorithm="vector case, float sign">
      <td><var>T</var> is f32 
      <td class="nowrap"><code>sign(</code><var>e</var><code>:</code> vec<var>N</var>&lt;<var>T</var>> <code>) -></code> vec<var>N</var>&lt;<var>T</var>> 
      <td>(GLSLstd450FSign) 
     <tr class="algorithm" data-algorithm="scalar case, sin">
      <td><var>T</var> is f32 
      <td class="nowrap"><code>sin(</code><var>e</var><code>:</code> <var>T</var> <code>) -></code> <var>T</var> 
      <td>(GLSLstd450Sin) 
     <tr class="algorithm" data-algorithm="vector case, sin">
      <td><var>T</var> is f32 
      <td class="nowrap"><code>sin(</code><var>e</var><code>:</code> vec<var>N</var>&lt;<var>T</var>> <code>) -></code> vec<var>N</var>&lt;<var>T</var>> 
      <td>(GLSLstd450Sin) 
     <tr class="algorithm" data-algorithm="scalar case, sinh">
      <td><var>T</var> is f32 
      <td class="nowrap"><code>sinh(</code><var>e</var><code>:</code> <var>T</var> <code>) -></code> <var>T</var> 
      <td>(GLSLstd450Sinh) 
     <tr class="algorithm" data-algorithm="vector case, sinh">
      <td><var>T</var> is f32 
      <td class="nowrap"><code>sinh(</code><var>e</var><code>:</code> vec<var>N</var>&lt;<var>T</var>> <code>) -></code> vec<var>N</var>&lt;<var>T</var>> 
      <td>(GLSLstd450Sinh) 
     <tr class="algorithm" data-algorithm="scalar case, smoothStep">
      <td><var>T</var> is f32 
      <td class="nowrap"><code>smoothStep(</code><var>e1</var><code>:</code> <var>T</var> <code>,</code><var>e2</var><code>:</code> <var>T</var> <code>,</code><var>e3</var><code>:</code> <var>T</var> <code>) -></code> <var>T</var> 
      <td>(GLSLstd450SmoothStep) 
     <tr class="algorithm" data-algorithm="vector case, smoothStep">
      <td><var>T</var> is f32 
      <td class="nowrap"><code>smoothStep(</code><var>e1</var><code>:</code> vec<var>N</var>&lt;<var>T</var>> <code>,</code><var>e2</var><code>:</code> vec<var>N</var>&lt;<var>T</var>><code>,</code><var>e3</var><code>:</code> vec<var>N</var>&lt;<var>T</var>><code>) -></code> vec<var>N</var>&lt;<var>T</var>> 
      <td>(GLSLstd450SmoothStep) 
     <tr class="algorithm" data-algorithm="scalar case, sqrt">
      <td><var>T</var> is f32 
      <td class="nowrap"><code>sqrt(</code><var>e</var><code>:</code> <var>T</var> <code>) -></code> <var>T</var> 
      <td>(GLSLstd450Sqrt) 
     <tr class="algorithm" data-algorithm="vector case, sqrt">
      <td><var>T</var> is f32 
      <td class="nowrap"><code>sqrt(</code><var>e</var><code>:</code> vec<var>N</var>&lt;<var>T</var>> <code>) -></code> vec<var>N</var>&lt;<var>T</var>> 
      <td>(GLSLstd450Sqrt) 
     <tr class="algorithm" data-algorithm="scalar case, step">
      <td><var>T</var> is f32 
      <td class="nowrap"><code>step(</code><var>e1</var><code>:</code> <var>T</var> <code>,</code><var>e2</var><code>:</code> <var>T</var> <code>) -></code> <var>T</var> 
      <td>(GLSLstd450Step) 
     <tr class="algorithm" data-algorithm="vector case, step">
      <td><var>T</var> is f32 
      <td class="nowrap"><code>step(</code><var>e1</var><code>:</code> vec<var>N</var>&lt;<var>T</var>> <code>,</code><var>e2</var><code>:</code> vec<var>N</var>&lt;<var>T</var>><code>) -></code> vec<var>N</var>&lt;<var>T</var>> 
      <td>(GLSLstd450Step) 
     <tr class="algorithm" data-algorithm="scalar case, tan">
      <td><var>T</var> is f32 
      <td class="nowrap"><code>tan(</code><var>e</var><code>:</code> <var>T</var> <code>) -></code> <var>T</var> 
      <td>(GLSLstd450Tan) 
     <tr class="algorithm" data-algorithm="vector case, tan">
      <td><var>T</var> is f32 
      <td class="nowrap"><code>tan(</code><var>e</var><code>:</code> vec<var>N</var>&lt;<var>T</var>> <code>) -></code> vec<var>N</var>&lt;<var>T</var>> 
      <td>(GLSLstd450Tan) 
     <tr class="algorithm" data-algorithm="scalar case, tanh">
      <td><var>T</var> is f32 
      <td class="nowrap"><code>tanh(</code><var>e</var><code>:</code> <var>T</var> <code>) -></code> <var>T</var> 
      <td>(GLSLstd450Tanh) 
     <tr class="algorithm" data-algorithm="vector case, tanh">
      <td><var>T</var> is f32 
      <td class="nowrap"><code>tanh(</code><var>e</var><code>:</code> vec<var>N</var>&lt;<var>T</var>> <code>) -></code> vec<var>N</var>&lt;<var>T</var>> 
      <td>(GLSLstd450Tanh) 
     <tr class="algorithm" data-algorithm="scalar case, trunc">
      <td><var>T</var> is f32 
      <td class="nowrap"><code>trunc(</code><var>e</var><code>:</code> <var>T</var> <code>) -></code> <var>T</var> 
      <td>(GLSLstd450Trunc) 
     <tr class="algorithm" data-algorithm="vector case, trunc">
      <td><var>T</var> is f32 
      <td class="nowrap"><code>trunc(</code><var>e</var><code>:</code> vec<var>N</var>&lt;<var>T</var>> <code>) -></code> vec<var>N</var>&lt;<var>T</var>> 
      <td>(GLSLstd450Trunc) 
   </table>
   <h3 class="heading settled" data-level="15.4" id="integer-builtin-functions"><span class="secno">15.4. </span><span class="content">Integer built-in functions</span><a class="self-link" href="#integer-builtin-functions"></a></h3>
   <table class="data">
    <thead>
     <tr>
      <th>Precondition
      <th>Built-in
      <th>Description 
    <tbody>
     <tr class="algorithm" data-algorithm="scalar case, abs">
      <td><var>T</var> is u32 or i32 
      <td class="nowrap"><code>abs(</code><var>e</var><code>:</code> <var>T</var> <code>) -></code> <var>T</var> 
      <td>(GLSLstd450SAbs) 
     <tr class="algorithm" data-algorithm="vector case, abs">
      <td><var>T</var> is u32 or i32 
      <td class="nowrap"><code>abs(</code><var>e</var><code>:</code> vec<var>N</var>&lt;<var>T</var>> <code>) -></code> vec<var>N</var>&lt;<var>T</var>> 
      <td>(GLSLstd450SAbs) 
     <tr class="algorithm" data-algorithm="scalar case, unsigned clamp">
      <td><var>T</var> is u32 
      <td class="nowrap"><code>clamp(</code><var>e1</var><code>:</code> <var>T</var> <code>,</code><var>e2</var><code>:</code> <var>T</var><code>,</code><var>e3</var><code>:</code> <var>T</var><code>) -></code> <var>T</var> 
      <td>(GLSLstd450UClamp) 
     <tr class="algorithm" data-algorithm="vector case, unsigned clamp">
      <td><var>T</var> is i32 
      <td class="nowrap"><code>clamp(</code><var>e1</var><code>:</code> vec<var>N</var>&lt;<var>T</var>> <code>,</code><var>e2</var><code>:</code> vec<var>N</var>&lt;<var>T</var>><code>,</code><var>e3</var><code>:</code>vec<var>N</var>&lt;<var>T</var>> <code>) -></code> vec<var>N</var>&lt;<var>T</var>> 
      <td>(GLSLstd450UClamp) 
     <tr class="algorithm" data-algorithm="scalar case, signed clamp">
      <td><var>T</var> is i32 
      <td class="nowrap"><code>clamp(</code><var>e1</var><code>:</code> <var>T</var> <code>,</code><var>e2</var><code>:</code> <var>T</var><code>,</code><var>e3</var><code>:</code> <var>T</var><code>) -></code> <var>T</var> 
      <td>(GLSLstd450SClamp) 
     <tr class="algorithm" data-algorithm="vector case, signed clamp">
      <td><var>T</var> is i32 
      <td class="nowrap"><code>clamp(</code><var>e1</var><code>:</code> vec<var>N</var>&lt;<var>T</var>> <code>,</code><var>e2</var><code>:</code> vec<var>N</var>&lt;<var>T</var>><code>,</code><var>e3</var><code>:</code>vec<var>N</var>&lt;<var>T</var>> <code>) -></code> vec<var>N</var>&lt;<var>T</var>> 
      <td>(GLSLstd450SClamp) 
     <tr class="algorithm" data-algorithm="scalar case, count 1 bits">
      <td><var>T</var> is u32 or i32<br> 
      <td class="nowrap"><code>countOneBits(</code><var>e</var><code>:</code> <var>T</var> <code>) -></code> <var>T</var> 
      <td>The number of 1 bits in the representation of <var>e</var>.<br> Also known as "population count".<br> (SPIR-V OpBitCount) 
     <tr class="algorithm" data-algorithm="vector case, count 1 bits">
      <td><var>T</var> is u32 or i32 
      <td class="nowrap"><code>countOneBits(</code><var>e</var><code>:</code> vec<var>N</var>&lt;<var>T</var>><code>) -></code> vec<var>N</var>&lt;<var>T</var>><br> 
      <td>Component-wise population count:
        Component <var>i</var> of the result is <code>countOneBits(</code><var>e</var><code>[</code><var>i</var><code>])</code><br> (SPIR-V OpBitCount) 
     <tr class="algorithm" data-algorithm="scalar case, unsigned max">
      <td><var>T</var> is u32 
      <td class="nowrap"><code>max(</code><var>e1</var><code>:</code> <var>T</var> <code>,</code><var>e2</var><code>:</code> <var>T</var><code>) -></code> <var>T</var> 
      <td>(GLSLstd450UMax) 
     <tr class="algorithm" data-algorithm="vector case, unsigned max">
      <td><var>T</var> is i32 
      <td class="nowrap"><code>max(</code><var>e1</var><code>:</code> vec<var>N</var>&lt;<var>T</var>> <code>,</code><var>e2</var><code>:</code> vec<var>N</var>&lt;<var>T</var>><code>) -></code> vec<var>N</var>&lt;<var>T</var>> 
      <td>(GLSLstd450UMax) 
     <tr class="algorithm" data-algorithm="scalar case, signed max">
      <td><var>T</var> is i32 
      <td class="nowrap"><code>max(</code><var>e1</var><code>:</code> <var>T</var> <code>,</code><var>e2</var><code>:</code> <var>T</var><code>) -></code> <var>T</var> 
      <td>(GLSLstd450SMax) 
     <tr class="algorithm" data-algorithm="vector case, signed max">
      <td><var>T</var> is i32 
      <td class="nowrap"><code>max(</code><var>e1</var><code>:</code> vec<var>N</var>&lt;<var>T</var>> <code>,</code><var>e2</var><code>:</code> vec<var>N</var>&lt;<var>T</var>><code>) -></code> vec<var>N</var>&lt;<var>T</var>> 
      <td>(GLSLstd450SMax) 
     <tr class="algorithm" data-algorithm="scalar case, unsigned min">
      <td><var>T</var> is u32 
      <td class="nowrap"><code>min(</code><var>e1</var><code>:</code> <var>T</var> <code>,</code><var>e2</var><code>:</code> <var>T</var><code>) -></code> <var>T</var> 
      <td>(GLSLstd450UMin) 
     <tr class="algorithm" data-algorithm="vector case, unsigned min">
      <td><var>T</var> is i32 
      <td class="nowrap"><code>min(</code><var>e1</var><code>:</code> vec<var>N</var>&lt;<var>T</var>> <code>,</code><var>e2</var><code>:</code> vec<var>N</var>&lt;<var>T</var>><code>) -></code> vec<var>N</var>&lt;<var>T</var>> 
      <td>(GLSLstd450UMin) 
     <tr class="algorithm" data-algorithm="scalar case, signed min">
      <td><var>T</var> is i32 
      <td class="nowrap"><code>min(</code><var>e1</var><code>:</code> <var>T</var> <code>,</code><var>e2</var><code>:</code> <var>T</var><code>) -></code> <var>T</var> 
      <td>(GLSLstd450SMin) 
     <tr class="algorithm" data-algorithm="vector case, signed min">
      <td><var>T</var> is i32 
      <td class="nowrap"><code>min(</code><var>e1</var><code>:</code> vec<var>N</var>&lt;<var>T</var>> <code>,</code><var>e2</var><code>:</code> vec<var>N</var>&lt;<var>T</var>><code>) -></code> vec<var>N</var>&lt;<var>T</var>> 
      <td>(GLSLstd450SMin) 
     <tr class="algorithm" data-algorithm="scalar bit reversal">
      <td><var>T</var> is u32 or i32<br> 
      <td class="nowrap"><code>reverseBits(</code><var>e</var><code>:</code> <var>T</var> <code>) -></code> <var>T</var> 
      <td>Reverses the bits in <var>e</var>:  The bit at position <var>k</var> of the result equals the
        bit at position 31-<var>k</var> of <var>e</var>.<br> (SPIR-V OpBitReverse) 
     <tr class="algorithm" data-algorithm="vector bit reversal">
      <td><var>T</var> is u32 or i32 
      <td class="nowrap"><code>reverseBits(</code><var>e</var><code>:</code> vec<var>N</var>&lt;<var>T</var>> <code>) -></code> vec<var>N</var>&lt;<var>T</var>><br> 
      <td>Component-wise bit reversal:
        Component <var>i</var> of the result is <code>reverseBits(</code><var>e</var><code>[</code><var>i</var><code>])</code><br> (SPIR-V OpBitReverse) 
   </table>
   <h3 class="heading settled" data-level="15.5" id="matrix-builtin-functions"><span class="secno">15.5. </span><span class="content">Matrix built-in functions</span><a class="self-link" href="#matrix-builtin-functions"></a></h3>
   <table class="data">
    <thead>
     <tr>
      <th>Precondition
      <th>Built-in
      <th>Description 
    <tbody>
     <tr class="algorithm" data-algorithm="determinant">
      <td><var>T</var> is f32 
      <td class="nowrap"><code>determinant(</code><var>e</var><code>:</code> mat<var>N</var>x<var>N</var>&lt;<var>T</var>> <code>) -></code> <var>T</var> 
      <td>(GLSLstd450Determinant) 
   </table>
   <h3 class="heading settled" data-level="15.6" id="vector-builtin-functions"><span class="secno">15.6. </span><span class="content">Vector built-in functions</span><a class="self-link" href="#vector-builtin-functions"></a></h3>
   <table class="data">
    <thead>
     <tr>
      <th>Vector built-in functions
      <th>SPIR-V 
    <tbody>
     <tr>
      <td>dot(vecN&lt;f32>, vecN&lt;f32>) -> float
      <td>OpDot 
     <tr>
      <td>outerProduct(vecN&lt;f32>, vecM&lt;f32>) -> matNxM&lt;f32>
      <td>OpOuterProduct 
   </table>
   <h3 class="heading settled" data-level="15.7" id="derivative-builtin-functions"><span class="secno">15.7. </span><span class="content">Derivative built-in functions</span><a class="self-link" href="#derivative-builtin-functions"></a></h3>
   <table class="data">
    <thead>
     <tr>
      <th>Derivative built-in functions
      <th>SPIR-V 
    <tbody>
     <tr>
      <td>dpdx(IDENT) -> float
      <td>OpDPdx 
     <tr>
      <td>dpdxCoarse(IDENT) -> float
      <td>OpDPdxCoarse 
     <tr>
      <td>dpdxFine(IDENT) -> float
      <td>OpDPdxFine 
     <tr>
      <td>dpdy(IDENT) -> float
      <td>OpDPdy 
     <tr>
      <td>dpdyCoarse(IDENT) -> float
      <td>OpDPdyCoarse 
     <tr>
      <td>dpdyFine(IDENT) -> float
      <td>OpDPdyFine 
     <tr>
      <td>fwidth(IDENT) -> float
      <td>OpFwidth 
     <tr>
      <td>fwidthCoarse(IDENT) -> float
      <td>OpFwidthCoarse 
     <tr>
      <td>fwidthFine(IDENT) -> float
      <td>OpFwidthFine 
   </table>
   <h3 class="heading settled" data-level="15.8" id="texture-builtin-functions"><span class="secno">15.8. </span><span class="content">Texture built-in functions</span><a class="self-link" href="#texture-builtin-functions"></a></h3>
   <h4 class="heading settled" data-level="15.8.1" id="texturesample"><span class="secno">15.8.1. </span><span class="content"><code>textureSample</code></span><a class="self-link" href="#texturesample"></a></h4>
   <p>Samples a texture.</p>
<pre class="language-rust highlight"><c- n>textureSample</c-><c- p>(</c-><c- n>t</c-> : <c- nc>texture_1d</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c-><c- p>,</c-> <c- n>s</c-> : <c- nc>sampler</c-><c- p>,</c-> <c- n>coords</c-> : <c- b>f32</c-><c- p>)</c-> -> <c- nc>vec4</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c->
<c- n>textureSample</c-><c- p>(</c-><c- n>t</c-> : <c- nc>texture_1d_array</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c-><c- p>,</c-> <c- n>s</c-> : <c- nc>sampler</c-><c- p>,</c-> <c- n>coords</c-> : <c- b>f32</c-><c- p>,</c-> <c- n>array_index</c-> : <c- b>i32</c-><c- p>)</c-> -> <c- nc>vec4</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c->
<c- n>textureSample</c-><c- p>(</c-><c- n>t</c-> : <c- nc>texture_2d</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c-><c- p>,</c-> <c- n>s</c-> : <c- nc>sampler</c-><c- p>,</c-> <c- n>coords</c-> : <c- nc>vec2</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c-><c- p>)</c-> -> <c- nc>vec4</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c->
<c- n>textureSample</c-><c- p>(</c-><c- n>t</c-> : <c- nc>texture_2d</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c-><c- p>,</c-> <c- n>s</c-> : <c- nc>sampler</c-><c- p>,</c-> <c- n>coords</c-> : <c- nc>vec2</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c-><c- p>,</c-> <c- n>offset</c-> : <c- nc>vec2</c-><c- o>&lt;</c-><c- b>i32</c-><c- o>></c-><c- p>)</c-> -> <c- nc>vec4</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c->
<c- n>textureSample</c-><c- p>(</c-><c- n>t</c-> : <c- nc>texture_2d_array</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c-><c- p>,</c-> <c- n>s</c-> : <c- nc>sampler</c-><c- p>,</c-> <c- n>coords</c-> : <c- nc>vec2</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c-><c- p>,</c-> <c- n>array_index</c-> : <c- b>i32</c-><c- p>)</c-> -> <c- nc>vec4</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c->
<c- n>textureSample</c-><c- p>(</c-><c- n>t</c-> : <c- nc>texture_2d_array</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c-><c- p>,</c-> <c- n>s</c-> : <c- nc>sampler</c-><c- p>,</c-> <c- n>coords</c-> : <c- nc>vec2</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c-><c- p>,</c-> <c- n>array_index</c-> : <c- b>i32</c-><c- p>,</c-> <c- n>offset</c-> : <c- nc>vec2</c-><c- o>&lt;</c-><c- b>i32</c-><c- o>></c-><c- p>)</c-> -> <c- nc>vec4</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c->
<c- n>textureSample</c-><c- p>(</c-><c- n>t</c-> : <c- nc>texture_3d</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c-><c- p>,</c-> <c- n>s</c-> : <c- nc>sampler</c-><c- p>,</c-> <c- n>coords</c-> : <c- nc>vec3</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c-><c- p>)</c-> -> <c- nc>vec4</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c->
<c- n>textureSample</c-><c- p>(</c-><c- n>t</c-> : <c- nc>texture_3d</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c-><c- p>,</c-> <c- n>s</c-> : <c- nc>sampler</c-><c- p>,</c-> <c- n>coords</c-> : <c- nc>vec3</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c-><c- p>,</c-> <c- n>offset</c-> : <c- nc>vec3</c-><c- o>&lt;</c-><c- b>i32</c-><c- o>></c-><c- p>)</c-> -> <c- nc>vec4</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c->
<c- n>textureSample</c-><c- p>(</c-><c- n>t</c-> : <c- nc>texture_cube</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c-><c- p>,</c-> <c- n>s</c-> : <c- nc>sampler</c-><c- p>,</c-> <c- n>coords</c-> : <c- nc>vec3</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c-><c- p>)</c-> -> <c- nc>vec4</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c->
<c- n>textureSample</c-><c- p>(</c-><c- n>t</c-> : <c- nc>texture_cube_array</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c-><c- p>,</c-> <c- n>s</c-> : <c- nc>sampler</c-><c- p>,</c-> <c- n>coords</c-> : <c- nc>vec3</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c-><c- p>,</c-> <c- n>array_index</c-> : <c- b>i32</c-><c- p>)</c-> -> <c- nc>vec4</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c->
<c- n>textureSample</c-><c- p>(</c-><c- n>t</c-> : <c- nc>texture_depth_2d</c-><c- p>,</c-> <c- n>s</c-> : <c- nc>sampler</c-><c- p>,</c-> <c- n>coords</c-> : <c- nc>vec2</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c-><c- p>)</c-> -> <c- b>f32</c->
<c- nc>textureSample</c-><c- p>(</c-><c- n>t</c-> : <c- nc>texture_depth_2d</c-><c- p>,</c-> <c- n>s</c-> : <c- nc>sampler</c-><c- p>,</c-> <c- n>coords</c-> : <c- nc>vec2</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c-><c- p>,</c-> <c- n>offset</c-> : <c- nc>vec2</c-><c- o>&lt;</c-><c- b>i32</c-><c- o>></c-><c- p>)</c-> -> <c- b>f32</c->
<c- nc>textureSample</c-><c- p>(</c-><c- n>t</c-> : <c- nc>texture_depth_2d_array</c-><c- p>,</c-> <c- n>s</c-> : <c- nc>sampler</c-><c- p>,</c-> <c- n>coords</c-> : <c- nc>vec2</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c-><c- p>,</c-> <c- n>array_index</c-> : <c- b>i32</c-><c- p>)</c-> -> <c- b>f32</c->
<c- nc>textureSample</c-><c- p>(</c-><c- n>t</c-> : <c- nc>texture_depth_2d_array</c-><c- p>,</c-> <c- n>s</c-> : <c- nc>sampler</c-><c- p>,</c-> <c- n>coords</c-> : <c- nc>vec2</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c-><c- p>,</c-> <c- n>array_index</c-> : <c- b>i32</c-><c- p>,</c-> <c- n>offset</c-> : <c- nc>vec2</c-><c- o>&lt;</c-><c- b>i32</c-><c- o>></c-><c- p>)</c-> -> <c- b>f32</c->
<c- nc>textureSample</c-><c- p>(</c-><c- n>t</c-> : <c- nc>texture_depth_cube</c-><c- p>,</c-> <c- n>s</c-> : <c- nc>sampler</c-><c- p>,</c-> <c- n>coords</c-> : <c- nc>vec3</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c-><c- p>)</c-> -> <c- b>f32</c->
<c- nc>textureSample</c-><c- p>(</c-><c- n>t</c-> : <c- nc>texture_depth_cube_array</c-><c- p>,</c-> <c- n>s</c-> : <c- nc>sampler</c-><c- p>,</c-> <c- n>coords</c-> : <c- nc>vec3</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c-><c- p>,</c-> <c- n>array_index</c-> : <c- b>i32</c-><c- p>)</c-> -> <c- b>f32</c->
</pre>
   <p><strong>Parameters:</strong></p>
   <table class="data">
    <tbody>
     <tr>
      <td><code>t</code>
      <td> The <a href="#sampled-texture-type">sampled</a> or <a href="#texture-depth">depth</a> texture to
  sample. 
     <tr>
      <td><code>s</code>
      <td> The <a href="#sampler-type">sampler type</a>. 
     <tr>
      <td><code>coords</code>
      <td> The texture coordinates used for sampling. 
     <tr>
      <td><code>array_index</code>
      <td> The 0-based texture array index to sample. 
     <tr>
      <td><code>offset</code>
      <td> The optional texel offset applied to the unnormalized texture coordinate
  before sampling the texture. This offset is applied before applying any
  texture wrapping modes. <code>offset</code> values may range from <code>[-8..7]</code> in all
  dimensions. Values outside of this range will be clamped to the nearest limit. 
   </table>
   <p><strong>Returns:</strong></p>
   <p>The sampled value.</p>
   <h4 class="heading settled" data-level="15.8.2" id="texturesamplebias"><span class="secno">15.8.2. </span><span class="content"><code>textureSampleBias</code></span><a class="self-link" href="#texturesamplebias"></a></h4>
   <p>Samples a texture with a bias to the mip level.</p>
<pre class="language-rust highlight"><c- n>textureSampleBias</c-><c- p>(</c-><c- n>t</c-> : <c- nc>texture_2d</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c-><c- p>,</c-> <c- n>s</c-> : <c- nc>sampler</c-><c- p>,</c-> <c- n>coords</c-> : <c- nc>vec2</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c-><c- p>,</c-> <c- n>bias</c-> : <c- b>f32</c-><c- p>)</c-> -> <c- nc>vec4</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c->
<c- n>textureSampleBias</c-><c- p>(</c-><c- n>t</c-> : <c- nc>texture_2d</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c-><c- p>,</c-> <c- n>s</c-> : <c- nc>sampler</c-><c- p>,</c-> <c- n>coords</c-> : <c- nc>vec2</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c-><c- p>,</c-> <c- n>bias</c-> : <c- b>f32</c-><c- p>,</c-> <c- n>offset</c-> : <c- nc>vec2</c-><c- o>&lt;</c-><c- b>i32</c-><c- o>></c-><c- p>)</c-> -> <c- nc>vec4</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c->
<c- n>textureSampleBias</c-><c- p>(</c-><c- n>t</c-> : <c- nc>texture_2d_array</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c-><c- p>,</c-> <c- n>s</c-> : <c- nc>sampler</c-><c- p>,</c-> <c- n>coords</c-> : <c- nc>vec2</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c-><c- p>,</c-> <c- n>array_index</c-> : <c- b>i32</c-><c- p>,</c-> <c- n>bias</c-> : <c- b>f32</c-><c- p>)</c-> -> <c- nc>vec4</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c->
<c- n>textureSampleBias</c-><c- p>(</c-><c- n>t</c-> : <c- nc>texture_2d_array</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c-><c- p>,</c-> <c- n>s</c-> : <c- nc>sampler</c-><c- p>,</c-> <c- n>coords</c-> : <c- nc>vec2</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c-><c- p>,</c-> <c- n>array_index</c-> : <c- b>i32</c-><c- p>,</c-> <c- n>bias</c-> : <c- b>f32</c-><c- p>,</c-> <c- n>offset</c-> : <c- nc>vec2</c-><c- o>&lt;</c-><c- b>i32</c-><c- o>></c-><c- p>)</c-> -> <c- nc>vec4</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c->
<c- n>textureSampleBias</c-><c- p>(</c-><c- n>t</c-> : <c- nc>texture_3d</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c-><c- p>,</c-> <c- n>s</c-> : <c- nc>sampler</c-><c- p>,</c-> <c- n>coords</c-> : <c- nc>vec3</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c-><c- p>,</c-> <c- n>bias</c-> : <c- b>f32</c-><c- p>)</c-> -> <c- nc>vec4</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c->
<c- n>textureSampleBias</c-><c- p>(</c-><c- n>t</c-> : <c- nc>texture_3d</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c-><c- p>,</c-> <c- n>s</c-> : <c- nc>sampler</c-><c- p>,</c-> <c- n>coords</c-> : <c- nc>vec3</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c-><c- p>,</c-> <c- n>bias</c-> : <c- b>f32</c-><c- p>,</c-> <c- n>offset</c-> : <c- nc>vec3</c-><c- o>&lt;</c-><c- b>i32</c-><c- o>></c-><c- p>)</c-> -> <c- nc>vec4</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c->
<c- n>textureSampleBias</c-><c- p>(</c-><c- n>t</c-> : <c- nc>texture_cube</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c-><c- p>,</c-> <c- n>s</c-> : <c- nc>sampler</c-><c- p>,</c-> <c- n>coords</c-> : <c- nc>vec3</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c-><c- p>,</c-> <c- n>bias</c-> : <c- b>f32</c-><c- p>)</c-> -> <c- nc>vec4</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c->
<c- n>textureSampleBias</c-><c- p>(</c-><c- n>t</c-> : <c- nc>texture_cube_array</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c-><c- p>,</c-> <c- n>s</c-> : <c- nc>sampler</c-><c- p>,</c-> <c- n>coords</c-> : <c- nc>vec3</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c-><c- p>,</c-> <c- n>array_index</c-> : <c- b>i32</c-><c- p>,</c-> <c- n>bias</c-> : <c- b>f32</c-><c- p>)</c-> -> <c- nc>vec4</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c->
</pre>
   <p><strong>Parameters:</strong></p>
   <table class="data">
    <tbody>
     <tr>
      <td><code>t</code>
      <td> The <a href="#sampled-texture-type">texture</a> to sample. 
     <tr>
      <td><code>s</code>
      <td> The <a href="#sampler-type">sampler type</a>. 
     <tr>
      <td><code>coords</code>
      <td> The texture coordinates used for sampling. 
     <tr>
      <td><code>array_index</code>
      <td> The 0-based texture array index to sample. 
     <tr>
      <td><code>bias</code>
      <td> The bias to apply to the mip level before sampling. <code>bias</code> must be between <code>-16.0</code> and <code>15.99</code>. 
     <tr>
      <td><code>offset</code>
      <td> The optional texel offset applied to the unnormalized texture coordinate
  before sampling the texture. This offset is applied before applying any
  texture wrapping modes. <code>offset</code> values may range from <code>[-8..7]</code> in all
  dimensions. Values outside of this range will be clamped to the nearest limit. 
   </table>
   <p><strong>Returns:</strong></p>
   <p>The sampled value.</p>
   <h4 class="heading settled" data-level="15.8.3" id="texturesamplelevel"><span class="secno">15.8.3. </span><span class="content"><code>textureSampleLevel</code></span><a class="self-link" href="#texturesamplelevel"></a></h4>
   <p>Samples a texture using an explicit mip level.</p>
<pre class="language-rust highlight"><c- n>textureSampleLevel</c-><c- p>(</c-><c- n>t</c-> : <c- nc>texture_2d</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c-><c- p>,</c-> <c- n>s</c-> : <c- nc>sampler</c-><c- p>,</c-> <c- n>coords</c-> : <c- nc>vec2</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c-><c- p>,</c-> <c- n>level</c-> : <c- b>f32</c-><c- p>)</c-> -> <c- nc>vec4</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c->
<c- n>textureSampleLevel</c-><c- p>(</c-><c- n>t</c-> : <c- nc>texture_2d</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c-><c- p>,</c-> <c- n>s</c-> : <c- nc>sampler</c-><c- p>,</c-> <c- n>coords</c-> : <c- nc>vec2</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c-><c- p>,</c-> <c- n>level</c-> : <c- b>f32</c-><c- p>,</c-> <c- n>offset</c-> : <c- nc>vec2</c-><c- o>&lt;</c-><c- b>i32</c-><c- o>></c-><c- p>)</c-> -> <c- nc>vec4</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c->
<c- n>textureSampleLevel</c-><c- p>(</c-><c- n>t</c-> : <c- nc>texture_2d_array</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c-><c- p>,</c-> <c- n>s</c-> : <c- nc>sampler</c-><c- p>,</c-> <c- n>coords</c-> : <c- nc>vec2</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c-><c- p>,</c-> <c- n>array_index</c-> : <c- b>i32</c-><c- p>,</c-> <c- n>level</c-> : <c- b>f32</c-><c- p>)</c-> -> <c- nc>vec4</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c->
<c- n>textureSampleLevel</c-><c- p>(</c-><c- n>t</c-> : <c- nc>texture_2d_array</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c-><c- p>,</c-> <c- n>s</c-> : <c- nc>sampler</c-><c- p>,</c-> <c- n>coords</c-> : <c- nc>vec2</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c-><c- p>,</c-> <c- n>array_index</c-> : <c- b>i32</c-><c- p>,</c-> <c- n>level</c-> : <c- b>f32</c-><c- p>,</c-> <c- n>offset</c-> : <c- nc>vec2</c-><c- o>&lt;</c-><c- b>i32</c-><c- o>></c-><c- p>)</c-> -> <c- nc>vec4</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c->
<c- n>textureSampleLevel</c-><c- p>(</c-><c- n>t</c-> : <c- nc>texture_3d</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c-><c- p>,</c-> <c- n>s</c-> : <c- nc>sampler</c-><c- p>,</c-> <c- n>coords</c-> : <c- nc>vec3</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c-><c- p>,</c-> <c- n>level</c-> : <c- b>f32</c-><c- p>)</c-> -> <c- nc>vec4</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c->
<c- n>textureSampleLevel</c-><c- p>(</c-><c- n>t</c-> : <c- nc>texture_3d</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c-><c- p>,</c-> <c- n>s</c-> : <c- nc>sampler</c-><c- p>,</c-> <c- n>coords</c-> : <c- nc>vec3</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c-><c- p>,</c-> <c- n>level</c-> : <c- b>f32</c-><c- p>,</c-> <c- n>offset</c-> : <c- nc>vec3</c-><c- o>&lt;</c-><c- b>i32</c-><c- o>></c-><c- p>)</c-> -> <c- nc>vec4</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c->
<c- n>textureSampleLevel</c-><c- p>(</c-><c- n>t</c-> : <c- nc>texture_cube</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c-><c- p>,</c-> <c- n>s</c-> : <c- nc>sampler</c-><c- p>,</c-> <c- n>coords</c-> : <c- nc>vec3</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c-><c- p>,</c-> <c- n>level</c-> : <c- b>f32</c-><c- p>)</c-> -> <c- nc>vec4</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c->
<c- n>textureSampleLevel</c-><c- p>(</c-><c- n>t</c-> : <c- nc>texture_cube_array</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c-><c- p>,</c-> <c- n>s</c-> : <c- nc>sampler</c-><c- p>,</c-> <c- n>coords</c-> : <c- nc>vec3</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c-><c- p>,</c-> <c- n>array_index</c-> : <c- b>i32</c-><c- p>,</c-> <c- n>level</c-> : <c- b>f32</c-><c- p>)</c-> -> <c- nc>vec4</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c->
<c- n>textureSampleLevel</c-><c- p>(</c-><c- n>t</c-> : <c- nc>texture_depth_2d</c-><c- p>,</c-> <c- n>s</c-> : <c- nc>sampler</c-><c- p>,</c-> <c- n>coords</c-> : <c- nc>vec2</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c-><c- p>,</c-> <c- n>level</c-> : <c- b>i32</c-><c- p>)</c-> -> <c- b>f32</c->
<c- nc>textureSampleLevel</c-><c- p>(</c-><c- n>t</c-> : <c- nc>texture_depth_2d</c-><c- p>,</c-> <c- n>s</c-> : <c- nc>sampler</c-><c- p>,</c-> <c- n>coords</c-> : <c- nc>vec2</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c-><c- p>,</c-> <c- n>level</c-> : <c- b>i32</c-><c- p>,</c-> <c- n>offset</c-> : <c- nc>vec2</c-><c- o>&lt;</c-><c- b>i32</c-><c- o>></c-><c- p>)</c-> -> <c- b>f32</c->
<c- nc>textureSampleLevel</c-><c- p>(</c-><c- n>t</c-> : <c- nc>texture_depth_2d_array</c-><c- p>,</c-> <c- n>s</c-> : <c- nc>sampler</c-><c- p>,</c-> <c- n>coords</c-> : <c- nc>vec2</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c-><c- p>,</c-> <c- n>array_index</c-> : <c- b>i32</c-><c- p>,</c-> <c- n>level</c-> : <c- b>i32</c-><c- p>)</c-> -> <c- b>f32</c->
<c- nc>textureSampleLevel</c-><c- p>(</c-><c- n>t</c-> : <c- nc>texture_depth_2d_array</c-><c- p>,</c-> <c- n>s</c-> : <c- nc>sampler</c-><c- p>,</c-> <c- n>coords</c-> : <c- nc>vec2</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c-><c- p>,</c-> <c- n>array_index</c-> : <c- b>i32</c-><c- p>,</c-> <c- n>level</c-> : <c- b>i32</c-><c- p>,</c-> <c- n>offset</c-> : <c- nc>vec2</c-><c- o>&lt;</c-><c- b>i32</c-><c- o>></c-><c- p>)</c-> -> <c- b>f32</c->
<c- nc>textureSampleLevel</c-><c- p>(</c-><c- n>t</c-> : <c- nc>texture_depth_cube</c-><c- p>,</c-> <c- n>s</c-> : <c- nc>sampler</c-><c- p>,</c-> <c- n>coords</c-> : <c- nc>vec3</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c-><c- p>,</c-> <c- n>level</c-> : <c- b>i32</c-><c- p>)</c-> -> <c- b>f32</c->
<c- nc>textureSampleLevel</c-><c- p>(</c-><c- n>t</c-> : <c- nc>texture_depth_cube_array</c-><c- p>,</c-> <c- n>s</c-> : <c- nc>sampler</c-><c- p>,</c-> <c- n>coords</c-> : <c- nc>vec3</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c-><c- p>,</c-> <c- n>array_index</c-> : <c- b>i32</c-><c- p>,</c-> <c- n>level</c-> : <c- b>i32</c-><c- p>)</c-> -> <c- b>f32</c->
</pre>
   <p><strong>Parameters:</strong></p>
   <table class="data">
    <tbody>
     <tr>
      <td><code>t</code>
      <td> The <a href="#sampled-texture-type">sampled</a> or <a href="#texture-depth">depth</a> texture to
  sample. 
     <tr>
      <td><code>s</code>
      <td> The <a href="#sampler-type">sampler type</a>. 
     <tr>
      <td><code>coords</code>
      <td> The texture coordinates used for sampling. 
     <tr>
      <td><code>array_index</code>
      <td> The 0-based texture array index to sample. 
     <tr>
      <td><code>level</code>
      <td> The mip level to sample from, with 0 representing the largest level.
  For the functions where <code>level</code> is a <code>f32</code>, fractional values may interpolate
  between two levels if the format is filterable according to the <a href="https://gpuweb.github.io/gpuweb/#texture-format-caps">Texture Format Capabilities</a>. 
     <tr>
      <td><code>offset</code>
      <td> The optional texel offset applied to the unnormalized texture coordinate
  before sampling the texture. This offset is applied before applying any
  texture wrapping modes. <code>offset</code> values may range from <code>[-8..7]</code> in all
  dimensions. Values outside of this range will be clamped to the nearest limit. 
   </table>
   <p><strong>Returns:</strong></p>
   <p>The sampled value.</p>
   <h4 class="heading settled" data-level="15.8.4" id="texturesamplegrad"><span class="secno">15.8.4. </span><span class="content"><code>textureSampleGrad</code></span><a class="self-link" href="#texturesamplegrad"></a></h4>
   <p>Samples a texture using explicit gradients.</p>
<pre class="language-rust highlight"><c- n>textureSampleGrad</c-><c- p>(</c-><c- n>t</c-> : <c- nc>texture_2d</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c-><c- p>,</c-> <c- n>s</c-> : <c- nc>sampler</c-><c- p>,</c-> <c- n>coords</c-> : <c- nc>vec2</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c-><c- p>,</c-> <c- n>ddx</c-> : <c- nc>vec2</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c-><c- p>,</c-> <c- n>ddy</c-> : <c- nc>vec2</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c-><c- p>)</c-> -> <c- nc>vec4</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c->
<c- n>textureSampleGrad</c-><c- p>(</c-><c- n>t</c-> : <c- nc>texture_2d</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c-><c- p>,</c-> <c- n>s</c-> : <c- nc>sampler</c-><c- p>,</c-> <c- n>coords</c-> : <c- nc>vec2</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c-><c- p>,</c-> <c- n>ddx</c-> : <c- nc>vec2</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c-><c- p>,</c-> <c- n>ddy</c-> : <c- nc>vec2</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c-><c- p>,</c-> <c- n>offset</c-> : <c- nc>vec2</c-><c- o>&lt;</c-><c- b>i32</c-><c- o>></c-><c- p>)</c-> -> <c- nc>vec4</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c->
<c- n>textureSampleGrad</c-><c- p>(</c-><c- n>t</c-> : <c- nc>texture_2d_array</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c-><c- p>,</c-> <c- n>s</c-> : <c- nc>sampler</c-><c- p>,</c-> <c- n>coords</c-> : <c- nc>vec2</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c-><c- p>,</c-> <c- n>array_index</c-> : <c- b>i32</c-><c- p>,</c-> <c- n>ddx</c-> : <c- nc>vec2</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c-><c- p>,</c-> <c- n>ddy</c-> : <c- nc>vec2</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c-><c- p>)</c-> -> <c- nc>vec4</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c->
<c- n>textureSampleGrad</c-><c- p>(</c-><c- n>t</c-> : <c- nc>texture_2d_array</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c-><c- p>,</c-> <c- n>s</c-> : <c- nc>sampler</c-><c- p>,</c-> <c- n>coords</c-> : <c- nc>vec2</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c-><c- p>,</c-> <c- n>array_index</c-> : <c- b>i32</c-><c- p>,</c-> <c- n>ddx</c-> : <c- nc>vec2</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c-><c- p>,</c-> <c- n>ddy</c-> : <c- nc>vec2</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c-><c- p>,</c-> <c- n>offset</c-> : <c- nc>vec2</c-><c- o>&lt;</c-><c- b>i32</c-><c- o>></c-><c- p>)</c-> -> <c- nc>vec4</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c->
<c- n>textureSampleGrad</c-><c- p>(</c-><c- n>t</c-> : <c- nc>texture_3d</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c-><c- p>,</c-> <c- n>s</c-> : <c- nc>sampler</c-><c- p>,</c-> <c- n>coords</c-> : <c- nc>vec3</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c-><c- p>,</c-> <c- n>ddx</c-> : <c- nc>vec3</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c-><c- p>,</c-> <c- n>ddy</c-> : <c- nc>vec3</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c-><c- p>)</c-> -> <c- nc>vec4</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c->
<c- n>textureSampleGrad</c-><c- p>(</c-><c- n>t</c-> : <c- nc>texture_3d</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c-><c- p>,</c-> <c- n>s</c-> : <c- nc>sampler</c-><c- p>,</c-> <c- n>coords</c-> : <c- nc>vec3</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c-><c- p>,</c-> <c- n>ddx</c-> : <c- nc>vec3</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c-><c- p>,</c-> <c- n>ddy</c-> : <c- nc>vec3</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c-><c- p>,</c-> <c- n>offset</c-> : <c- nc>vec3</c-><c- o>&lt;</c-><c- b>i32</c-><c- o>></c-><c- p>)</c-> -> <c- nc>vec4</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c->
<c- n>textureSampleGrad</c-><c- p>(</c-><c- n>t</c-> : <c- nc>texture_cube</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c-><c- p>,</c-> <c- n>s</c-> : <c- nc>sampler</c-><c- p>,</c-> <c- n>coords</c-> : <c- nc>vec3</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c-><c- p>,</c-> <c- n>ddx</c-> : <c- nc>vec3</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c-><c- p>,</c-> <c- n>ddy</c-> : <c- nc>vec3</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c-><c- p>)</c-> -> <c- nc>vec4</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c->
<c- n>textureSampleGrad</c-><c- p>(</c-><c- n>t</c-> : <c- nc>texture_cube_array</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c-><c- p>,</c-> <c- n>s</c-> : <c- nc>sampler</c-><c- p>,</c-> <c- n>coords</c-> : <c- nc>vec3</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c-><c- p>,</c-> <c- n>array_index</c-> : <c- b>i32</c-><c- p>,</c-> <c- n>ddx</c-> : <c- nc>vec3</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c-><c- p>,</c-> <c- n>ddy</c-> : <c- nc>vec3</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c-><c- p>)</c-> -> <c- nc>vec4</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c->
</pre>
   <p><strong>Parameters:</strong></p>
   <table class="data">
    <tbody>
     <tr>
      <td><code>t</code>
      <td> The <a href="#sampled-texture-type">texture</a> to sample. 
     <tr>
      <td><code>s</code>
      <td> The <a href="#sampler-type">sampler type</a>. 
     <tr>
      <td><code>coords</code>
      <td> The texture coordinates used for sampling. 
     <tr>
      <td><code>array_index</code>
      <td> The 0-based texture array index to sample. 
     <tr>
      <td><code>ddx</code>
      <td> The x direction derivative vector used to compute the sampling locations. 
     <tr>
      <td><code>ddy</code>
      <td> The y direction derivative vector used to compute the sampling locations. 
     <tr>
      <td><code>offset</code>
      <td> The optional texel offset applied to the unnormalized texture coordinate
  before sampling the texture. This offset is applied before applying any
  texture wrapping modes. <code>offset</code> values may range from <code>[-8..7]</code> in all
  dimensions. Values outside of this range will be clamped to the nearest limit. 
   </table>
   <p><strong>Returns:</strong></p>
   <p>The sampled value.</p>
   <h4 class="heading settled" data-level="15.8.5" id="texturesamplecompare"><span class="secno">15.8.5. </span><span class="content"><code>textureSampleCompare</code></span><a class="self-link" href="#texturesamplecompare"></a></h4>
   <p>Samples a depth texture and compares the sampled depth values against a reference value.</p>
<pre class="language-rust highlight"><c- n>textureSampleCompare</c-><c- p>(</c-><c- n>t</c-> : <c- nc>texture_depth_2d</c-><c- p>,</c-> <c- n>s</c-> : <c- nc>sampler_comparison</c-><c- p>,</c-> <c- n>coords</c-> : <c- nc>vec2</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c-><c- p>,</c-> <c- n>depth_ref</c-> : <c- b>f32</c-><c- p>)</c-> -> <c- b>f32</c->
<c- nc>textureSampleCompare</c-><c- p>(</c-><c- n>t</c-> : <c- nc>texture_depth_2d</c-><c- p>,</c-> <c- n>s</c-> : <c- nc>sampler_comparison</c-><c- p>,</c-> <c- n>coords</c-> : <c- nc>vec2</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c-><c- p>,</c-> <c- n>depth_ref</c-> : <c- b>f32</c-><c- p>,</c-> <c- n>offset</c-> : <c- nc>vec2</c-><c- o>&lt;</c-><c- b>i32</c-><c- o>></c-><c- p>)</c-> -> <c- b>f32</c->
<c- nc>textureSampleCompare</c-><c- p>(</c-><c- n>t</c-> : <c- nc>texture_depth_2d_array</c-><c- p>,</c-> <c- n>s</c-> : <c- nc>sampler_comparison</c-><c- p>,</c-> <c- n>coords</c-> : <c- nc>vec2</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c-><c- p>,</c-> <c- n>array_index</c-> : <c- b>i32</c-><c- p>,</c-> <c- n>depth_ref</c-> : <c- b>f32</c-><c- p>)</c-> -> <c- b>f32</c->
<c- nc>textureSampleCompare</c-><c- p>(</c-><c- n>t</c-> : <c- nc>texture_depth_2d_array</c-><c- p>,</c-> <c- n>s</c-> : <c- nc>sampler_comparison</c-><c- p>,</c-> <c- n>coords</c-> : <c- nc>vec2</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c-><c- p>,</c-> <c- n>array_index</c-> : <c- b>i32</c-><c- p>,</c-> <c- n>depth_ref</c-> : <c- b>f32</c-><c- p>,</c-> <c- n>offset</c-> : <c- nc>vec2</c-><c- o>&lt;</c-><c- b>i32</c-><c- o>></c-><c- p>)</c-> -> <c- b>f32</c->
<c- nc>textureSampleCompare</c-><c- p>(</c-><c- n>t</c-> : <c- nc>texture_depth_cube</c-><c- p>,</c-> <c- n>s</c-> : <c- nc>sampler_comparison</c-><c- p>,</c-> <c- n>coords</c-> : <c- nc>vec3</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c-><c- p>,</c-> <c- n>depth_ref</c-> : <c- b>f32</c-><c- p>)</c-> -> <c- b>f32</c->
<c- nc>textureSampleCompare</c-><c- p>(</c-><c- n>t</c-> : <c- nc>texture_depth_cube_array</c-><c- p>,</c-> <c- n>s</c-> : <c- nc>sampler_comparison</c-><c- p>,</c-> <c- n>coords</c-> : <c- nc>vec3</c-><c- o>&lt;</c-><c- b>f32</c-><c- o>></c-><c- p>,</c-> <c- n>array_index</c-> : <c- b>i32</c-><c- p>,</c-> <c- n>depth_ref</c-> : <c- b>f32</c-><c- p>)</c-> -> <c- b>f32</c->
</pre>
   <p><strong>Parameters:</strong></p>
   <table class="data">
    <tbody>
     <tr>
      <td><code>t</code>
      <td> The <a href="#texture-depth">depth</a> texture to sample. 
     <tr>
      <td><code>s</code>
      <td> The <a href="#sampler-type">sampler comparision</a> type. 
     <tr>
      <td><code>coords</code>
      <td> The texture coordinates used for sampling. 
     <tr>
      <td><code>array_index</code>
      <td> The 0-based texture array index to sample. 
     <tr>
      <td><code>depth_ref</code>
      <td> The reference value to compare the sampled depth value against. 
     <tr>
      <td><code>offset</code>
      <td> The optional texel offset applied to the unnormalized texture coordinate
  before sampling the texture. This offset is applied before applying any
  texture wrapping modes. <code>offset</code> values may range from <code>[-8..7]</code> in all
  dimensions. Values outside of this range will be clamped to the nearest limit. 
   </table>
   <p><strong>Returns:</strong></p>
   <p>A value in the range <code>[0.0..1.0]</code>.</p>
   <p>Each sampled texel is compared against the reference value using the comparision
operator defined by the <code>sampler_comparison</code>, resulting in either a <code>0</code> or <code>1</code> value for each texel.</p>
   <p>If the <code>sampler_comparison</code> uses bilinear filtering then the returned value is
the filtered average of these values, otherwise the comparision result of a
single texel is returned.</p>
   <p><strong>TODO:</strong></p>
<pre class="def"><code>vec4&lt;type> textureLoad(texture_storage_ro_1d , i32 coords)</code>
<code>vec4&lt;type> textureLoad(texture_storage_ro_2d , vec2&lt;i32> coords)</code>
<code>vec4&lt;type> textureLoad(texture_storage_ro_1d_array, vec2&lt;i32> coords)</code>
<code>vec4&lt;type> textureLoad(texture_storage_ro_3d , vec3&lt;i32> coords)</code>
<code>vec4&lt;type> textureLoad(texture_storage_ro_2d_array, vec3&lt;i32> coords)</code>
  %32 = OpImageRead %v4float %texture_storage_ro %coords

<code>vec4&lt;type> textureLoad(texture_1d , i32 coords, i32 level_of_detail)</code>
<code>vec4&lt;type> textureLoad(texture_2d , vec2&lt;i32> coords, i32 level_of_detail)</code>
<code>vec4&lt;type> textureLoad(texture_1d_array, vec2&lt;i32> coords, i32 level_of_detail)</code>
<code>vec4&lt;type> textureLoad(texture_3d , vec3&lt;i32> coords, i32 level_of_detail)</code>
<code>vec4&lt;type> textureLoad(texture_2d_array, vec3&lt;i32> coords, i32 level_of_detail)</code>
  %32 = OpImageFetch %v4float %texture %coords Lod %level_of_detail

<code>vec4&lt;type> textureLoad(texture_multisampled_2d, vec2&lt;i32> coords, i32 sample_index)</code>
  %32 = OpImageFetch %v4float %texture_multisampled %coords Sample %sample_index

TODO(dsinclair): Add <code>textureWrite</code> method for texture_storage_wo with integral coords



TODO(dsinclair): Need gather operations
</pre>
   <h3 class="heading settled" data-level="15.9" id="atomic-builtin-functions"><span class="secno">15.9. </span><span class="content">Atomic built-in functions</span><a class="self-link" href="#atomic-builtin-functions"></a></h3>
   <h3 class="heading settled" data-level="15.10" id="pack-builtin-functions"><span class="secno">15.10. </span><span class="content">Data packing built-in functions</span><a class="self-link" href="#pack-builtin-functions"></a></h3>
   <p>Data packing builtin functions can be used to encode values using data formats that
do not correspond directly to types in WGSL.
This enables a program to write many densely packed values to memory, which can
reduce a shader’s memory bandwidth demand.</p>
   <table class="data">
    <thead>
     <tr>
      <th>Built-in
      <th>Description 
    <tbody>
     <tr class="algorithm" data-algorithm="packing 4x8snorm">
      <td class="nowrap"><code>pack4x8snorm</code>(<var>e</var>: vec4&lt;f32>) -> u32 
      <td>Converts four normalized floating point values to 8-bit signed integers, and then combines them
        into one <code>u32</code> value.<br> Component <var>e</var>[<var>i</var>] of the input is converted to an 8-bit twos complement integer value
        ⌊ 0.5 + 127 × min(1, max(-1, <var>e</var>[<var>i</var>])) ⌋ which is then placed in bits
        8 × <var>i</var> through
        8 × <var>i</var> + 7 of the result. 
     <tr class="algorithm" data-algorithm="packing 4x8unorm">
      <td class="nowrap"><code>pack4x8unorm</code>(<var>e</var>: vec4&lt;f32>) -> u32 
      <td>Converts four normalized floating point values to 8-bit unsigned integers, and then combines them
        into one <code>u32</code> value.<br> Component <var>e</var>[<var>i</var>] of the input is converted to an 8-bit unsigned integer value
        ⌊ 0.5 + 255 × min(1, max(0, <var>e</var>[<var>i</var>])) ⌋ which is then placed in bits
        8 × <var>i</var> through
        8 × <var>i</var> + 7 of the result. 
     <tr class="algorithm" data-algorithm="packing 2x16snorm">
      <td class="nowrap"><code>pack2x16snorm</code>(<var>e</var>: vec2&lt;f32>) -> u32 
      <td>Converts two normalized floating point values to 16-bit signed integers, and then combines them
        into one <code>u32</code> value.<br> Component <var>e</var>[<var>i</var>] of the input is converted to a 16-bit twos complement integer value
        ⌊ 0.5 + 32767 × min(1, max(-1, <var>e</var>[<var>i</var>])) ⌋ which is then placed in bits
        16 × <var>i</var> through
        16 × <var>i</var> + 15 of the result. 
     <tr class="algorithm" data-algorithm="packing 2x16unorm">
      <td class="nowrap"><code>pack2x16unorm</code>(<var>e</var>: vec2&lt;f32>) -> u32 
      <td>Converts two normalized floating point values to 16-bit unsigned integers, and then combines them
        into one <code>u32</code> value.<br> Component <var>e</var>[<var>i</var>] of the input is converted to a 16-bit unsigned integer value
        ⌊ 0.5 + 65535 × min(1, max(0, <var>e</var>[<var>i</var>])) ⌋ which is then placed in bits
        16 × <var>i</var> through
        16 × <var>i</var> + 15 of the result. 
     <tr class="algorithm" data-algorithm="packing 2x16float">
      <td class="nowrap"><code>pack2x16float</code>(<var>e</var>: vec2&lt;f32>) -> u32 
      <td>Converts two floating point values to half-precision floating point numbers, and then combines
        them into one one <code>u32</code> value.<br> Component <var>e</var>[<var>i</var>] of the input is converted to a IEEE 754 binary16 value, which is then
        placed in bits
        16 × <var>i</var> through
        16 × <var>i</var> + 15 of the result.
        See <a href="#floating-point-conversion">§ 10.5.1 Floating point conversion</a> for edge case behaviour. 
   </table>
   <h3 class="heading settled" data-level="15.11" id="unpack-builtin-functions"><span class="secno">15.11. </span><span class="content">Data unpacking built-in functions</span><a class="self-link" href="#unpack-builtin-functions"></a></h3>
   <p>Data unpacking builtin functions can be used to decode values in
data formats that do not correspond directly to types in WGSL.
This enables a program to read many densely packed values from memory, which can
reduce a shader’s memory bandwidth demand.</p>
   <table class="data">
    <thead>
     <tr>
      <th>Built-in
      <th>Description 
    <tbody>
     <tr class="algorithm" data-algorithm="unpacking 4x8snorm">
      <td class="nowrap"><code>unpack4x8snorm</code>(<var>e</var>: u32) -> vec4&lt;f32> 
      <td>Decomposes a 32-bit value into four 8-bit chunks, then reinterprets
        each chunk as a signed normalized floating point value.<br> Component <var>i</var> of the result is max(<var>v</var> ÷ 127, -1), where <var>v</var> is the interpretation of
        bits 8×<var>i</var> through 8×<var>i</var>+7 of <var>e</var> as a twos-complement signed integer. 
     <tr class="algorithm" data-algorithm="unpacking 4x8unorm">
      <td class="nowrap"><code>unpack4x8unorm</code>(<var>e</var>: u32) -> vec4&lt;f32> 
      <td>Decomposes a 32-bit value into four 8-bit chunks, then reinterprets
        each chunk as an unsigned normalized floating point value.<br> Component <var>i</var> of the result is <var>v</var> ÷ 255, where <var>v</var> is the interpretation of
        bits 8×<var>i</var> through 8×<var>i</var>+7 of <var>e</var> as an unsigned integer. 
     <tr class="algorithm" data-algorithm="unpacking 2x16snorm">
      <td class="nowrap"><code>unpack2x16snorm</code>(<var>e</var>: u32) -> vec2&lt;f32> 
      <td>Decomposes a 32-bit value into two 16-bit chunks, then reinterprets
        each chunk as a signed normalized floating point value.<br> Component <var>i</var> of the result is max(<var>v</var> ÷ 32767, -1), where <var>v</var> is the interpretation of
        bits 16×<var>i</var> through 16×<var>i</var>+15 of <var>e</var> as a twos-complement signed integer. 
     <tr class="algorithm" data-algorithm="unpacking 2x16unorm">
      <td class="nowrap"><code>unpack2x16unorm</code>(<var>e</var>: u32) -> vec2&lt;f32> 
      <td>Decomposes a 32-bit value into two 16-bit chunks, then reinterprets
        each chunk as an unsigned normalized floating point value.<br> Component <var>i</var> of the result is <var>v</var> ÷ 65535, where <var>v</var> is the interpretation of
        bits 16×<var>i</var> through 16×<var>i</var>+15 of <var>e</var> as an unsigned integer. 
     <tr class="algorithm" data-algorithm="unpacking 2x16float">
      <td class="nowrap"><code>unpack2x16float</code>(<var>e</var>: u32) -> vec2&lt;f32> 
      <td>Decomposes a 32-bit value into two 16-bit chunks, and reinterpets each chunk
        as a floating point value.<br> Component <var>i</var> of the result is the f32 representation of <var>v</var>,
        where <var>v</var> is the interpretation of bits 16×<var>i</var> through 16×<var>i</var>+15 of <var>e</var> as an IEEE 754 binary16 value.
        See <a href="#floating-point-conversion">§ 10.5.1 Floating point conversion</a> for edge case behaviour. 
   </table>
   <h2 class="heading settled" data-level="16" id="glossary"><span class="secno">16. </span><span class="content">Glossary</span><a class="self-link" href="#glossary"></a></h2>
   <p>TODO: Remove terms unused in the rest of the specification.</p>
   <table class="data">
    <thead>
     <tr>
      <th>Term
      <th>Definition 
    <tbody>
     <tr>
      <td>Dominates 
      <td>
       Basic block <code>A</code> <em>dominates</em> basic block <code>B</code> if: 
       <ul>
        <li data-md>
         <p><code>A</code> and <code>B</code> are both in the same function <code>F</code></p>
        <li data-md>
         <p>Every control flow path in <code>F</code> that goes to <code>B</code> must also to through <code>A</code></p>
       </ul>
     <tr>
      <td>Strictly dominates 
      <td><code>A</code> <em>strictly dominates</em> <code>B</code> if <code>A</code> dominates <code>B</code> and <code>A != B</code> 
     <tr>
      <td>DomBy(A) 
      <td>The basic blocks dominated by <code>A</code> 
   </table>
   <h2 class="heading settled" data-level="17" id="junkyard"><span class="secno">17. </span><span class="content">MATERIAL TO BE MOVED TO A NEW HOME OR DELETED</span><a class="self-link" href="#junkyard"></a></h2>
   <h3 class="heading settled" data-level="17.1" id="composite-types"><span class="secno">17.1. </span><span class="content">Composite types</span><a class="self-link" href="#composite-types"></a></h3>
   <p>A type is <em>composite</em> if its values have a well-defined internal
structure of typed <em>components</em>.</p>
   <p>The following types are <em>composite types</em>:</p>
   <ul>
    <li data-md>
     <p><a href="#vector-types">§ 3.3.5 Vector Types</a></p>
    <li data-md>
     <p><a href="#matrix-types">§ 3.3.6 Matrix Types</a></p>
    <li data-md>
     <p><a href="#array-types">§ 3.3.7 Array Types</a></p>
    <li data-md>
     <p><a href="#struct-types">§ 3.3.8 Structure Types</a></p>
   </ul>
   <p>WGSL has operations for:</p>
   <ul>
    <li data-md>
     <p>extracting one of the components of a composite value</p>
    <li data-md>
     <p>creating a new composite value from an old one by replacing one of its components</p>
    <li data-md>
     <p>creating a new composite value from components</p>
   </ul>
   <h3 class="heading settled" data-level="17.2" id="type-promotions"><span class="secno">17.2. </span><span class="content">Type Promotions</span><a class="self-link" href="#type-promotions"></a></h3>
    There are no implicit type promotions in WGSL. If you want to convert between
types you must use the cast syntax to do it. 
   <div class="example" id="example-4fb7fc00">
    <a class="self-link" href="#example-4fb7fc00"></a> 
<pre class="highlight"><c- n>var</c-> <c- n>e</c-> : <c- b>f32</c-> <c- o>=</c-> <c- mi>3</c-><c- p>;</c->    # <c- n>error</c->: <c- nc>literal</c-> <c- n>is</c-> <c- n>the</c-> <c- n>wrong</c-> <c- k>type</c->

<c- nc>var</c-> <c- n>f</c-> : <c- b>f32</c-> <c- o>=</c-> <c- mf>1.0</c-><c- p>;</c->

<c- n>var</c-> <c- n>t</c-> : <c- b>i32</c-> <c- o>=</c-> <c- b>i32</c-><c- p>(</c-><c- n>f</c-><c- p>);</c->
</pre>
   </div>
   <p>The non-promotion extends to vector classes as well. There are no overrides to
shorten vector declarations based on the type or number of elements provided.
If you want <code>vec4&lt;f32></code> you must provide 4 float values in the constructor.</p>
   <h3 class="heading settled" data-level="17.3" id="precedence"><span class="secno">17.3. </span><span class="content">Precedence</span><a class="self-link" href="#precedence"></a></h3>
   <p class="issue" id="issue-038f44df"><a class="self-link" href="#issue-038f44df"></a> (dsinclair) Write out precedence rules. Matches c and glsl rules ....</p>
  </main>
  <div data-fill-with="conformance">
   <h2 class="no-ref no-num heading settled" id="conformance"><span class="content"> Conformance</span><a class="self-link" href="#conformance"></a></h2>
   <p> Conformance requirements are expressed with a combination of descriptive assertions and RFC 2119 terminology.
            The key words “MUST”, “MUST NOT”, “REQUIRED”, “SHALL”, “SHALL NOT”, “SHOULD”, “SHOULD NOT”, “RECOMMENDED”, “MAY”, and “OPTIONAL”
            in the normative parts of this document
            are to be interpreted as described in RFC 2119.
            However, for readability,
            these words do not appear in all uppercase letters in this specification. </p>
   <p> All of the text of this specification is normative
            except sections explicitly marked as non-normative, examples, and notes. <a data-link-type="biblio" href="#biblio-rfc2119">[RFC2119]</a> </p>
   <p> Examples in this specification are introduced with the words “for example”
            or are set apart from the normative text with <code>class="example"</code>, like this: </p>
   <div class="example" id="example-example"><a class="self-link" href="#example-example"></a> This is an example of an informative example. </div>
   <p> Informative notes begin with the word “Note”
            and are set apart from the normative text with <code>class="note"</code>, like this: </p>
   <p class="note" role="note"> Note, this is an informative note. </p>
  </div>
<script>
(function() {
  "use strict";
  var collapseSidebarText = '<span aria-hidden="true">←</span> '
                          + '<span>Collapse Sidebar</span>';
  var expandSidebarText   = '<span aria-hidden="true">→</span> '
                          + '<span>Pop Out Sidebar</span>';
  var tocJumpText         = '<span aria-hidden="true">↑</span> '
                          + '<span>Jump to Table of Contents</span>';

  var sidebarMedia = window.matchMedia('screen and (min-width: 78em)');
  var autoToggle   = function(e){ toggleSidebar(e.matches) };
  if(sidebarMedia.addListener) {
    sidebarMedia.addListener(autoToggle);
  }

  function toggleSidebar(on) {
    if (on == undefined) {
      on = !document.body.classList.contains('toc-sidebar');
    }

    /* Don’t scroll to compensate for the ToC if we’re above it already. */
    var headY = 0;
    var head = document.querySelector('.head');
    if (head) {
      // terrible approx of "top of ToC"
      headY += head.offsetTop + head.offsetHeight;
    }
    var skipScroll = window.scrollY < headY;

    var toggle = document.getElementById('toc-toggle');
    var tocNav = document.getElementById('toc');
    if (on) {
      var tocHeight = tocNav.offsetHeight;
      document.body.classList.add('toc-sidebar');
      document.body.classList.remove('toc-inline');
      toggle.innerHTML = collapseSidebarText;
      if (!skipScroll) {
        window.scrollBy(0, 0 - tocHeight);
      }
      tocNav.focus();
      sidebarMedia.addListener(autoToggle); // auto-collapse when out of room
    }
    else {
      document.body.classList.add('toc-inline');
      document.body.classList.remove('toc-sidebar');
      toggle.innerHTML = expandSidebarText;
      if (!skipScroll) {
        window.scrollBy(0, tocNav.offsetHeight);
      }
      if (toggle.matches(':hover')) {
        /* Unfocus button when not using keyboard navigation,
           because I don’t know where else to send the focus. */
        toggle.blur();
      }
    }
  }

  function createSidebarToggle() {
    /* Create the sidebar toggle in JS; it shouldn’t exist when JS is off. */
    var toggle = document.createElement('a');
      /* This should probably be a button, but appearance isn’t standards-track.*/
    toggle.id = 'toc-toggle';
    toggle.class = 'toc-toggle';
    toggle.href = '#toc';
    toggle.innerHTML = collapseSidebarText;

    sidebarMedia.addListener(autoToggle);
    var toggler = function(e) {
      e.preventDefault();
      sidebarMedia.removeListener(autoToggle); // persist explicit off states
      toggleSidebar();
      return false;
    }
    toggle.addEventListener('click', toggler, false);


    /* Get <nav id=toc-nav>, or make it if we don’t have one. */
    var tocNav = document.getElementById('toc-nav');
    if (!tocNav) {
      tocNav = document.createElement('p');
      tocNav.id = 'toc-nav';
      /* Prepend for better keyboard navigation */
      document.body.insertBefore(tocNav, document.body.firstChild);
    }
    /* While we’re at it, make sure we have a Jump to Toc link. */
    var tocJump = document.getElementById('toc-jump');
    if (!tocJump) {
      tocJump = document.createElement('a');
      tocJump.id = 'toc-jump';
      tocJump.href = '#toc';
      tocJump.innerHTML = tocJumpText;
      tocNav.appendChild(tocJump);
    }

    tocNav.appendChild(toggle);
  }

  var toc = document.getElementById('toc');
  if (toc) {
    createSidebarToggle();
    toggleSidebar(sidebarMedia.matches);

    /* If the sidebar has been manually opened and is currently overlaying the text
       (window too small for the MQ to add the margin to body),
       then auto-close the sidebar once you click on something in there. */
    toc.addEventListener('click', function(e) {
      if(e.target.tagName.toLowerCase() == "a" && document.body.classList.contains('toc-sidebar') && !sidebarMedia.matches) {
        toggleSidebar(false);
      }
    }, false);
  }
  else {
    console.warn("Can’t find Table of Contents. Please use <nav id='toc'> around the ToC.");
  }

  /* Wrap tables in case they overflow */
  var tables = document.querySelectorAll(':not(.overlarge) > table.data, :not(.overlarge) > table.index');
  var numTables = tables.length;
  for (var i = 0; i < numTables; i++) {
    var table = tables[i];
    var wrapper = document.createElement('div');
    wrapper.className = 'overlarge';
    table.parentNode.insertBefore(wrapper, table);
    wrapper.appendChild(table);
  }

})();
</script>
  <h2 class="no-num no-ref heading settled" id="index"><span class="content">Index</span><a class="self-link" href="#index"></a></h2>
  <h3 class="no-num no-ref heading settled" id="index-defined-here"><span class="content">Terms defined by this specification</span><a class="self-link" href="#index-defined-here"></a></h3>
  <ul class="index">
   <li><a href="#alignment">alignment</a><span>, in §3.4.6.3</span>
   <li><a href="#allocation-extent">allocation extent</a><span>, in §3.4.6.3</span>
   <li><a href="#arrayed-texture">arrayed texture</a><span>, in §3.6</span>
   <li><a href="#array-size">array size</a><span>, in §3.6</span>
   <li><a href="#binding">binding</a><span>, in §8.3.2</span>
   <li><a href="#block">block</a><span>, in §3.3.8</span>
   <li><a href="#bool">bool</a><span>, in §3.3.1</span>
   <li><a href="#built-in-input-variable">built-in input variable</a><span>, in §8.3.1.1</span>
   <li><a href="#built-in-output-variable">built-in output variable</a><span>, in §8.3.1.1</span>
   <li><a href="#ceiling-expression">ceiling expression</a><span>, in §1.3</span>
   <li><a href="#channel-format">channel format</a><span>, in §3.6.1</span>
   <li><a href="#channel-formats">Channel Formats</a><span>, in §3.6.1</span>
   <li><a href="#channels">channels</a><span>, in §3.6.1</span>
   <li><a href="#channel-transfer-function">channel transfer function</a><span>, in §3.6.1</span>
   <li><a href="#compute">compute</a><span>, in §8.1</span>
   <li><a href="#compute-shader-grid">compute shader grid</a><span>, in §10.3</span>
   <li><a href="#compute-shader-stage">compute shader stage</a><span>, in §8.1</span>
   <li><a href="#dispatch-size">dispatch size</a><span>, in §10.3</span>
   <li><a href="#entry-point">entry point</a><span>, in §8.2</span>
   <li><a href="#f32">f32</a><span>, in §3.3.3</span>
   <li><a href="#floor-expression">floor expression</a><span>, in §1.3</span>
   <li><a href="#fragment">fragment</a><span>, in §8.1</span>
   <li><a href="#fragment-shader-stage">fragment shader stage</a><span>, in §8.1</span>
   <li><a href="#storage-classes-function">function</a><span>, in §3.4.5</span>
   <li><a href="#function-scope">function scope</a><span>, in §4.3</span>
   <li><a href="#functions-in-a-shader-stage">functions in a shader stage</a><span>, in §8.2</span>
   <li><a href="#global-invocation-id">global invocation ID</a><span>, in §10.3</span>
   <li><a href="#gpucomputepipeline">GPUComputePipeline</a><span>, in §8.1</span>
   <li><a href="#gpurenderpipeline">GPURenderPipeline</a><span>, in §8.1</span>
   <li><a href="#group">group</a><span>, in §8.3.2</span>
   <li><a href="#storage-classes-handle">handle</a><span>, in §3.4.5</span>
   <li><a href="#host-shareable">host-shareable</a><span>, in §3.4.4</span>
   <li><a href="#i32">i32</a><span>, in §3.3.2</span>
   <li><a href="#storage-classes-in">in</a><span>, in §3.4.5</span>
   <li><a href="#in-scope">in scope</a><span>, in §2.7.1</span>
   <li><a href="#interface-of-a-shader-stage">interface of a shader stage</a><span>, in §8.3</span>
   <li><a href="#io-shareable">IO-shareable</a><span>, in §3.4.3</span>
   <li><a href="#local-invocation-id">local invocation ID</a><span>, in §10.3</span>
   <li><a href="#local-invocation-index">local invocation index</a><span>, in §10.3</span>
   <li><a href="#memory-layout">memory layout</a><span>, in §3.4.6</span>
   <li><a href="#module-scope">module scope</a><span>, in §4.1</span>
   <li><a href="#non-arrayed-texture">non-arrayed texture</a><span>, in §3.6</span>
   <li><a href="#numeric-scalar">numeric scalar</a><span>, in §3.3.4</span>
   <li><a href="#numeric-vector">numeric vector</a><span>, in §3.3.5</span>
   <li><a href="#offset">offset</a><span>, in §3.4.4</span>
   <li><a href="#storage-classes-out">out</a><span>, in §3.4.5</span>
   <li><a href="#pipeline">pipeline</a><span>, in §8.1</span>
   <li><a href="#pipeline-input">pipeline input</a><span>, in §8.3.1</span>
   <li><a href="#pipeline-output">pipeline output</a><span>, in §8.3.1</span>
   <li><a href="#storage-classes-private">private</a><span>, in §3.4.5</span>
   <li><a href="#read-only-storage-texture">read-only storage texture</a><span>, in §3.6.4</span>
   <li><a href="#reference-type">reference type</a><span>, in §4</span>
   <li><a href="#resource">resource</a><span>, in §8.3.2</span>
   <li><a href="#resource-interface-of-a-shader">resource interface of a shader</a><span>, in §8.3.2</span>
   <li><a href="#roundup">roundUp</a><span>, in §1.3</span>
   <li><a href="#runtime-sized">runtime-sized</a><span>, in §3.3.7</span>
   <li><a href="#scalar">scalar</a><span>, in §3.3.4</span>
   <li><a href="#shader-stages">shader stages</a><span>, in §8.1</span>
   <li><a href="#stage">stage</a><span>, in §8.2.1</span>
   <li><a href="#standard-buffer-layout-rules">standard buffer layout rules</a><span>, in §3.4.6.3</span>
   <li><a href="#statically-accessed">statically accessed</a><span>, in §8.3</span>
   <li><a href="#storable">storable</a><span>, in §3.4.2</span>
   <li><a href="#storage-classes-storage">storage</a><span>, in §3.4.5</span>
   <li><a href="#storage-buffer">storage buffer</a><span>, in §4.1</span>
   <li><a href="#storage-buffer-layout">storage buffer layout</a><span>, in §3.4.6.3</span>
   <li><a href="#storage-classes">storage classes</a><span>, in §3.4.5</span>
   <li><a href="#storage-texel-formats">storage-texel-formats</a><span>, in §3.6.1</span>
   <li><a href="#store-type">store type</a><span>, in §4</span>
   <li><a href="#stride">stride</a><span>, in §3.4.4</span>
   <li><a href="#texel">texel</a><span>, in §3.6</span>
   <li><a href="#texel-format">texel format</a><span>, in §3.6.1</span>
   <li><a href="#texture">texture</a><span>, in §3.6</span>
   <li><a href="#u32">u32</a><span>, in §3.3.2</span>
   <li><a href="#storage-classes-uniform">uniform</a><span>, in §3.4.5</span>
   <li><a href="#uniform-buffer">uniform buffer</a><span>, in §4.1</span>
   <li><a href="#uniform-buffer-layout">uniform buffer layout</a><span>, in §3.4.6.3</span>
   <li><a href="#variable">variable</a><span>, in §4</span>
   <li><a href="#variable-declaration">variable declaration</a><span>, in §4</span>
   <li><a href="#vertex">vertex</a><span>, in §8.1</span>
   <li><a href="#vertex-shader-stage">vertex shader stage</a><span>, in §8.1</span>
   <li><a href="#void">void</a><span>, in §3.2</span>
   <li>
    workgroup
    <ul>
     <li><a href="#compute-shader-stage-workgroup">dfn for compute shader stage</a><span>, in §10.3</span>
     <li><a href="#storage-classes-workgroup">dfn for storage classes</a><span>, in §3.4.5</span>
    </ul>
   <li><a href="#workgroup-grid">workgroup grid</a><span>, in §10.3</span>
   <li><a href="#workgroup_size">workgroup_size</a><span>, in §8.2.1</span>
   <li><a href="#write-only-storage-texture">write-only storage texture</a><span>, in §3.6.5</span>
  </ul>
  <h2 class="no-num no-ref heading settled" id="references"><span class="content">References</span><a class="self-link" href="#references"></a></h2>
  <h3 class="no-num no-ref heading settled" id="normative"><span class="content">Normative References</span><a class="self-link" href="#normative"></a></h3>
  <dl>
   <dt id="biblio-rfc2119">[RFC2119]
   <dd>S. Bradner. <a href="https://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>. March 1997. Best Current Practice. URL: <a href="https://tools.ietf.org/html/rfc2119">https://tools.ietf.org/html/rfc2119</a>
   <dt id="biblio-vulkanmemorymodel">[VulkanMemoryModel]
   <dd>Jeff Bolz; et al. <a href="https://www.khronos.org/registry/vulkan/specs/1.2-extensions/html/vkspec.html#memory-model">Vulkan Memory Model</a>. URL: <a href="https://www.khronos.org/registry/vulkan/specs/1.2-extensions/html/vkspec.html#memory-model">https://www.khronos.org/registry/vulkan/specs/1.2-extensions/html/vkspec.html#memory-model</a>
   <dt id="biblio-webgpu">[WebGPU]
   <dd>Dzmitry Malyshau; Justin Fan; Kai Ninomiya. <a href="https://gpuweb.github.io/gpuweb/">WebGPU</a>. Editor's Draft. URL: <a href="https://gpuweb.github.io/gpuweb/">https://gpuweb.github.io/gpuweb/</a>
  </dl>
  <h3 class="no-num no-ref heading settled" id="informative"><span class="content">Informative References</span><a class="self-link" href="#informative"></a></h3>
  <dl>
   <dt id="biblio-vulkan12ext">[Vulkan1.2ext]
   <dd>The Khronos Vulkan Working Group. <a href="https://www.khronos.org/registry/vulkan/specs/1.2-extensions/html/vkspec.html">Vulkan 1.2 - A Specification (with all registered Vulkan extensions)</a>. URL: <a href="https://www.khronos.org/registry/vulkan/specs/1.2-extensions/html/vkspec.html">https://www.khronos.org/registry/vulkan/specs/1.2-extensions/html/vkspec.html</a>
  </dl>
  <h2 class="no-num no-ref heading settled" id="issues-index"><span class="content">Issues Index</span><a class="self-link" href="#issues-index"></a></h2>
  <div style="counter-reset:issue">
   <div class="issue"> (dneto) also lifetime.<a href="#issue-398e5f71"> ↵ </a></div>
   <div class="issue"> (dneto) complete<a href="#issue-df2f0761"> ↵ </a></div>
   <div class="issue"> (dneto): Complete description of <code>Array&lt;E,N></code><a href="#issue-6610888b"> ↵ </a></div>
   <div class="issue"> The note about read-only <a data-link-type="dfn" href="#storage-classes-storage">storage</a> variables may change depending
on the outcome of https://github.com/gpuweb/gpuweb/issues/935<a href="#issue-b8ef77ed"> ↵ </a></div>
   <div class="issue"> What happens if the application supplies a constant ID that is not in the program?
Proposal: pipeline creation fails with an error.<a href="#issue-02d80003"> ↵ </a></div>
   <div class="issue"> The WebGPU pipeline creation API must specify how API-supplied values are mapped to
shader scalar values.  For booleans, I suggest using a 32-bit integer, where only 0 maps to <code>false</code>.
If WGSL gains non-32-bit numeric scalars, I recommend overridable constants continue being 32-bit
numeric types.<a href="#issue-d99564c7"> ↵ </a></div>
   <div class="issue"> We should exclude being able to write the zero value for an <a data-link-type="dfn" href="#runtime-sized">runtime-sized</a> array. https://github.com/gpuweb/gpuweb/issues/981<a href="#issue-70336811"> ↵ </a></div>
   <div class="issue"> Can we query upper bounds on workgroup size dimensions?  Is it independent of the shader, or
  a property to be queried after creating the shader module?<a href="#issue-1bad4e2b"> ↵ </a></div>
   <div class="issue"><a href="#issue-d41d8cd9"> ↵ </a></div>
   <div class="issue"> <a href="https://github.com/gpuweb/gpuweb/issues/1045">WebGPU issue 1045</a>:
Dispatch group counts must be positive.
However, how do we handle an indirect dispatch that specifies a group count of zero.<a href="#issue-04b819b3"> ↵ </a></div>
   <div class="issue"> (dneto) Default rounding mode is an implementation choice.  Is that what we want?<a href="#issue-5abef8be"> ↵ </a></div>
   <div class="issue"> Check behaviour of the f32 to f16 conversion for numbers just beyond the max normal f16 values.
I’ve written what an NVIDIA GPU does.  See https://github.com/google/amber/pull/918 for an executable test case.<a href="#issue-d2d1e989"> ↵ </a></div>
   <div class="issue"> (dsinclair) Write out precedence rules. Matches c and glsl rules ....<a href="#issue-038f44df"> ↵ </a></div>
  </div>
  <aside class="dfn-panel" data-for="roundup">
   <b><a href="#roundup">#roundup</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-roundup">3.4.6.3. Layout Constraints and Standard Buffer Layout</a> <a href="#ref-for-roundup①">(2)</a> <a href="#ref-for-roundup②">(3)</a> <a href="#ref-for-roundup③">(4)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="in-scope">
   <b><a href="#in-scope">#in-scope</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-in-scope">8.3. Shader Interface</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="void">
   <b><a href="#void">#void</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-void">8.2. Entry point declaration</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="bool">
   <b><a href="#bool">#bool</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-bool">3.3.4. Scalar Types</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="u32">
   <b><a href="#u32">#u32</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-u32">3.3.4. Scalar Types</a> <a href="#ref-for-u32①">(2)</a>
    <li><a href="#ref-for-u32②">3.4.6.2. Internal Layout of Values</a>
    <li><a href="#ref-for-u32③">3.4.6.3. Layout Constraints and Standard Buffer Layout</a> <a href="#ref-for-u32④">(2)</a> <a href="#ref-for-u32⑤">(3)</a> <a href="#ref-for-u32⑥">(4)</a> <a href="#ref-for-u32⑦">(5)</a> <a href="#ref-for-u32⑧">(6)</a>
    <li><a href="#ref-for-u32⑨">5.4. Conversion Expressions</a>
    <li><a href="#ref-for-u32①⓪">5.5. Reinterpretation of Representation Expressions</a>
    <li><a href="#ref-for-u32①①">10.5.1. Floating point conversion</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="i32">
   <b><a href="#i32">#i32</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-i32">3.3.4. Scalar Types</a> <a href="#ref-for-i32①">(2)</a>
    <li><a href="#ref-for-i32②">3.4.6.2. Internal Layout of Values</a> <a href="#ref-for-i32③">(2)</a>
    <li><a href="#ref-for-i32④">3.4.6.3. Layout Constraints and Standard Buffer Layout</a> <a href="#ref-for-i32⑤">(2)</a> <a href="#ref-for-i32⑥">(3)</a> <a href="#ref-for-i32⑦">(4)</a> <a href="#ref-for-i32⑧">(5)</a> <a href="#ref-for-i32⑨">(6)</a>
    <li><a href="#ref-for-i32①⓪">5.4. Conversion Expressions</a>
    <li><a href="#ref-for-i32①①">5.5. Reinterpretation of Representation Expressions</a>
    <li><a href="#ref-for-i32①②">10.5.1. Floating point conversion</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="f32">
   <b><a href="#f32">#f32</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-f32">3.3.4. Scalar Types</a> <a href="#ref-for-f32①">(2)</a>
    <li><a href="#ref-for-f32②">3.4.6.2. Internal Layout of Values</a>
    <li><a href="#ref-for-f32③">3.4.6.3. Layout Constraints and Standard Buffer Layout</a> <a href="#ref-for-f32④">(2)</a> <a href="#ref-for-f32⑤">(3)</a> <a href="#ref-for-f32⑥">(4)</a> <a href="#ref-for-f32⑦">(5)</a> <a href="#ref-for-f32⑧">(6)</a>
    <li><a href="#ref-for-f32⑨">5.5. Reinterpretation of Representation Expressions</a>
    <li><a href="#ref-for-f32①⓪">10.5.1. Floating point conversion</a> <a href="#ref-for-f32①①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="scalar">
   <b><a href="#scalar">#scalar</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-scalar">3.1.2. How to read type-checking rules</a>
    <li><a href="#ref-for-scalar①">3.3.5. Vector Types</a>
    <li><a href="#ref-for-scalar②">4.2. Module Constants</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="numeric-scalar">
   <b><a href="#numeric-scalar">#numeric-scalar</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-numeric-scalar">3.3.5. Vector Types</a>
    <li><a href="#ref-for-numeric-scalar①">3.4.3. IO-shareable Types</a>
    <li><a href="#ref-for-numeric-scalar②">3.4.4. Host-shareable Types</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="numeric-vector">
   <b><a href="#numeric-vector">#numeric-vector</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-numeric-vector">3.4.3. IO-shareable Types</a>
    <li><a href="#ref-for-numeric-vector①">3.4.4. Host-shareable Types</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="runtime-sized">
   <b><a href="#runtime-sized">#runtime-sized</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-runtime-sized">3.4.3. IO-shareable Types</a>
    <li><a href="#ref-for-runtime-sized①">3.4.4. Host-shareable Types</a>
    <li><a href="#ref-for-runtime-sized②">3.4.6.3. Layout Constraints and Standard Buffer Layout</a> <a href="#ref-for-runtime-sized③">(2)</a>
    <li><a href="#ref-for-runtime-sized④">5.3. Zero Value Expressions</a>
    <li><a href="#ref-for-runtime-sized⑤">8.3.3. Resource layout compatibility</a> <a href="#ref-for-runtime-sized⑥">(2)</a> <a href="#ref-for-runtime-sized⑦">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="block">
   <b><a href="#block">#block</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-block">3.3.8. Structure Types</a>
    <li><a href="#ref-for-block①">4.1. Module Scope Variables</a> <a href="#ref-for-block②">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="storable">
   <b><a href="#storable">#storable</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-storable">3.4. Memory TODO</a>
    <li><a href="#ref-for-storable①">3.4.5. Storage Classes</a> <a href="#ref-for-storable②">(2)</a> <a href="#ref-for-storable③">(3)</a>
    <li><a href="#ref-for-storable④">3.5. Pointer Types TODO</a>
    <li><a href="#ref-for-storable⑤">4.3. Function Scope Variables and Constants</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="io-shareable">
   <b><a href="#io-shareable">#io-shareable</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-io-shareable">3.4.4. Host-shareable Types</a>
    <li><a href="#ref-for-io-shareable①">3.4.5. Storage Classes</a> <a href="#ref-for-io-shareable②">(2)</a>
    <li><a href="#ref-for-io-shareable③">8.3.1. Pipeline Input and Output Interface</a> <a href="#ref-for-io-shareable④">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="host-shareable">
   <b><a href="#host-shareable">#host-shareable</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-host-shareable">3.4.5. Storage Classes</a> <a href="#ref-for-host-shareable①">(2)</a>
    <li><a href="#ref-for-host-shareable②">3.4.6. Memory Layout</a> <a href="#ref-for-host-shareable③">(2)</a>
    <li><a href="#ref-for-host-shareable④">4.1. Module Scope Variables</a> <a href="#ref-for-host-shareable⑤">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="stride">
   <b><a href="#stride">#stride</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-stride">3.4.4. Host-shareable Types</a> <a href="#ref-for-stride①">(2)</a>
    <li><a href="#ref-for-stride②">3.4.6. Memory Layout</a> <a href="#ref-for-stride③">(2)</a>
    <li><a href="#ref-for-stride④">3.4.6.2. Internal Layout of Values</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="offset">
   <b><a href="#offset">#offset</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-offset">3.4.4. Host-shareable Types</a> <a href="#ref-for-offset①">(2)</a>
    <li><a href="#ref-for-offset②">3.4.6. Memory Layout</a> <a href="#ref-for-offset③">(2)</a>
    <li><a href="#ref-for-offset④">3.4.6.2. Internal Layout of Values</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="storage-classes">
   <b><a href="#storage-classes">#storage-classes</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-storage-classes">3.4.6.2. Internal Layout of Values</a>
    <li><a href="#ref-for-storage-classes①">3.4.6.3. Layout Constraints and Standard Buffer Layout</a> <a href="#ref-for-storage-classes②">(2)</a>
    <li><a href="#ref-for-storage-classes③">3.5. Pointer Types TODO</a>
    <li><a href="#ref-for-storage-classes④">3.5.1. Abstract Operations on Pointers TODO</a>
    <li><a href="#ref-for-storage-classes⑤">4. Variable and const</a>
    <li><a href="#ref-for-storage-classes⑥">8.3. Shader Interface</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="storage-classes-in">
   <b><a href="#storage-classes-in">#storage-classes-in</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-storage-classes-in">4.1. Module Scope Variables</a> <a href="#ref-for-storage-classes-in①">(2)</a>
    <li><a href="#ref-for-storage-classes-in②">8.3. Shader Interface</a>
    <li><a href="#ref-for-storage-classes-in③">8.3.1. Pipeline Input and Output Interface</a>
    <li><a href="#ref-for-storage-classes-in④">8.3.1.1. Built-in inputs and outputs</a> <a href="#ref-for-storage-classes-in⑤">(2)</a> <a href="#ref-for-storage-classes-in⑥">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="storage-classes-out">
   <b><a href="#storage-classes-out">#storage-classes-out</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-storage-classes-out">4. Variable and const</a> <a href="#ref-for-storage-classes-out①">(2)</a>
    <li><a href="#ref-for-storage-classes-out②">4.1. Module Scope Variables</a> <a href="#ref-for-storage-classes-out③">(2)</a>
    <li><a href="#ref-for-storage-classes-out④">8.3. Shader Interface</a>
    <li><a href="#ref-for-storage-classes-out⑤">8.3.1. Pipeline Input and Output Interface</a>
    <li><a href="#ref-for-storage-classes-out⑥">8.3.1.1. Built-in inputs and outputs</a> <a href="#ref-for-storage-classes-out⑦">(2)</a> <a href="#ref-for-storage-classes-out⑧">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="storage-classes-function">
   <b><a href="#storage-classes-function">#storage-classes-function</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-storage-classes-function">4. Variable and const</a> <a href="#ref-for-storage-classes-function①">(2)</a>
    <li><a href="#ref-for-storage-classes-function②">4.1. Module Scope Variables</a>
    <li><a href="#ref-for-storage-classes-function③">4.3. Function Scope Variables and Constants</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="storage-classes-private">
   <b><a href="#storage-classes-private">#storage-classes-private</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-storage-classes-private">4. Variable and const</a> <a href="#ref-for-storage-classes-private①">(2)</a>
    <li><a href="#ref-for-storage-classes-private②">4.1. Module Scope Variables</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="storage-classes-workgroup">
   <b><a href="#storage-classes-workgroup">#storage-classes-workgroup</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-storage-classes-workgroup">10.3. Compute Shaders and Workgroups</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="storage-classes-uniform">
   <b><a href="#storage-classes-uniform">#storage-classes-uniform</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-storage-classes-uniform">3.4.6. Memory Layout</a> <a href="#ref-for-storage-classes-uniform①">(2)</a> <a href="#ref-for-storage-classes-uniform②">(3)</a>
    <li><a href="#ref-for-storage-classes-uniform③">3.4.6.1. Memory Layout Intent</a>
    <li><a href="#ref-for-storage-classes-uniform④">3.4.6.2. Internal Layout of Values</a> <a href="#ref-for-storage-classes-uniform⑤">(2)</a> <a href="#ref-for-storage-classes-uniform⑥">(3)</a>
    <li><a href="#ref-for-storage-classes-uniform⑦">4.1. Module Scope Variables</a> <a href="#ref-for-storage-classes-uniform⑧">(2)</a>
    <li><a href="#ref-for-storage-classes-uniform⑨">8.3. Shader Interface</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="storage-classes-storage">
   <b><a href="#storage-classes-storage">#storage-classes-storage</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-storage-classes-storage">3.3.7. Array Types</a>
    <li><a href="#ref-for-storage-classes-storage①">3.4.5. Storage Classes</a>
    <li><a href="#ref-for-storage-classes-storage②">3.4.6. Memory Layout</a> <a href="#ref-for-storage-classes-storage③">(2)</a> <a href="#ref-for-storage-classes-storage④">(3)</a>
    <li><a href="#ref-for-storage-classes-storage⑤">3.4.6.1. Memory Layout Intent</a>
    <li><a href="#ref-for-storage-classes-storage⑥">3.4.6.2. Internal Layout of Values</a> <a href="#ref-for-storage-classes-storage⑦">(2)</a> <a href="#ref-for-storage-classes-storage⑧">(3)</a>
    <li><a href="#ref-for-storage-classes-storage⑨">3.4.6.3. Layout Constraints and Standard Buffer Layout</a> <a href="#ref-for-storage-classes-storage①⓪">(2)</a> <a href="#ref-for-storage-classes-storage①①">(3)</a> <a href="#ref-for-storage-classes-storage①②">(4)</a> <a href="#ref-for-storage-classes-storage①③">(5)</a> <a href="#ref-for-storage-classes-storage①④">(6)</a> <a href="#ref-for-storage-classes-storage①⑤">(7)</a> <a href="#ref-for-storage-classes-storage①⑥">(8)</a> <a href="#ref-for-storage-classes-storage①⑦">(9)</a> <a href="#ref-for-storage-classes-storage①⑧">(10)</a>
    <li><a href="#ref-for-storage-classes-storage①⑨">4. Variable and const</a> <a href="#ref-for-storage-classes-storage②⓪">(2)</a> <a href="#ref-for-storage-classes-storage②①">(3)</a>
    <li><a href="#ref-for-storage-classes-storage②②">4.1. Module Scope Variables</a> <a href="#ref-for-storage-classes-storage②③">(2)</a>
    <li><a href="#ref-for-storage-classes-storage②④">8.3. Shader Interface</a>
    <li><a href="#ref-for-storage-classes-storage②⑤">8.3.3. Resource layout compatibility</a> <a href="#ref-for-storage-classes-storage②⑥">(2)</a> <a href="#ref-for-storage-classes-storage②⑦">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="storage-classes-handle">
   <b><a href="#storage-classes-handle">#storage-classes-handle</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-storage-classes-handle">3.6. Texture and Sampler Types</a>
    <li><a href="#ref-for-storage-classes-handle①">4. Variable and const</a>
    <li><a href="#ref-for-storage-classes-handle②">4.1. Module Scope Variables</a>
    <li><a href="#ref-for-storage-classes-handle③">8.3. Shader Interface</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="allocation-extent">
   <b><a href="#allocation-extent">#allocation-extent</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-allocation-extent">8.3.3. Resource layout compatibility</a> <a href="#ref-for-allocation-extent①">(2)</a> <a href="#ref-for-allocation-extent②">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="standard-buffer-layout-rules">
   <b><a href="#standard-buffer-layout-rules">#standard-buffer-layout-rules</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-standard-buffer-layout-rules">3.4.6.1. Memory Layout Intent</a>
    <li><a href="#ref-for-standard-buffer-layout-rules①">3.4.6.3. Layout Constraints and Standard Buffer Layout</a> <a href="#ref-for-standard-buffer-layout-rules②">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="uniform-buffer-layout">
   <b><a href="#uniform-buffer-layout">#uniform-buffer-layout</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-uniform-buffer-layout">3.4.6. Memory Layout</a>
    <li><a href="#ref-for-uniform-buffer-layout①">3.4.6.1. Memory Layout Intent</a>
    <li><a href="#ref-for-uniform-buffer-layout②">4.1. Module Scope Variables</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="storage-buffer-layout">
   <b><a href="#storage-buffer-layout">#storage-buffer-layout</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-storage-buffer-layout">3.4.6. Memory Layout</a>
    <li><a href="#ref-for-storage-buffer-layout①">3.4.6.1. Memory Layout Intent</a>
    <li><a href="#ref-for-storage-buffer-layout②">4.1. Module Scope Variables</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="texture">
   <b><a href="#texture">#texture</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-texture">3.6. Texture and Sampler Types</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="channel-formats">
   <b><a href="#channel-formats">#channel-formats</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-channel-formats">3.6.1. Texel formats</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="channel-transfer-function">
   <b><a href="#channel-transfer-function">#channel-transfer-function</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-channel-transfer-function">3.6.1. Texel formats</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="storage-texel-formats">
   <b><a href="#storage-texel-formats">#storage-texel-formats</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-storage-texel-formats">3.6.4. Read-only Storage Texture Types</a>
    <li><a href="#ref-for-storage-texel-formats①">3.6.5. Write-only Storage Texture Types</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="read-only-storage-texture">
   <b><a href="#read-only-storage-texture">#read-only-storage-texture</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-read-only-storage-texture">8.3.3. Resource layout compatibility</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="write-only-storage-texture">
   <b><a href="#write-only-storage-texture">#write-only-storage-texture</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-write-only-storage-texture">8.3.3. Resource layout compatibility</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="store-type">
   <b><a href="#store-type">#store-type</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-store-type">3.3.7. Array Types</a>
    <li><a href="#ref-for-store-type①">3.3.8. Structure Types</a>
    <li><a href="#ref-for-store-type②">3.4.4. Host-shareable Types</a>
    <li><a href="#ref-for-store-type③">3.4.6. Memory Layout</a>
    <li><a href="#ref-for-store-type④">3.6. Texture and Sampler Types</a>
    <li><a href="#ref-for-store-type⑤">4.1. Module Scope Variables</a> <a href="#ref-for-store-type⑥">(2)</a> <a href="#ref-for-store-type⑦">(3)</a> <a href="#ref-for-store-type⑧">(4)</a>
    <li><a href="#ref-for-store-type⑨">4.3. Function Scope Variables and Constants</a>
    <li><a href="#ref-for-store-type①⓪">8.3.1.1. Built-in inputs and outputs</a> <a href="#ref-for-store-type①①">(2)</a>
    <li><a href="#ref-for-store-type①②">8.3.3. Resource layout compatibility</a> <a href="#ref-for-store-type①③">(2)</a> <a href="#ref-for-store-type①④">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="module-scope">
   <b><a href="#module-scope">#module-scope</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-module-scope">3.4.5. Storage Classes</a> <a href="#ref-for-module-scope①">(2)</a> <a href="#ref-for-module-scope②">(3)</a> <a href="#ref-for-module-scope③">(4)</a> <a href="#ref-for-module-scope④">(5)</a> <a href="#ref-for-module-scope⑤">(6)</a> <a href="#ref-for-module-scope⑥">(7)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="uniform-buffer">
   <b><a href="#uniform-buffer">#uniform-buffer</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-uniform-buffer">3.3.8. Structure Types</a> <a href="#ref-for-uniform-buffer①">(2)</a>
    <li><a href="#ref-for-uniform-buffer②">3.4.4. Host-shareable Types</a>
    <li><a href="#ref-for-uniform-buffer③">3.4.5. Storage Classes</a>
    <li><a href="#ref-for-uniform-buffer④">3.4.6. Memory Layout</a>
    <li><a href="#ref-for-uniform-buffer⑤">8.3.2. Resource interface</a>
    <li><a href="#ref-for-uniform-buffer⑥">8.3.3. Resource layout compatibility</a> <a href="#ref-for-uniform-buffer⑦">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="storage-buffer">
   <b><a href="#storage-buffer">#storage-buffer</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-storage-buffer">3.3.8. Structure Types</a> <a href="#ref-for-storage-buffer①">(2)</a>
    <li><a href="#ref-for-storage-buffer②">3.4.4. Host-shareable Types</a>
    <li><a href="#ref-for-storage-buffer③">3.4.5. Storage Classes</a>
    <li><a href="#ref-for-storage-buffer④">3.4.6. Memory Layout</a>
    <li><a href="#ref-for-storage-buffer⑤">8.3.2. Resource interface</a>
    <li><a href="#ref-for-storage-buffer⑥">8.3.3. Resource layout compatibility</a> <a href="#ref-for-storage-buffer⑦">(2)</a> <a href="#ref-for-storage-buffer⑧">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="function-scope">
   <b><a href="#function-scope">#function-scope</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-function-scope">3.4.5. Storage Classes</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="compute-shader-stage">
   <b><a href="#compute-shader-stage">#compute-shader-stage</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-compute-shader-stage">3.4.5. Storage Classes</a>
    <li><a href="#ref-for-compute-shader-stage①">8.2.1. Function attributes for entry points</a>
    <li><a href="#ref-for-compute-shader-stage②">10.3. Compute Shaders and Workgroups</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="shader-stages">
   <b><a href="#shader-stages">#shader-stages</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-shader-stages">3.4.5. Storage Classes</a> <a href="#ref-for-shader-stages①">(2)</a>
    <li><a href="#ref-for-shader-stages②">8.2. Entry point declaration</a>
    <li><a href="#ref-for-shader-stages③">8.3. Shader Interface</a>
    <li><a href="#ref-for-shader-stages④">8.3.2. Resource interface</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="compute">
   <b><a href="#compute">#compute</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-compute">8.2.1. Function attributes for entry points</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="fragment">
   <b><a href="#fragment">#fragment</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-fragment">6.2.10. Discard TODO</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="entry-point">
   <b><a href="#entry-point">#entry-point</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-entry-point">10.3. Compute Shaders and Workgroups</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="functions-in-a-shader-stage">
   <b><a href="#functions-in-a-shader-stage">#functions-in-a-shader-stage</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-functions-in-a-shader-stage">8.3. Shader Interface</a>
    <li><a href="#ref-for-functions-in-a-shader-stage①">8.3.1.1. Built-in inputs and outputs</a>
    <li><a href="#ref-for-functions-in-a-shader-stage②">8.3.2. Resource interface</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="workgroup_size">
   <b><a href="#workgroup_size">#workgroup_size</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-workgroup_size">10.3. Compute Shaders and Workgroups</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="statically-accessed">
   <b><a href="#statically-accessed">#statically-accessed</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-statically-accessed">8.3. Shader Interface</a>
    <li><a href="#ref-for-statically-accessed①">8.3.1.1. Built-in inputs and outputs</a>
    <li><a href="#ref-for-statically-accessed②">8.3.2. Resource interface</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="resource-interface-of-a-shader">
   <b><a href="#resource-interface-of-a-shader">#resource-interface-of-a-shader</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-resource-interface-of-a-shader">3.3.8. Structure Types</a>
    <li><a href="#ref-for-resource-interface-of-a-shader①">4.1. Module Scope Variables</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="group">
   <b><a href="#group">#group</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-group">4.1. Module Scope Variables</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="binding">
   <b><a href="#binding">#binding</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-binding">4.1. Module Scope Variables</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="compute-shader-stage-workgroup">
   <b><a href="#compute-shader-stage-workgroup">#compute-shader-stage-workgroup</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-compute-shader-stage-workgroup">3.4.5. Storage Classes</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="workgroup-grid">
   <b><a href="#workgroup-grid">#workgroup-grid</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-workgroup-grid">8.2.1. Function attributes for entry points</a>
    <li><a href="#ref-for-workgroup-grid①">14. Built-in variables</a> <a href="#ref-for-workgroup-grid②">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="local-invocation-id">
   <b><a href="#local-invocation-id">#local-invocation-id</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-local-invocation-id">10.3. Compute Shaders and Workgroups</a>
    <li><a href="#ref-for-local-invocation-id①">14. Built-in variables</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="local-invocation-index">
   <b><a href="#local-invocation-index">#local-invocation-index</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-local-invocation-index">14. Built-in variables</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="compute-shader-grid">
   <b><a href="#compute-shader-grid">#compute-shader-grid</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-compute-shader-grid">14. Built-in variables</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="global-invocation-id">
   <b><a href="#global-invocation-id">#global-invocation-id</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-global-invocation-id">14. Built-in variables</a>
   </ul>
  </aside>
<script>/* script-dfn-panel */

document.body.addEventListener("click", function(e) {
    var queryAll = function(sel) { return [].slice.call(document.querySelectorAll(sel)); }
    // Find the dfn element or panel, if any, that was clicked on.
    var el = e.target;
    var target;
    var hitALink = false;
    while(el.parentElement) {
        if(el.tagName == "A") {
            // Clicking on a link in a <dfn> shouldn't summon the panel
            hitALink = true;
        }
        if(el.classList.contains("dfn-paneled")) {
            target = "dfn";
            break;
        }
        if(el.classList.contains("dfn-panel")) {
            target = "dfn-panel";
            break;
        }
        el = el.parentElement;
    }
    if(target != "dfn-panel") {
        // Turn off any currently "on" or "activated" panels.
        queryAll(".dfn-panel.on, .dfn-panel.activated").forEach(function(el){
            el.classList.remove("on");
            el.classList.remove("activated");
        });
    }
    if(target == "dfn" && !hitALink) {
        // open the panel
        var dfnPanel = document.querySelector(".dfn-panel[data-for='" + el.id + "']");
        if(dfnPanel) {
            dfnPanel.classList.add("on");
            var rect = el.getBoundingClientRect();
            dfnPanel.style.left = window.scrollX + rect.right + 5 + "px";
            dfnPanel.style.top = window.scrollY + rect.top + "px";
            var panelRect = dfnPanel.getBoundingClientRect();
            var panelWidth = panelRect.right - panelRect.left;
            if(panelRect.right > document.body.scrollWidth && (rect.left - (panelWidth + 5)) > 0) {
                // Reposition, because the panel is overflowing
                dfnPanel.style.left = window.scrollX + rect.left - (panelWidth + 5) + "px";
            }
        } else {
            console.log("Couldn't find .dfn-panel[data-for='" + el.id + "']");
        }
    } else if(target == "dfn-panel") {
        // Switch it to "activated" state, which pins it.
        el.classList.add("activated");
        el.style.left = null;
        el.style.top = null;
    }

});
</script>
<script>/* script-var-click-highlighting */

    document.addEventListener("click", e=>{
        if(e.target.nodeName == "VAR") {
            highlightSameAlgoVars(e.target);
        }
    });
    {
        const indexCounts = new Map();
        const indexNames = new Map();
        function highlightSameAlgoVars(v) {
            // Find the algorithm container.
            let algoContainer = null;
            let searchEl = v;
            while(algoContainer == null && searchEl != document.body) {
                searchEl = searchEl.parentNode;
                if(searchEl.hasAttribute("data-algorithm")) {
                    algoContainer = searchEl;
                }
            }

            // Not highlighting document-global vars,
            // too likely to be unrelated.
            if(algoContainer == null) return;

            const algoName = algoContainer.getAttribute("data-algorithm");
            const varName = getVarName(v);
            const addClass = !v.classList.contains("selected");
            let highlightClass = null;
            if(addClass) {
                const index = chooseHighlightIndex(algoName, varName);
                indexCounts.get(algoName)[index] += 1;
                indexNames.set(algoName+"///"+varName, index);
                highlightClass = nameFromIndex(index);
            } else {
                const index = previousHighlightIndex(algoName, varName);
                indexCounts.get(algoName)[index] -= 1;
                highlightClass = nameFromIndex(index);
            }

            // Find all same-name vars, and toggle their class appropriately.
            for(const el of algoContainer.querySelectorAll("var")) {
                if(getVarName(el) == varName) {
                    el.classList.toggle("selected", addClass);
                    el.classList.toggle(highlightClass, addClass);
                }
            }
        }
        function getVarName(el) {
            return el.textContent.replace(/(\s| )+/, " ").trim();
        }
        function chooseHighlightIndex(algoName, varName) {
            let indexes = null;
            if(indexCounts.has(algoName)) {
                indexes = indexCounts.get(algoName);
            } else {
                // 7 classes right now
                indexes = [0,0,0,0,0,0,0];
                indexCounts.set(algoName, indexes);
            }

            // If the element was recently unclicked,
            // *and* that color is still unclaimed,
            // give it back the same color.
            const lastIndex = previousHighlightIndex(algoName, varName);
            if(indexes[lastIndex] === 0) return lastIndex;

            // Find the earliest index with the lowest count.
            const minCount = Math.min.apply(null, indexes);
            let index = null;
            for(var i = 0; i < indexes.length; i++) {
                if(indexes[i] == minCount) {
                    return i;
                }
            }
        }
        function previousHighlightIndex(algoName, varName) {
            return indexNames.get(algoName+"///"+varName);
        }
        function nameFromIndex(index) {
            return "selected" + index;
        }
    }
    </script>